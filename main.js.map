{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack-template/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://webpack-template/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://webpack-template/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://webpack-template/./node_modules/css-loader/dist/runtime/api.js","webpack://webpack-template/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://webpack-template/./src/styles.css","webpack://webpack-template/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://webpack-template/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://webpack-template/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://webpack-template/webpack/bootstrap","webpack://webpack-template/webpack/runtime/compat get default export","webpack://webpack-template/webpack/runtime/define property getters","webpack://webpack-template/webpack/runtime/global","webpack://webpack-template/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-template/webpack/runtime/publicPath","webpack://webpack-template/webpack/runtime/nonce","webpack://webpack-template/./src/styles.css?44b2","webpack://webpack-template/./node_modules/@vaadin/component-base/src/define.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/version.js","webpack://webpack-template/./node_modules/@lit/reactive-element/css-tag.js","webpack://webpack-template/./node_modules/@lit/reactive-element/reactive-element.js","webpack://webpack-template/./node_modules/lit-html/lit-html.js","webpack://webpack-template/./node_modules/lit-element/lit-element.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-themable-mixin/vaadin-theme-property-mixin.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-themable-mixin/src/css-utils.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/global.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-themable-mixin/register-styles.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/color.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/font-icons.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/sizing.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/spacing.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/style.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-lumo-styles/typography.js","webpack://webpack-template/./node_modules/@vaadin/checkbox/theme/lumo/vaadin-checkbox-styles.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/boot.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/resolve-url.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/settings.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/mixin.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/elements/dom-module.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/style-gather.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/wrap.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/path.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/case-map.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/async.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/mixins/properties-changed.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/mixins/property-accessors.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/mixins/template-stamp.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/mixins/property-effects.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/telemetry.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/mixins/properties-mixin.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/mixins/element-mixin.js","webpack://webpack-template/./node_modules/@polymer/polymer/lib/utils/html-tag.js","webpack://webpack-template/./node_modules/@polymer/polymer/polymer-element.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js","webpack://webpack-template/./node_modules/@vaadin/vaadin-usage-statistics/vaadin-usage-statistics-collect.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/async.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/debounce.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/dir-mixin.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/element-mixin.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/dom-utils.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/slot-observer.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/unique-id-utils.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/slot-controller.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/tooltip-controller.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/gestures.js","webpack://webpack-template/./node_modules/@open-wc/dedupe-mixin/src/dedupeMixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/disabled-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/keyboard-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/active-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/focus-utils.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/focus-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/tabindex-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/delegate-focus-mixin.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/slot-styles-mixin.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/delegate-state-mixin.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/input-mixin.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/checked-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/aria-id-reference.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/field-aria-controller.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/controller-mixin.js","webpack://webpack-template/./node_modules/@vaadin/a11y-base/src/announce.js","webpack://webpack-template/./node_modules/@vaadin/component-base/src/slot-child-observe-controller.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/error-controller.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/helper-controller.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/label-controller.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/label-mixin.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/validate-mixin.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/field-mixin.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/input-controller.js","webpack://webpack-template/./node_modules/@vaadin/field-base/src/labelled-input-controller.js","webpack://webpack-template/./node_modules/@vaadin/checkbox/src/vaadin-checkbox-mixin.js","webpack://webpack-template/./node_modules/@vaadin/checkbox/src/vaadin-checkbox.js","webpack://webpack-template/./node_modules/@vaadin/checkbox/src/vaadin-checkbox-styles.js","webpack://webpack-template/./node_modules/sortablejs/modular/sortable.esm.js","webpack://webpack-template/./src/popup.js","webpack://webpack-template/./src/todo-item.js","webpack://webpack-template/./src/storage.js","webpack://webpack-template/./src/add-todo-popup.js","webpack://webpack-template/./src/render-page.js","webpack://webpack-template/./src/opacity-animation.js","webpack://webpack-template/./src/sidebar.js","webpack://webpack-template/./src/add-project-popup.js","webpack://webpack-template/./src/add-category-popup.js","webpack://webpack-template/./src/project-manager.js","webpack://webpack-template/./src/project.js","webpack://webpack-template/./src/toggleWidthAnim.js","webpack://webpack-template/./src/index.js","webpack://webpack-template/./src/hookupSidebarAnim.js"],"sourcesContent":["\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `* {\n  box-sizing: border-box;\n  font-family: Roboto, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\",\n    Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n}\n\n:root {\n  --sidebar-bg-color: #fcfaf8;\n  --content-bg-color: white;\n  --accent-color: #dc4c3e;\n  --main-text-color: #202020;\n  --secondary-text-color: #444444;\n  --light-text-color: #acacac;\n  --lightest-text-color: #e8e8e8;\n  --hover-bg: rgb(248, 235, 227);\n  --selected-bg: rgb(248, 241, 227);\n  --sidebar-width: 250px;\n}\n\np,\nh1,\nh2,\nh3 {\n  margin: 0;\n  -webkit-user-select: none; /* Safari */\n  -ms-user-select: none; /* IE 10 and IE 11 */\n  user-select: none; /* Standard syntax */\n}\n\nbody {\n  background-color: black;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n#container {\n  display: flex;\n  width: 100%;\n   height: 100%;\n}\n\n#sidebar {\n  height: 100%;\n  width: var(--sidebar-width);\n  background-color: var(--sidebar-bg-color);\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: column;\n\n  overflow: hidden;\n  will-change: width;\n  flex-shrink: 0;\n  overflow-y: auto;\n}\n\n#sidebar-content {\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  width: 100%;\n}\n\n#sidebar-content > * {\n  margin-top: 20px;\n}\n\n#sidebar-content > :nth-child(2) {\n  margin-top: 5px;\n}\n\n.category {\n  display: flex;\n  flex-direction: column;\n\n  border-bottom: 1px solid var(--light-grey);\n  width: 100%;\n}\n\n.category h2 {\n  color: var(--secondary-text-color);\n  font-size: 1.1rem;\n}\n\n.project-div{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    transition: padding 0.2s;\n    will-change: padding;\n}\n\n.project-div p {\n    font-size: 0.8rem;\n    color: var(--light-text-color);\n}\n\n\n.project-div,\n.category-title-div {\n  padding: 10px;\n  border-radius: 5px;\n  padding-left: 10px;\n}\n\n.category-title-div {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.category-title-div h2, .project-div h3{\n  max-width: 185px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n\n.category-title-div p {\n  color: var(--light-text-color);\n  padding: 5px;\n}\n\n.category-title-div p:hover{\n  cursor: pointer;\n}\n\n.category-title-div:hover * {\n  color: var(--accent-color);\n}\n\n.category h3 {\n  font-size: 0.9rem;\n  font-weight: 300;\n}\n\n.project-div:hover, .category-title-div:hover {\n  background-color: var(--hover-bg);\n}\n\n.project-div:hover{\n  cursor: pointer;\n}\n\n.category h2,\n.category h3 {\n  flex-shrink: 0;\n}\n\n#open-btn,\n#close-btn {\n  cursor: pointer;\n  padding: 8px 0;\n  border: none;\n  border-radius: 10px;\n\n  will-change: opacity, transition;\n  transition: opacity 0.8s;\n}\n\n#open-btn {\n  visibility: collapse;\n  opacity: 0;\n}\n\n.topbar {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 10px;\n}\n\n#sidebar .topbar {\n  gap: 70%;\n}\n\n#content {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100%;\n  overflow-y: auto;\n  flex-grow: 1;\n  background-color: var(--content-bg-color);\n}\n\n\n#todo-container{\n  width: 80%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.sortable-container{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  flex-grow: 1;\n  width: 100%;\n}\n\n.todo-item, .add-todo-container{\n  border-bottom: 1px solid var(--lightest-text-color);\n  padding: 8px 0;\n}\n\n.todo-item{\n  width: 100%;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n\n  cursor: pointer;\n}\n\n.todo-item, .add-todo-container{\n  max-width: 800px;\n}\n\n.todo-item-content{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.todo-item h3{\n  font-size: 0.85rem;\n  font-weight: 400;\n  color: var(--secondary-text-color);\n}\n\n.todo-item *, .add-todo-container *{\n  min-width: max-content;\n}\n\n.todo-item p{\n  font-size: 0.75rem;\n  font-weight: 300;\n  color: var(--light-text-color);\n}\n\nvaadin-checkbox {\n  scale: 0.95;\n  cursor:pointer;\n}\n\n.add-todo-container{\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  width: 100%;\n  gap: 5px;\n}\n\n.add-todo-container:hover{\n  cursor: pointer;\n}\n\n.add-todo-container p{\n  color: var(--light-text-color);\n  font-size: 0.9rem;\n  font-weight: 300;\n}\n\n.add-todo-container:hover *{\n  color: var(--accent-color);\n}\n\n.todo-popup{\n  width: 330px;\n  height: 380px;\n  padding: 8px;\n\n  display: grid;\n  grid-template-columns: 5fr 100px;\n  grid-template-rows:20px 50px 25px 25px 1fr 40px;\n  grid-template-areas: \n  \"lo lo\"\n  \"title title\"\n  \"desc date\"\n  \"desc prio\"\n  \"desc .\"\n  \"desc save\"\n  ;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 11px;\n}\n\ninput{\n  width: 100%;\n  border: 1px solid var(--lightest-text-color);\n  padding: 5px;\n  border-radius: 10px;\n}\n\nselect, textarea{\n  padding: 5px;\n  border-radius: 10px;\n  border: 1px solid var(--lightest-text-color);\n  font-weight: 300;\n}\n\ndialog {\n  border: 0;\n  border-radius: 10px;\n  box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.111);\n}\n\ninput{\n  font-weight: 300;\n}\n\n.popup-title{\n  font-size: 1.13rem;\n  padding: 10px;\n  height: 100%;\n  grid-area: title;\n}\n\n.popup-desc{\n  resize: none;\n  height: 100%;\n  grid-area: desc;\n  font-size: 1rem;\n  font-weight: 200;\n}\n\n.popup-save{\n  align-self: flex-end;\n  grid-area: save;\n  width: 100%;\n  height: 32px;\n  background-color: var(--accent-color);\n  color: #e8e8e8;\n  border-radius: 5px;\n  border: 0;\n  font-size: 0.95rem;\n  font-weight: 400;\n\n  transition: background-color 0.3s;\n}\n\n.popup-prio{\n  grid-area: prio;\n}\n\n.popup-duedate{\n  grid-area: date\n}\n\n.popup-save:hover{\n  background-color: var(--accent-color);\n  color: white;\n  cursor: pointer;\n}\n\ninput:active,\ntextarea:active,\nselect:active,\ninput:focus,\ntextarea:focus,\nselect:focus {\n  outline: none;\n  box-shadow: none;\n  border: 1px solid var(--light-text-color); \n  background-color: white; \n}\n\n\n.project-popup{\n  width: 330px;\n  height: 120px;\n  padding: 8px;\n\n  display: grid;\n  grid-template-columns: 1fr 100px;\n  grid-template-rows:1fr 40px;\n  grid-template-areas: \n  \"name name\"\n  \". save\"\n  ;\n\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  gap: 11px;\n}\n\n.project-popup .popup-title{\n  grid-area: name;\n}\n\n.category-padding{\n  padding: 10px;\n}\n\n.amount-remove-div{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n}\n\n.amount-remove-div img {\n  scale: 0.9;\n}\n\nimg:hover{\n  cursor: pointer;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"* {\\n  box-sizing: border-box;\\n  font-family: Roboto, system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\",\\n    Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\n\\n:root {\\n  --sidebar-bg-color: #fcfaf8;\\n  --content-bg-color: white;\\n  --accent-color: #dc4c3e;\\n  --main-text-color: #202020;\\n  --secondary-text-color: #444444;\\n  --light-text-color: #acacac;\\n  --lightest-text-color: #e8e8e8;\\n  --hover-bg: rgb(248, 235, 227);\\n  --selected-bg: rgb(248, 241, 227);\\n  --sidebar-width: 250px;\\n}\\n\\np,\\nh1,\\nh2,\\nh3 {\\n  margin: 0;\\n  -webkit-user-select: none; /* Safari */\\n  -ms-user-select: none; /* IE 10 and IE 11 */\\n  user-select: none; /* Standard syntax */\\n}\\n\\nbody {\\n  background-color: black;\\n  height: 100vh;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n#container {\\n  display: flex;\\n  width: 100%;\\n   height: 100%;\\n}\\n\\n#sidebar {\\n  height: 100%;\\n  width: var(--sidebar-width);\\n  background-color: var(--sidebar-bg-color);\\n\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n  flex-direction: column;\\n\\n  overflow: hidden;\\n  will-change: width;\\n  flex-shrink: 0;\\n  overflow-y: auto;\\n}\\n\\n#sidebar-content {\\n  display: flex;\\n  justify-content: flex-start;\\n  flex-direction: column;\\n  width: 100%;\\n}\\n\\n#sidebar-content > * {\\n  margin-top: 20px;\\n}\\n\\n#sidebar-content > :nth-child(2) {\\n  margin-top: 5px;\\n}\\n\\n.category {\\n  display: flex;\\n  flex-direction: column;\\n\\n  border-bottom: 1px solid var(--light-grey);\\n  width: 100%;\\n}\\n\\n.category h2 {\\n  color: var(--secondary-text-color);\\n  font-size: 1.1rem;\\n}\\n\\n.project-div{\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    transition: padding 0.2s;\\n    will-change: padding;\\n}\\n\\n.project-div p {\\n    font-size: 0.8rem;\\n    color: var(--light-text-color);\\n}\\n\\n\\n.project-div,\\n.category-title-div {\\n  padding: 10px;\\n  border-radius: 5px;\\n  padding-left: 10px;\\n}\\n\\n.category-title-div {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.category-title-div h2, .project-div h3{\\n  max-width: 185px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\\n  flex-shrink: 0;\\n  flex-grow: 0;\\n}\\n\\n.category-title-div p {\\n  color: var(--light-text-color);\\n  padding: 5px;\\n}\\n\\n.category-title-div p:hover{\\n  cursor: pointer;\\n}\\n\\n.category-title-div:hover * {\\n  color: var(--accent-color);\\n}\\n\\n.category h3 {\\n  font-size: 0.9rem;\\n  font-weight: 300;\\n}\\n\\n.project-div:hover, .category-title-div:hover {\\n  background-color: var(--hover-bg);\\n}\\n\\n.project-div:hover{\\n  cursor: pointer;\\n}\\n\\n.category h2,\\n.category h3 {\\n  flex-shrink: 0;\\n}\\n\\n#open-btn,\\n#close-btn {\\n  cursor: pointer;\\n  padding: 8px 0;\\n  border: none;\\n  border-radius: 10px;\\n\\n  will-change: opacity, transition;\\n  transition: opacity 0.8s;\\n}\\n\\n#open-btn {\\n  visibility: collapse;\\n  opacity: 0;\\n}\\n\\n.topbar {\\n  display: flex;\\n  align-items: center;\\n  width: 100%;\\n  padding: 10px;\\n}\\n\\n#sidebar .topbar {\\n  gap: 70%;\\n}\\n\\n#content {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n  height: 100%;\\n  overflow-y: auto;\\n  flex-grow: 1;\\n  background-color: var(--content-bg-color);\\n}\\n\\n\\n#todo-container{\\n  width: 80%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.sortable-container{\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n  flex-grow: 1;\\n  width: 100%;\\n}\\n\\n.todo-item, .add-todo-container{\\n  border-bottom: 1px solid var(--lightest-text-color);\\n  padding: 8px 0;\\n}\\n\\n.todo-item{\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n\\n  cursor: pointer;\\n}\\n\\n.todo-item, .add-todo-container{\\n  max-width: 800px;\\n}\\n\\n.todo-item-content{\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n}\\n\\n.todo-item h3{\\n  font-size: 0.85rem;\\n  font-weight: 400;\\n  color: var(--secondary-text-color);\\n}\\n\\n.todo-item *, .add-todo-container *{\\n  min-width: max-content;\\n}\\n\\n.todo-item p{\\n  font-size: 0.75rem;\\n  font-weight: 300;\\n  color: var(--light-text-color);\\n}\\n\\nvaadin-checkbox {\\n  scale: 0.95;\\n  cursor:pointer;\\n}\\n\\n.add-todo-container{\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n\\n  width: 100%;\\n  gap: 5px;\\n}\\n\\n.add-todo-container:hover{\\n  cursor: pointer;\\n}\\n\\n.add-todo-container p{\\n  color: var(--light-text-color);\\n  font-size: 0.9rem;\\n  font-weight: 300;\\n}\\n\\n.add-todo-container:hover *{\\n  color: var(--accent-color);\\n}\\n\\n.todo-popup{\\n  width: 330px;\\n  height: 380px;\\n  padding: 8px;\\n\\n  display: grid;\\n  grid-template-columns: 5fr 100px;\\n  grid-template-rows:20px 50px 25px 25px 1fr 40px;\\n  grid-template-areas: \\n  \\\"lo lo\\\"\\n  \\\"title title\\\"\\n  \\\"desc date\\\"\\n  \\\"desc prio\\\"\\n  \\\"desc .\\\"\\n  \\\"desc save\\\"\\n  ;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  gap: 11px;\\n}\\n\\ninput{\\n  width: 100%;\\n  border: 1px solid var(--lightest-text-color);\\n  padding: 5px;\\n  border-radius: 10px;\\n}\\n\\nselect, textarea{\\n  padding: 5px;\\n  border-radius: 10px;\\n  border: 1px solid var(--lightest-text-color);\\n  font-weight: 300;\\n}\\n\\ndialog {\\n  border: 0;\\n  border-radius: 10px;\\n  box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.111);\\n}\\n\\ninput{\\n  font-weight: 300;\\n}\\n\\n.popup-title{\\n  font-size: 1.13rem;\\n  padding: 10px;\\n  height: 100%;\\n  grid-area: title;\\n}\\n\\n.popup-desc{\\n  resize: none;\\n  height: 100%;\\n  grid-area: desc;\\n  font-size: 1rem;\\n  font-weight: 200;\\n}\\n\\n.popup-save{\\n  align-self: flex-end;\\n  grid-area: save;\\n  width: 100%;\\n  height: 32px;\\n  background-color: var(--accent-color);\\n  color: #e8e8e8;\\n  border-radius: 5px;\\n  border: 0;\\n  font-size: 0.95rem;\\n  font-weight: 400;\\n\\n  transition: background-color 0.3s;\\n}\\n\\n.popup-prio{\\n  grid-area: prio;\\n}\\n\\n.popup-duedate{\\n  grid-area: date\\n}\\n\\n.popup-save:hover{\\n  background-color: var(--accent-color);\\n  color: white;\\n  cursor: pointer;\\n}\\n\\ninput:active,\\ntextarea:active,\\nselect:active,\\ninput:focus,\\ntextarea:focus,\\nselect:focus {\\n  outline: none;\\n  box-shadow: none;\\n  border: 1px solid var(--light-text-color); \\n  background-color: white; \\n}\\n\\n\\n.project-popup{\\n  width: 330px;\\n  height: 120px;\\n  padding: 8px;\\n\\n  display: grid;\\n  grid-template-columns: 1fr 100px;\\n  grid-template-rows:1fr 40px;\\n  grid-template-areas: \\n  \\\"name name\\\"\\n  \\\". save\\\"\\n  ;\\n\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  gap: 11px;\\n}\\n\\n.project-popup .popup-title{\\n  grid-area: name;\\n}\\n\\n.category-padding{\\n  padding: 10px;\\n}\\n\\n.amount-remove-div{\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n.amount-remove-div img {\\n  scale: 0.9;\\n}\\n\\nimg:hover{\\n  cursor: pointer;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.nc = undefined;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nwindow.Vaadin ||= {};\nwindow.Vaadin.featureFlags ||= {};\n\nfunction dashToCamelCase(dash) {\n  return dash.replace(/-[a-z]/gu, (m) => m[1].toUpperCase());\n}\n\nconst experimentalMap = {};\n\nexport function defineCustomElement(CustomElement, version = '24.8.3') {\n  Object.defineProperty(CustomElement, 'version', {\n    get() {\n      return version;\n    },\n  });\n\n  if (CustomElement.experimental) {\n    const featureFlagKey =\n      typeof CustomElement.experimental === 'string'\n        ? CustomElement.experimental\n        : `${dashToCamelCase(CustomElement.is.split('-').slice(1).join('-'))}Component`;\n\n    if (!window.Vaadin.featureFlags[featureFlagKey] && !experimentalMap[featureFlagKey]) {\n      // Add setter to define experimental component when it's set to true\n      experimentalMap[featureFlagKey] = new Set();\n      experimentalMap[featureFlagKey].add(CustomElement);\n\n      Object.defineProperty(window.Vaadin.featureFlags, featureFlagKey, {\n        get() {\n          return experimentalMap[featureFlagKey].size === 0;\n        },\n        set(value) {\n          if (!!value && experimentalMap[featureFlagKey].size > 0) {\n            experimentalMap[featureFlagKey].forEach((elementClass) => {\n              customElements.define(elementClass.is, elementClass);\n            });\n            experimentalMap[featureFlagKey].clear();\n          }\n        },\n      });\n\n      return;\n    } else if (experimentalMap[featureFlagKey]) {\n      // Allow to register multiple components with single flag\n      experimentalMap[featureFlagKey].add(CustomElement);\n      return;\n    }\n  }\n\n  const defined = customElements.get(CustomElement.is);\n  if (!defined) {\n    customElements.define(CustomElement.is, CustomElement);\n  } else {\n    const definedVersion = defined.version;\n    if (definedVersion && CustomElement.version && definedVersion === CustomElement.version) {\n      // Just loading the same thing again\n      console.warn(`The component ${CustomElement.is} has been loaded twice`);\n    } else {\n      console.error(\n        `Tried to define ${CustomElement.is} version ${CustomElement.version} when version ${defined.version} is already in use. Something will probably break.`,\n      );\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\n\n/**\n * Dummy custom element used for collecting\n * development time usage statistics.\n *\n * @private\n */\nclass Lumo extends HTMLElement {\n  static get is() {\n    return 'vaadin-lumo-styles';\n  }\n}\n\ndefineCustomElement(Lumo);\n\nexport { Lumo };\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=h.fromAttribute(s,t.type)??this._$Ej?.get(e)??null,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.0\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.0\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.0\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n/**\n * @polymerMixin\n */\nexport const ThemePropertyMixin = (superClass) =>\n  class VaadinThemePropertyMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Helper property with theme attribute value facilitating propagation\n         * in shadow DOM.\n         *\n         * Enables the component implementation to propagate the `theme`\n         * attribute value to the sub-components in Shadow DOM by binding\n         * the sub-component's \"theme\" attribute to the `theme` property of\n         * the host.\n         *\n         * **NOTE:** Extending the mixin only provides the property for binding,\n         * and does not make the propagation alone.\n         *\n         * See [Styling Components: Sub-components](https://vaadin.com/docs/latest/styling/styling-components/#sub-components).\n         * page for more information.\n         *\n         * @protected\n         */\n        _theme: {\n          type: String,\n          readOnly: true,\n        },\n      };\n    }\n\n    static get observedAttributes() {\n      return [...super.observedAttributes, 'theme'];\n    }\n\n    /** @protected */\n    attributeChangedCallback(name, oldValue, newValue) {\n      super.attributeChangedCallback(name, oldValue, newValue);\n\n      if (name === 'theme') {\n        this._set_theme(newValue);\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { css, CSSResult, LitElement, unsafeCSS } from 'lit';\nimport { applyInstanceStyles } from './src/css-utils.js';\nimport { ThemePropertyMixin } from './vaadin-theme-property-mixin.js';\n\nexport { css, unsafeCSS };\n\n/**\n * @typedef {Object} Theme\n * @property {string} themeFor\n * @property {CSSResult[]} styles\n * @property {string | string[]} [include]\n * @property {string} [moduleId]\n *\n * @typedef {CSSResult[] | CSSResult} CSSResultGroup\n */\n\n/**\n * @type {Theme[]}\n */\nconst themeRegistry = [];\n\n/**\n * @type {WeakRef<HTMLElement>[]}\n */\nconst themableInstances = new Set();\n\n/**\n * @type {string[]}\n */\nconst themableTagNames = new Set();\n\n/**\n * Check if the custom element type has themes applied.\n * @param {Function} elementClass\n * @returns {boolean}\n */\nfunction classHasThemes(elementClass) {\n  return elementClass && Object.prototype.hasOwnProperty.call(elementClass, '__themes');\n}\n\n/**\n * Check if the custom element type has themes applied.\n * @param {string} tagName\n * @returns {boolean}\n */\nfunction hasThemes(tagName) {\n  return classHasThemes(customElements.get(tagName));\n}\n\n/**\n * Flattens the styles into a single array of styles.\n * @param {CSSResultGroup} styles\n * @param {CSSResult[]} result\n * @returns {CSSResult[]}\n */\nfunction flattenStyles(styles = []) {\n  return [styles].flat(Infinity).filter((style) => {\n    if (style instanceof CSSResult) {\n      return true;\n    }\n    console.warn('An item in styles is not of type CSSResult. Use `unsafeCSS` or `css`.');\n    return false;\n  });\n}\n\n/**\n * Returns true if the themeFor string matches the tag name\n * @param {string} themeFor\n * @param {string} tagName\n * @returns {boolean}\n */\nfunction matchesThemeFor(themeFor, tagName) {\n  return (themeFor || '').split(' ').some((themeForToken) => {\n    return new RegExp(`^${themeForToken.split('*').join('.*')}$`, 'u').test(tagName);\n  });\n}\n\n/**\n * Returns the CSS text content from an array of CSSResults\n * @param {CSSResult[]} styles\n * @returns {string}\n */\nfunction getCssText(styles) {\n  return styles.map((style) => style.cssText).join('\\n');\n}\n\nconst STYLE_ID = 'vaadin-themable-mixin-style';\n\n/**\n * Includes the styles to the template.\n * @param {CSSResult[]} styles\n * @param {HTMLTemplateElement} template\n */\nfunction addStylesToTemplate(styles, template) {\n  const styleEl = document.createElement('style');\n  styleEl.id = STYLE_ID;\n  styleEl.textContent = getCssText(styles);\n  template.content.appendChild(styleEl);\n}\n\n/**\n * Dynamically updates the styles of the given component instance.\n * @param {HTMLElement} instance\n */\nfunction updateInstanceStyles(instance) {\n  if (!instance.shadowRoot) {\n    return;\n  }\n\n  const componentClass = instance.constructor;\n\n  if (instance instanceof LitElement) {\n    // LitElement\n    applyInstanceStyles(instance);\n  } else {\n    // PolymerElement\n\n    // Update style element content in the shadow root\n    const style = instance.shadowRoot.getElementById(STYLE_ID);\n    const template = componentClass.prototype._template;\n    style.textContent = template.content.getElementById(STYLE_ID).textContent;\n  }\n}\n\n/**\n * Dynamically updates the styles of the instances matching the given component type.\n * @param {Function} componentClass\n */\nfunction updateInstanceStylesOfType(componentClass) {\n  // Iterate over component instances and update their styles if needed\n  themableInstances.forEach((ref) => {\n    const instance = ref.deref();\n    if (instance instanceof componentClass) {\n      updateInstanceStyles(instance);\n    } else if (!instance) {\n      // Clean up the weak reference to a GC'd instance\n      themableInstances.delete(ref);\n    }\n  });\n}\n\n/**\n * Dynamically updates the styles of the given component type.\n * @param {Function} componentClass\n */\nfunction updateComponentStyles(componentClass) {\n  if (componentClass.prototype instanceof LitElement) {\n    // Update LitElement-based component's elementStyles\n    componentClass.elementStyles = componentClass.finalizeStyles(componentClass.styles);\n  } else {\n    // Update Polymer-based component's template\n    const template = componentClass.prototype._template;\n    template.content.getElementById(STYLE_ID).textContent = getCssText(componentClass.getStylesForThis());\n  }\n\n  // Update the styles of inheriting types\n  themableTagNames.forEach((inheritingTagName) => {\n    const inheritingClass = customElements.get(inheritingTagName);\n    if (inheritingClass !== componentClass && inheritingClass.prototype instanceof componentClass) {\n      updateComponentStyles(inheritingClass);\n    }\n  });\n}\n\n/**\n * Check if the component type already has a style matching the given styles.\n *\n * @param {Function} componentClass\n * @param {CSSResultGroup} styles\n * @returns {boolean}\n */\nfunction hasMatchingStyle(componentClass, styles) {\n  const themes = componentClass.__themes;\n  if (!themes || !styles) {\n    return false;\n  }\n\n  return themes.some((theme) =>\n    theme.styles.some((themeStyle) => styles.some((style) => style.cssText === themeStyle.cssText)),\n  );\n}\n\n/**\n * Registers CSS styles for a component type. Make sure to register the styles before\n * the first instance of a component of the type is attached to DOM.\n *\n * @param {string} themeFor The local/tag name of the component type to register the styles for\n * @param {CSSResultGroup} styles The CSS style rules to be registered for the component type\n * matching themeFor and included in the local scope of each component instance\n * @param {{moduleId?: string, include?: string | string[]}} options Additional options\n * @return {void}\n */\nexport function registerStyles(themeFor, styles, options = {}) {\n  styles = flattenStyles(styles);\n\n  if (window.Vaadin && window.Vaadin.styleModules) {\n    window.Vaadin.styleModules.registerStyles(themeFor, styles, options);\n  } else {\n    themeRegistry.push({\n      themeFor,\n      styles,\n      include: options.include,\n      moduleId: options.moduleId,\n    });\n  }\n\n  if (themeFor) {\n    // Update styles of the component types that match themeFor and have already been finalized\n    themableTagNames.forEach((tagName) => {\n      if (matchesThemeFor(themeFor, tagName) && hasThemes(tagName)) {\n        const componentClass = customElements.get(tagName);\n\n        if (hasMatchingStyle(componentClass, styles)) {\n          // Show a warning if the component type already has some of the given styles\n          console.warn(`Registering styles that already exist for ${tagName}`);\n        } else if (!window.Vaadin || !window.Vaadin.suppressPostFinalizeStylesWarning) {\n          // Show a warning if the component type has already been finalized\n          console.warn(\n            `The custom element definition for \"${tagName}\" ` +\n              `was finalized before a style module was registered. ` +\n              `Ideally, import component specific style modules before ` +\n              `importing the corresponding custom element. ` +\n              `This warning can be suppressed by setting \"window.Vaadin.suppressPostFinalizeStylesWarning = true\".`,\n          );\n        }\n\n        // Update the styles of the component type\n        updateComponentStyles(componentClass);\n        // Update the styles of the component instances matching the component type\n        updateInstanceStylesOfType(componentClass);\n      }\n    });\n  }\n}\n\n/**\n * Returns all registered themes. By default the themeRegistry is returned as is.\n * In case the style-modules adapter is imported, the themes are obtained from there instead\n * @returns {Theme[]}\n */\nfunction getAllThemes() {\n  if (window.Vaadin && window.Vaadin.styleModules) {\n    return window.Vaadin.styleModules.getAllThemes();\n  }\n  return themeRegistry;\n}\n\n/**\n * Maps the moduleName to an include priority number which is used for\n * determining the order in which styles are applied.\n * @param {string} moduleName\n * @returns {number}\n */\nfunction getIncludePriority(moduleName = '') {\n  let includePriority = 0;\n  if (moduleName.startsWith('lumo-') || moduleName.startsWith('material-')) {\n    includePriority = 1;\n  } else if (moduleName.startsWith('vaadin-')) {\n    includePriority = 2;\n  }\n  return includePriority;\n}\n\n/**\n * Gets an array of CSSResults matching the include property of the theme.\n * @param {Theme} theme\n * @returns {CSSResult[]}\n */\nfunction getIncludedStyles(theme) {\n  const includedStyles = [];\n  if (theme.include) {\n    [].concat(theme.include).forEach((includeModuleId) => {\n      const includedTheme = getAllThemes().find((s) => s.moduleId === includeModuleId);\n      if (includedTheme) {\n        includedStyles.push(...getIncludedStyles(includedTheme), ...includedTheme.styles);\n      } else {\n        console.warn(`Included moduleId ${includeModuleId} not found in style registry`);\n      }\n    }, theme.styles);\n  }\n  return includedStyles;\n}\n\n/**\n * Returns an array of themes that should be used for styling a component matching\n * the tag name. The array is sorted by the include order.\n * @param {string} tagName\n * @returns {Theme[]}\n */\nfunction getThemes(tagName) {\n  const defaultModuleName = `${tagName}-default-theme`;\n\n  const themes = getAllThemes()\n    // Filter by matching themeFor properties\n    .filter((theme) => theme.moduleId !== defaultModuleName && matchesThemeFor(theme.themeFor, tagName))\n    .map((theme) => ({\n      ...theme,\n      // Prepend styles from included themes\n      styles: [...getIncludedStyles(theme), ...theme.styles],\n      // Map moduleId to includePriority\n      includePriority: getIncludePriority(theme.moduleId),\n    }))\n    // Sort by includePriority\n    .sort((themeA, themeB) => themeB.includePriority - themeA.includePriority);\n\n  if (themes.length > 0) {\n    return themes;\n  }\n  // No theme modules found, return the default module if it exists\n  return getAllThemes().filter((theme) => theme.moduleId === defaultModuleName);\n}\n\n/**\n * @polymerMixin\n * @mixes ThemePropertyMixin\n */\nexport const ThemableMixin = (superClass) =>\n  class VaadinThemableMixin extends ThemePropertyMixin(superClass) {\n    constructor() {\n      super();\n      // Store a weak reference to the instance\n      themableInstances.add(new WeakRef(this));\n    }\n\n    /**\n     * Covers PolymerElement based component styling\n     * @protected\n     */\n    static finalize() {\n      super.finalize();\n\n      if (this.is) {\n        themableTagNames.add(this.is);\n      }\n\n      // Make sure not to run the logic intended for PolymerElement when LitElement is used.\n      if (this.elementStyles) {\n        return;\n      }\n\n      const template = this.prototype._template;\n      if (!template || classHasThemes(this)) {\n        return;\n      }\n\n      addStylesToTemplate(this.getStylesForThis(), template);\n    }\n\n    /**\n     * Covers LitElement based component styling\n     *\n     * @protected\n     */\n    static finalizeStyles(styles) {\n      // Preserve the styles the user supplied via the `static get styles()` getter\n      // so that they will always be injected before styles added by `CSSInjector`.\n      this.baseStyles = styles ? [styles].flat(Infinity) : [];\n\n      // Preserve the theme styles the user supplied via the `registerStyles()` API\n      // so that they will always be injected after styles added by `CSSInjector`.\n      this.themeStyles = this.getStylesForThis();\n\n      // Merged styles are stored in `elementStyles` and passed to `adoptStyles()`.\n      return [...this.baseStyles, ...this.themeStyles];\n    }\n\n    /**\n     * Get styles for the component type\n     *\n     * @private\n     */\n    static getStylesForThis() {\n      const superClassThemes = superClass.__themes || [];\n      const parent = Object.getPrototypeOf(this.prototype);\n      const inheritedThemes = (parent ? parent.constructor.__themes : []) || [];\n      this.__themes = [...superClassThemes, ...inheritedThemes, ...getThemes(this.is)];\n      const themeStyles = this.__themes.flatMap((theme) => theme.styles);\n      // Remove duplicates\n      return themeStyles.filter((style, index) => index === themeStyles.lastIndexOf(style));\n    }\n  };\n\nexport { themeRegistry as __themeRegistry };\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { adoptStyles } from 'lit';\n\n/**\n * Returns the effective styles that should apply to the component\n * in the correct order, to place injected stylesheet after styles\n * defined with `static styles` and before any custom theme styles\n * that the user provided using `registerStyles()` function.\n *\n * @param {HTMLElement} component\n * @return {CSSStyleSheet[]}\n */\nfunction getEffectiveStyles(component) {\n  const componentClass = component.constructor;\n\n  const styleSheet = component.__cssInjectorStyleSheet;\n  if (styleSheet) {\n    return [...componentClass.baseStyles, styleSheet, ...componentClass.themeStyles];\n  }\n\n  return componentClass.elementStyles;\n}\n\n/**\n * Apply styles on the instance of the component in the correct order.\n *\n * @param {HTMLElement} component\n */\nexport function applyInstanceStyles(component) {\n  // The adoptStyles function may fall back to appending style elements to shadow root.\n  // Remove them first to avoid duplicates.\n  [...component.shadowRoot.querySelectorAll('style')].forEach((style) => style.remove());\n\n  adoptStyles(component.shadowRoot, getEffectiveStyles(component));\n}\n\n/**\n * Injects the given stylesheet into the shadow root of the component\n * through the adoptedStyleSheets API. This will override any styles\n * that were injected previously since we only expect one stylesheet\n * to be injected into each component.\n *\n * @param {HTMLElement} component\n * @param {CSSStyleSheet} styleSheet\n */\nexport function injectStyleSheet(component, styleSheet) {\n  // Store the new stylesheet so that it can be removed later.\n  component.__cssInjectorStyleSheet = styleSheet;\n  applyInstanceStyles(component);\n}\n\n/**\n * Removes the stylesheet from the component's shadow root that was added\n * by the `injectStyleSheet` function.\n *\n * @param {HTMLElement} component\n */\nexport function cleanupStyleSheet(component) {\n  const adoptedStyleSheets = component.shadowRoot.adoptedStyleSheets.filter(\n    (s) => s !== component.__cssInjectorStyleSheet,\n  );\n\n  component.shadowRoot.adoptedStyleSheets = adoptedStyleSheets;\n  component.__cssInjectorStyleSheet = undefined;\n}\n","import { addGlobalThemeStyles } from '@vaadin/vaadin-themable-mixin/register-styles.js';\n\nexport const addLumoGlobalStyles = (id, ...styles) => {\n  addGlobalThemeStyles(`lumo-${id}`, styles);\n};\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nexport { registerStyles, css, unsafeCSS } from './vaadin-themable-mixin.js';\n\n/**\n * This is for use internally by Lumo and Material styles.\n *\n * @param {string} id the id to set on the created element, only for informational purposes\n * @param  {CSSResultGroup[]} styles the styles to add\n */\nexport const addGlobalThemeStyles = (id, ...styles) => {\n  const styleTag = document.createElement('style');\n  styleTag.id = id;\n  styleTag.textContent = styles\n    .map((style) => style.toString())\n    .join('\\n')\n    .replace(':host', 'html');\n\n  document.head.insertAdjacentElement('afterbegin', styleTag);\n};\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst colorBase = css`\n  :host {\n    /* Base (background) */\n    --lumo-base-color: #fff;\n\n    /* Tint */\n    --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n    --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n    --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n    --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n    --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n    --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n    --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n    --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n    --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n    --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n    --lumo-tint: #fff;\n\n    /* Shade */\n    --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n    --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n    --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n    --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n    --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n    --lumo-shade-50pct: hsla(214, 45%, 20%, 0.52);\n    --lumo-shade-60pct: hsla(214, 43%, 19%, 0.6);\n    --lumo-shade-70pct: hsla(214, 42%, 18%, 0.69);\n    --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n    --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n    --lumo-shade: hsl(214, 35%, 15%);\n\n    /* Contrast */\n    --lumo-contrast-5pct: var(--lumo-shade-5pct);\n    --lumo-contrast-10pct: var(--lumo-shade-10pct);\n    --lumo-contrast-20pct: var(--lumo-shade-20pct);\n    --lumo-contrast-30pct: var(--lumo-shade-30pct);\n    --lumo-contrast-40pct: var(--lumo-shade-40pct);\n    --lumo-contrast-50pct: var(--lumo-shade-50pct);\n    --lumo-contrast-60pct: var(--lumo-shade-60pct);\n    --lumo-contrast-70pct: var(--lumo-shade-70pct);\n    --lumo-contrast-80pct: var(--lumo-shade-80pct);\n    --lumo-contrast-90pct: var(--lumo-shade-90pct);\n    --lumo-contrast: var(--lumo-shade);\n\n    /* Text */\n    --lumo-header-text-color: var(--lumo-contrast);\n    --lumo-body-text-color: var(--lumo-contrast-90pct);\n    --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n    --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n    /* Primary */\n    --lumo-primary-color: hsl(214, 100%, 48%);\n    --lumo-primary-color-50pct: hsla(214, 100%, 49%, 0.76);\n    --lumo-primary-color-10pct: hsla(214, 100%, 60%, 0.13);\n    --lumo-primary-text-color: hsl(214, 100%, 43%);\n    --lumo-primary-contrast-color: #fff;\n\n    /* Error */\n    --lumo-error-color: hsl(3, 85%, 48%);\n    --lumo-error-color-50pct: hsla(3, 85%, 49%, 0.5);\n    --lumo-error-color-10pct: hsla(3, 85%, 49%, 0.1);\n    --lumo-error-text-color: hsl(3, 89%, 42%);\n    --lumo-error-contrast-color: #fff;\n\n    /* Success */\n    --lumo-success-color: hsl(145, 72%, 30%);\n    --lumo-success-color-50pct: hsla(145, 72%, 31%, 0.5);\n    --lumo-success-color-10pct: hsla(145, 72%, 31%, 0.1);\n    --lumo-success-text-color: hsl(145, 85%, 25%);\n    --lumo-success-contrast-color: #fff;\n\n    /* Warning */\n    --lumo-warning-color: hsl(48, 100%, 50%);\n    --lumo-warning-color-10pct: hsla(48, 100%, 50%, 0.25);\n    --lumo-warning-text-color: hsl(32, 100%, 30%);\n    --lumo-warning-contrast-color: var(--lumo-shade-90pct);\n  }\n\n  /* forced-colors mode adjustments */\n  @media (forced-colors: active) {\n    html {\n      --lumo-disabled-text-color: GrayText;\n    }\n  }\n`;\n\naddLumoGlobalStyles('color-props', colorBase);\n\nconst color = css`\n  [theme~='dark'] {\n    /* Base (background) */\n    --lumo-base-color: hsl(214, 35%, 21%);\n\n    /* Tint */\n    --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n    --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n    --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n    --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n    --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n    --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n    --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);\n    --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);\n    --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n    --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n    --lumo-tint: hsl(214, 100%, 98%);\n\n    /* Shade */\n    --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n    --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n    --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n    --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n    --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n    --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n    --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n    --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n    --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n    --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n    --lumo-shade: hsl(214, 33%, 13%);\n\n    /* Contrast */\n    --lumo-contrast-5pct: var(--lumo-tint-5pct);\n    --lumo-contrast-10pct: var(--lumo-tint-10pct);\n    --lumo-contrast-20pct: var(--lumo-tint-20pct);\n    --lumo-contrast-30pct: var(--lumo-tint-30pct);\n    --lumo-contrast-40pct: var(--lumo-tint-40pct);\n    --lumo-contrast-50pct: var(--lumo-tint-50pct);\n    --lumo-contrast-60pct: var(--lumo-tint-60pct);\n    --lumo-contrast-70pct: var(--lumo-tint-70pct);\n    --lumo-contrast-80pct: var(--lumo-tint-80pct);\n    --lumo-contrast-90pct: var(--lumo-tint-90pct);\n    --lumo-contrast: var(--lumo-tint);\n\n    /* Text */\n    --lumo-header-text-color: var(--lumo-contrast);\n    --lumo-body-text-color: var(--lumo-contrast-90pct);\n    --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n    --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n    /* Primary */\n    --lumo-primary-color: hsl(214, 90%, 48%);\n    --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);\n    --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);\n    --lumo-primary-text-color: hsl(214, 90%, 77%);\n    --lumo-primary-contrast-color: #fff;\n\n    /* Error */\n    --lumo-error-color: hsl(3, 79%, 49%);\n    --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);\n    --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);\n    --lumo-error-text-color: hsl(3, 100%, 80%);\n\n    /* Success */\n    --lumo-success-color: hsl(145, 72%, 30%);\n    --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);\n    --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);\n    --lumo-success-text-color: hsl(145, 85%, 46%);\n\n    /* Warning */\n    --lumo-warning-color: hsl(43, 100%, 48%);\n    --lumo-warning-color-10pct: hsla(40, 100%, 50%, 0.2);\n    --lumo-warning-text-color: hsl(45, 100%, 60%);\n    --lumo-warning-contrast-color: var(--lumo-shade-90pct);\n  }\n\n  html {\n    color: var(--lumo-body-text-color);\n    background-color: var(--lumo-base-color);\n    color-scheme: light;\n  }\n\n  [theme~='dark'] {\n    color: var(--lumo-body-text-color);\n    background-color: var(--lumo-base-color);\n    color-scheme: dark;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: var(--lumo-header-text-color);\n  }\n\n  a:where(:any-link) {\n    color: var(--lumo-primary-text-color);\n  }\n\n  a:not(:any-link) {\n    color: var(--lumo-disabled-text-color);\n  }\n\n  blockquote {\n    color: var(--lumo-secondary-text-color);\n  }\n\n  code,\n  pre {\n    background-color: var(--lumo-contrast-10pct);\n    border-radius: var(--lumo-border-radius-m);\n  }\n  pre code {\n    background: transparent;\n  }\n`;\n\nregisterStyles('', color, { moduleId: 'lumo-color' });\n\nexport { colorBase, color };\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst fontIcons = css`\n  @font-face {\n    font-family: 'lumo-icons';\n    src: url(data:application/font-woff;charset=utf-8;base64,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)\n      format('woff');\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  html {\n    --lumo-icons-align-center: '\\\\ea01';\n    --lumo-icons-align-left: '\\\\ea02';\n    --lumo-icons-align-right: '\\\\ea03';\n    --lumo-icons-angle-down: '\\\\ea04';\n    --lumo-icons-angle-left: '\\\\ea05';\n    --lumo-icons-angle-right: '\\\\ea06';\n    --lumo-icons-angle-up: '\\\\ea07';\n    --lumo-icons-arrow-down: '\\\\ea08';\n    --lumo-icons-arrow-left: '\\\\ea09';\n    --lumo-icons-arrow-right: '\\\\ea0a';\n    --lumo-icons-arrow-up: '\\\\ea0b';\n    --lumo-icons-bar-chart: '\\\\ea0c';\n    --lumo-icons-bell: '\\\\ea0d';\n    --lumo-icons-calendar: '\\\\ea0e';\n    --lumo-icons-checkmark: '\\\\ea0f';\n    --lumo-icons-chevron-down: '\\\\ea10';\n    --lumo-icons-chevron-left: '\\\\ea11';\n    --lumo-icons-chevron-right: '\\\\ea12';\n    --lumo-icons-chevron-up: '\\\\ea13';\n    --lumo-icons-clock: '\\\\ea14';\n    --lumo-icons-cog: '\\\\ea15';\n    --lumo-icons-cross: '\\\\ea16';\n    --lumo-icons-download: '\\\\ea17';\n    --lumo-icons-drag-handle: '\\\\ea18';\n    --lumo-icons-dropdown: '\\\\ea19';\n    --lumo-icons-edit: '\\\\ea1a';\n    --lumo-icons-error: '\\\\ea1b';\n    --lumo-icons-eye: '\\\\ea1c';\n    --lumo-icons-eye-disabled: '\\\\ea1d';\n    --lumo-icons-menu: '\\\\ea1e';\n    --lumo-icons-minus: '\\\\ea1f';\n    --lumo-icons-ordered-list: '\\\\ea20';\n    --lumo-icons-phone: '\\\\ea21';\n    --lumo-icons-photo: '\\\\ea22';\n    --lumo-icons-play: '\\\\ea23';\n    --lumo-icons-plus: '\\\\ea24';\n    --lumo-icons-redo: '\\\\ea25';\n    --lumo-icons-reload: '\\\\ea26';\n    --lumo-icons-resize-handle: '\\\\ea27';\n    --lumo-icons-search: '\\\\ea28';\n    --lumo-icons-undo: '\\\\ea29';\n    --lumo-icons-unordered-list: '\\\\ea2a';\n    --lumo-icons-upload: '\\\\ea2b';\n    --lumo-icons-user: '\\\\ea2c';\n  }\n`;\n\naddLumoGlobalStyles('font-icons', fontIcons);\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst sizing = css`\n  :host {\n    --lumo-size-xs: 1.625rem;\n    --lumo-size-s: 1.875rem;\n    --lumo-size-m: 2.25rem;\n    --lumo-size-l: 2.75rem;\n    --lumo-size-xl: 3.5rem;\n\n    /* Icons */\n    --lumo-icon-size-s: 1.25em;\n    --lumo-icon-size-m: 1.5em;\n    --lumo-icon-size-l: 2.25em;\n    /* For backwards compatibility */\n    --lumo-icon-size: var(--lumo-icon-size-m);\n  }\n`;\n\naddLumoGlobalStyles('sizing-props', sizing);\n\nexport { sizing };\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst spacing = css`\n  :host {\n    /* Square */\n    --lumo-space-xs: 0.25rem;\n    --lumo-space-s: 0.5rem;\n    --lumo-space-m: 1rem;\n    --lumo-space-l: 1.5rem;\n    --lumo-space-xl: 2.5rem;\n\n    /* Wide */\n    --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n    --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n    --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n    --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n    --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n    /* Tall */\n    --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n    --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n    --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n    --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n    --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n  }\n`;\n\naddLumoGlobalStyles('spacing-props', spacing);\n\nexport { spacing };\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst style = css`\n  :host {\n    /* Border radius */\n    --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n    --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n    --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n\n    /* Shadow */\n    --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n    --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n    --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n    --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n    --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n    /* Clickable element cursor */\n    --lumo-clickable-cursor: default;\n  }\n`;\n\n/**\n * Default values for component-specific custom properties.\n */\nconst globals = css`\n  html {\n    /* Button */\n    --vaadin-button-background: var(--lumo-contrast-5pct);\n    --vaadin-button-border: none;\n    --vaadin-button-border-radius: var(--lumo-border-radius-m);\n    --vaadin-button-font-size: var(--lumo-font-size-m);\n    --vaadin-button-font-weight: 500;\n    --vaadin-button-height: var(--lumo-size-m);\n    --vaadin-button-margin: var(--lumo-space-xs) 0;\n    --vaadin-button-min-width: calc(var(--vaadin-button-height) * 2);\n    --vaadin-button-padding: 0 calc(var(--vaadin-button-height) / 3 + var(--lumo-border-radius-m) / 2);\n    --vaadin-button-text-color: var(--lumo-primary-text-color);\n    --vaadin-button-primary-background: var(--lumo-primary-color);\n    --vaadin-button-primary-border: none;\n    --vaadin-button-primary-font-weight: 600;\n    --vaadin-button-primary-text-color: var(--lumo-primary-contrast-color);\n    --vaadin-button-tertiary-background: transparent !important;\n    --vaadin-button-tertiary-text-color: var(--lumo-primary-text-color);\n    --vaadin-button-tertiary-font-weight: 500;\n    --vaadin-button-tertiary-padding: 0 calc(var(--vaadin-button-height) / 6);\n    /* Checkbox */\n    --vaadin-checkbox-background: var(--lumo-contrast-20pct);\n    --vaadin-checkbox-background-hover: var(--lumo-contrast-30pct);\n    --vaadin-checkbox-border-radius: var(--lumo-border-radius-s);\n    --vaadin-checkbox-checkmark-char: var(--lumo-icons-checkmark);\n    --vaadin-checkbox-checkmark-char-indeterminate: '';\n    --vaadin-checkbox-checkmark-color: var(--lumo-primary-contrast-color);\n    --vaadin-checkbox-checkmark-size: calc(var(--vaadin-checkbox-size) + 2px);\n    --vaadin-checkbox-label-color: var(--lumo-body-text-color);\n    --vaadin-checkbox-label-font-size: var(--lumo-font-size-m);\n    --vaadin-checkbox-label-padding: var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs);\n    --vaadin-checkbox-size: calc(var(--lumo-size-m) / 2);\n    --vaadin-checkbox-disabled-checkmark-color: var(--lumo-contrast-30pct);\n    --vaadin-checkbox-disabled-background: var(--lumo-contrast-10pct);\n    /* Radio button */\n    --vaadin-radio-button-background: var(--lumo-contrast-20pct);\n    --vaadin-radio-button-background-hover: var(--lumo-contrast-30pct);\n    --vaadin-radio-button-dot-color: var(--lumo-primary-contrast-color);\n    --vaadin-radio-button-dot-size: 3px;\n    --vaadin-radio-button-label-color: var(--lumo-body-text-color);\n    --vaadin-radio-button-label-font-size: var(--lumo-font-size-m);\n    --vaadin-radio-button-label-padding: var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs)\n      var(--lumo-space-xs);\n    --vaadin-radio-button-size: calc(var(--lumo-size-m) / 2);\n    --vaadin-radio-button-disabled-background: var(--lumo-contrast-10pct);\n    --vaadin-radio-button-disabled-dot-color: var(--lumo-contrast-30pct);\n    --vaadin-selection-color: var(--lumo-primary-color);\n    --vaadin-selection-color-text: var(--lumo-primary-text-color);\n    --vaadin-input-field-border-radius: var(--lumo-border-radius-m);\n    --vaadin-focus-ring-color: var(--lumo-primary-color-50pct);\n    --vaadin-focus-ring-width: 2px;\n    /* Label */\n    --vaadin-input-field-label-color: var(--lumo-secondary-text-color);\n    --vaadin-input-field-focused-label-color: var(--lumo-primary-text-color);\n    --vaadin-input-field-hovered-label-color: var(--lumo-body-text-color);\n    --vaadin-input-field-label-font-size: var(--lumo-font-size-s);\n    --vaadin-input-field-label-font-weight: 500;\n    /* Helper */\n    --vaadin-input-field-helper-color: var(--lumo-secondary-text-color);\n    --vaadin-input-field-helper-font-size: var(--lumo-font-size-xs);\n    --vaadin-input-field-helper-font-weight: 400;\n    --vaadin-input-field-helper-spacing: 0.4em;\n    /* Error message */\n    --vaadin-input-field-error-color: var(--lumo-error-text-color);\n    --vaadin-input-field-error-font-size: var(--lumo-font-size-xs);\n    --vaadin-input-field-error-font-weight: 400;\n    /* Input field */\n    --vaadin-input-field-background: var(--lumo-contrast-10pct);\n    --vaadin-input-field-icon-color: var(--lumo-contrast-60pct);\n    --vaadin-input-field-icon-size: var(--lumo-icon-size-m);\n    --vaadin-input-field-invalid-background: var(--lumo-error-color-10pct);\n    --vaadin-input-field-invalid-hover-highlight: var(--lumo-error-color-50pct);\n    --vaadin-input-field-disabled-background: var(--lumo-contrast-5pct);\n    --vaadin-input-field-disabled-value-color: var(--lumo-disabled-text-color);\n    --vaadin-input-field-height: var(--lumo-size-m);\n    --vaadin-input-field-hover-highlight: var(--lumo-contrast-50pct);\n    --vaadin-input-field-placeholder-color: var(--lumo-secondary-text-color);\n    --vaadin-input-field-readonly-border: 1px dashed var(--lumo-contrast-30pct);\n    --vaadin-input-field-value-color: var(--lumo-body-text-color);\n    --vaadin-input-field-value-font-size: var(--lumo-font-size-m);\n    --vaadin-input-field-value-font-weight: 500;\n  }\n`;\n\naddLumoGlobalStyles('style-props', style);\n\nexport { globals, style };\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst font = css`\n  :host {\n    /* prettier-ignore */\n    --lumo-font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n\n    /* Font sizes */\n    --lumo-font-size-xxs: 0.75rem;\n    --lumo-font-size-xs: 0.8125rem;\n    --lumo-font-size-s: 0.875rem;\n    --lumo-font-size-m: 1rem;\n    --lumo-font-size-l: 1.125rem;\n    --lumo-font-size-xl: 1.375rem;\n    --lumo-font-size-xxl: 1.75rem;\n    --lumo-font-size-xxxl: 2.5rem;\n\n    /* Line heights */\n    --lumo-line-height-xs: 1.25;\n    --lumo-line-height-s: 1.375;\n    --lumo-line-height-m: 1.625;\n  }\n`;\n\nconst typography = css`\n  body,\n  :host {\n    font-family: var(--lumo-font-family);\n    font-size: var(--lumo-font-size-m);\n    line-height: var(--lumo-line-height-m);\n    -webkit-text-size-adjust: 100%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  small,\n  [theme~='font-size-s'] {\n    font-size: var(--lumo-font-size-s);\n    line-height: var(--lumo-line-height-s);\n  }\n\n  [theme~='font-size-xs'] {\n    font-size: var(--lumo-font-size-xs);\n    line-height: var(--lumo-line-height-xs);\n  }\n\n  :where(h1, h2, h3, h4, h5, h6) {\n    font-weight: 600;\n    line-height: var(--lumo-line-height-xs);\n    margin-block: 0;\n  }\n\n  :where(h1) {\n    font-size: var(--lumo-font-size-xxxl);\n  }\n\n  :where(h2) {\n    font-size: var(--lumo-font-size-xxl);\n  }\n\n  :where(h3) {\n    font-size: var(--lumo-font-size-xl);\n  }\n\n  :where(h4) {\n    font-size: var(--lumo-font-size-l);\n  }\n\n  :where(h5) {\n    font-size: var(--lumo-font-size-m);\n  }\n\n  :where(h6) {\n    font-size: var(--lumo-font-size-xs);\n    text-transform: uppercase;\n    letter-spacing: 0.03em;\n  }\n\n  p,\n  blockquote {\n    margin-top: 0.5em;\n    margin-bottom: 0.75em;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  a:where(:any-link):hover {\n    text-decoration: underline;\n  }\n\n  hr {\n    display: block;\n    align-self: stretch;\n    height: 1px;\n    border: 0;\n    padding: 0;\n    margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n    background-color: var(--lumo-contrast-10pct);\n  }\n\n  blockquote {\n    border-left: 2px solid var(--lumo-contrast-30pct);\n  }\n\n  b,\n  strong {\n    font-weight: 600;\n  }\n\n  /* RTL specific styles */\n  blockquote[dir='rtl'] {\n    border-left: none;\n    border-right: 2px solid var(--lumo-contrast-30pct);\n  }\n`;\n\nregisterStyles('', typography, { moduleId: 'lumo-typography' });\naddLumoGlobalStyles('typography-props', font);\n\nexport { font, typography };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/font-icons.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-checkbox',\n  css`\n    :host {\n      color: var(--vaadin-checkbox-label-color, var(--lumo-body-text-color));\n      font-size: var(--vaadin-checkbox-label-font-size, var(--lumo-font-size-m));\n      font-family: var(--lumo-font-family);\n      line-height: var(--lumo-line-height-s);\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      user-select: none;\n      cursor: default;\n      outline: none;\n      --_checkbox-size: var(--vaadin-checkbox-size, calc(var(--lumo-size-m) / 2));\n      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));\n      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);\n      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));\n      --_invalid-background: var(--vaadin-input-field-invalid-background, var(--lumo-error-color-10pct));\n      --_disabled-checkmark-color: var(--vaadin-checkbox-disabled-checkmark-color, var(--lumo-contrast-30pct));\n    }\n\n    [part='label'] {\n      display: flex;\n      position: relative;\n      max-width: max-content;\n    }\n\n    :host([has-label]) ::slotted(label) {\n      padding: var(\n        --vaadin-checkbox-label-padding,\n        var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs)\n      );\n    }\n\n    :host([dir='rtl'][has-label]) ::slotted(label) {\n      padding: var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-s);\n    }\n\n    :host([has-label][required]) ::slotted(label) {\n      padding-inline-end: var(--lumo-space-m);\n    }\n\n    [part='checkbox'] {\n      width: var(--_checkbox-size);\n      height: var(--_checkbox-size);\n      margin: var(--lumo-space-xs);\n      position: relative;\n      border-radius: var(--vaadin-checkbox-border-radius, var(--lumo-border-radius-s));\n      background: var(--vaadin-checkbox-background, var(--lumo-contrast-20pct));\n      transition:\n        transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2),\n        background-color 0.15s;\n      cursor: var(--lumo-clickable-cursor);\n      /* Default field border color */\n      --_input-border-color: var(--vaadin-input-field-border-color, var(--lumo-contrast-50pct));\n    }\n\n    :host([indeterminate]),\n    :host([checked]) {\n      --vaadin-input-field-border-color: transparent;\n    }\n\n    :host([indeterminate]) [part='checkbox'],\n    :host([checked]) [part='checkbox'] {\n      background-color: var(--_selection-color);\n    }\n\n    /* Checkmark */\n    [part='checkbox']::after {\n      pointer-events: none;\n      font-family: 'lumo-icons';\n      content: var(--vaadin-checkbox-checkmark-char, var(--lumo-icons-checkmark));\n      color: var(--vaadin-checkbox-checkmark-color, var(--lumo-primary-contrast-color));\n      font-size: var(--vaadin-checkbox-checkmark-size, calc(var(--_checkbox-size) + 2px));\n      line-height: 1;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      contain: content;\n      opacity: 0;\n    }\n\n    :host([checked]) [part='checkbox']::after {\n      opacity: 1;\n    }\n\n    :host([readonly]:not([checked]):not([indeterminate])) {\n      color: var(--lumo-secondary-text-color);\n    }\n\n    :host([readonly]:not([checked]):not([indeterminate])) [part='checkbox'] {\n      background: transparent;\n      box-shadow: none;\n    }\n\n    :host([readonly]:not([checked]):not([indeterminate])) [part='checkbox']::after {\n      content: '';\n      box-sizing: border-box;\n      width: 100%;\n      height: 100%;\n      border-radius: inherit;\n      top: 0;\n      left: 0;\n      opacity: 1;\n      border: var(--vaadin-input-field-readonly-border, 1px dashed var(--lumo-contrast-50pct));\n    }\n\n    /* Indeterminate checkmark */\n    :host([indeterminate]) [part='checkbox']::after {\n      content: var(--vaadin-checkbox-checkmark-char-indeterminate, '');\n      opacity: 1;\n      top: 45%;\n      height: 10%;\n      left: 22%;\n      right: 22%;\n      width: auto;\n      border: 0;\n      background-color: var(--lumo-primary-contrast-color);\n    }\n\n    /* Focus ring */\n    :host([focus-ring]) [part='checkbox'] {\n      box-shadow:\n        0 0 0 1px var(--lumo-base-color),\n        0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color),\n        inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);\n    }\n\n    :host([focus-ring][readonly]:not([checked]):not([indeterminate])) [part='checkbox'] {\n      box-shadow:\n        0 0 0 1px var(--lumo-base-color),\n        0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color);\n    }\n\n    /* Disabled */\n    :host([disabled]) {\n      pointer-events: none;\n      --vaadin-input-field-border-color: var(--lumo-contrast-20pct);\n    }\n\n    :host([disabled]) ::slotted(label) {\n      color: inherit;\n    }\n\n    :host([disabled]) [part='checkbox'] {\n      background-color: var(--vaadin-checkbox-disabled-background, var(--lumo-contrast-10pct));\n    }\n\n    :host([disabled]) [part='checkbox']::after {\n      color: var(--_disabled-checkmark-color);\n    }\n\n    :host([disabled]) [part='label'],\n    :host([disabled]) [part='helper-text'] {\n      color: var(--lumo-disabled-text-color);\n      -webkit-text-fill-color: var(--lumo-disabled-text-color);\n    }\n\n    :host([indeterminate][disabled]) [part='checkbox']::after {\n      background-color: var(--_disabled-checkmark-color);\n    }\n\n    :host([readonly][checked]:not([disabled])) [part='checkbox'],\n    :host([readonly][indeterminate]:not([disabled])) [part='checkbox'] {\n      background-color: var(--vaadin-checkbox-readonly-checked-background, var(--lumo-contrast-70pct));\n    }\n\n    /* Used for activation \"halo\" */\n    [part='checkbox']::before {\n      pointer-events: none;\n      color: transparent;\n      width: 100%;\n      height: 100%;\n      line-height: var(--_checkbox-size);\n      border-radius: inherit;\n      background-color: inherit;\n      transform: scale(1.4);\n      opacity: 0;\n      transition:\n        transform 0.1s,\n        opacity 0.8s;\n    }\n\n    /* Hover */\n    :host(:not([checked]):not([indeterminate]):not([disabled]):not([readonly]):not([invalid]):hover) [part='checkbox'] {\n      background: var(--vaadin-checkbox-background-hover, var(--lumo-contrast-30pct));\n    }\n\n    /* Disable hover for touch devices */\n    @media (pointer: coarse) {\n      /* prettier-ignore */\n      :host(:not([checked]):not([indeterminate]):not([disabled]):not([readonly]):not([invalid]):hover) [part='checkbox'] {\n        background: var(--vaadin-checkbox-background, var(--lumo-contrast-20pct));\n      }\n    }\n\n    /* Active */\n    :host([active]) [part='checkbox'] {\n      transform: scale(0.9);\n      transition-duration: 0.05s;\n    }\n\n    :host([active][checked]) [part='checkbox'] {\n      transform: scale(1.1);\n    }\n\n    :host([active]:not([checked])) [part='checkbox']::before {\n      transition-duration: 0.01s, 0.01s;\n      transform: scale(0);\n      opacity: 0.4;\n    }\n\n    /* Required */\n    :host([required]) [part='required-indicator'] {\n      position: absolute;\n      top: var(--lumo-space-xs);\n      right: var(--lumo-space-xs);\n    }\n\n    :host([required][dir='rtl']) [part='required-indicator'] {\n      right: auto;\n      left: var(--lumo-space-xs);\n    }\n\n    :host([required]) [part='required-indicator']::after {\n      content: var(--lumo-required-field-indicator, '\\\\2022');\n      transition: opacity 0.2s;\n      color: var(--lumo-required-field-indicator-color, var(--lumo-primary-text-color));\n      width: 1em;\n      text-align: center;\n    }\n\n    :host(:not([has-label])) [part='required-indicator'] {\n      display: none;\n    }\n\n    /* Invalid */\n    :host([invalid]) {\n      --vaadin-input-field-border-color: var(--lumo-error-color);\n    }\n\n    :host([invalid]) [part='checkbox'] {\n      background: var(--_invalid-background);\n      background-image: linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%);\n    }\n\n    :host([invalid]:hover) [part='checkbox'] {\n      background-image: linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%),\n        linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%);\n    }\n\n    :host([invalid][focus-ring]) {\n      --_focus-ring-color: var(--lumo-error-color-50pct);\n    }\n\n    :host([invalid]) [part='required-indicator']::after {\n      color: var(--lumo-required-field-indicator-color, var(--lumo-error-text-color));\n    }\n\n    /* Error message */\n    [part='error-message'] {\n      font-size: var(--vaadin-input-field-error-font-size, var(--lumo-font-size-xs));\n      line-height: var(--lumo-line-height-xs);\n      font-weight: var(--vaadin-input-field-error-font-weight, 400);\n      color: var(--vaadin-input-field-error-color, var(--lumo-error-text-color));\n      will-change: max-height;\n      transition: 0.4s max-height;\n      max-height: 5em;\n      padding-inline-start: var(--lumo-space-xs);\n    }\n\n    :host([has-error-message]) [part='error-message']::after,\n    :host([has-helper]) [part='helper-text']::after {\n      content: '';\n      display: block;\n      height: 0.4em;\n    }\n\n    :host(:not([invalid])) [part='error-message'] {\n      max-height: 0;\n      overflow: hidden;\n    }\n\n    /* Helper */\n    [part='helper-text'] {\n      display: block;\n      color: var(--vaadin-input-field-helper-color, var(--lumo-secondary-text-color));\n      font-size: var(--vaadin-input-field-helper-font-size, var(--lumo-font-size-xs));\n      line-height: var(--lumo-line-height-xs);\n      font-weight: var(--vaadin-input-field-helper-font-weight, 400);\n      margin-left: calc(var(--lumo-border-radius-m) / 4);\n      transition: color 0.2s;\n      padding-inline-start: var(--lumo-space-xs);\n    }\n\n    :host(:hover:not([readonly])) [part='helper-text'] {\n      color: var(--lumo-body-text-color);\n    }\n\n    :host([has-error-message]) ::slotted(label),\n    :host([has-helper]) ::slotted(label) {\n      padding-bottom: 0;\n    }\n  `,\n  { moduleId: 'lumo-checkbox' },\n);\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable no-unused-vars */\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is replaced by the munged name for object[property]\n * We cannot alias this function, so we have to use a small shim that has the same behavior when not compiling.\n *\n * @param {?} prop Property name\n * @param {*} obj Reference object\n * @return {string} Potentially renamed property name\n */\nwindow.JSCompiler_renameProperty = function(prop, obj) {\n  return prop;\n};\n/* eslint-enable */\n\nexport {};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\nlet CSS_URL_RX = /(url\\()([^)]*)(\\))/g;\nlet ABS_URL = /(^\\/[^\\/])|(^#)|(^[\\w-\\d]*:)/;\nlet workingURL;\nlet resolveDoc;\n/**\n * Resolves the given URL against the provided `baseUri'.\n *\n * Note that this function performs no resolution for URLs that start\n * with `/` (absolute URLs) or `#` (hash identifiers).  For general purpose\n * URL resolution, use `window.URL`.\n *\n * @param {string} url Input URL to resolve\n * @param {?string=} baseURI Base URI to resolve the URL against\n * @return {string} resolved URL\n */\nexport function resolveUrl(url, baseURI) {\n  if (url && ABS_URL.test(url)) {\n    return url;\n  }\n  if (url === '//') {\n    return url;\n  }\n  // Lazy feature detection.\n  if (workingURL === undefined) {\n    workingURL = false;\n    try {\n      const u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      workingURL = (u.href === 'http://a/c%20d');\n    } catch (e) {\n      // silently fail\n    }\n  }\n  if (!baseURI) {\n    baseURI = document.baseURI || window.location.href;\n  }\n  if (workingURL) {\n    try {\n      return (new URL(url, baseURI)).href;\n    } catch (e) {\n      // Bad url or baseURI structure. Do not attempt to resolve.\n      return url;\n    }\n  }\n  // Fallback to creating an anchor into a disconnected document.\n  if (!resolveDoc) {\n    resolveDoc = document.implementation.createHTMLDocument('temp');\n    resolveDoc.base = resolveDoc.createElement('base');\n    resolveDoc.head.appendChild(resolveDoc.base);\n    resolveDoc.anchor = resolveDoc.createElement('a');\n    resolveDoc.body.appendChild(resolveDoc.anchor);\n  }\n  resolveDoc.base.href = baseURI;\n  resolveDoc.anchor.href = url;\n  return resolveDoc.anchor.href || url;\n\n}\n\n/**\n * Resolves any relative URL's in the given CSS text against the provided\n * `ownerDocument`'s `baseURI`.\n *\n * @param {string} cssText CSS text to process\n * @param {string} baseURI Base URI to resolve the URL against\n * @return {string} Processed CSS text with resolved URL's\n */\nexport function resolveCss(cssText, baseURI) {\n  return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {\n    return pre + '\\'' +\n      resolveUrl(url.replace(/[\"']/g, ''), baseURI) +\n      '\\'' + post;\n  });\n}\n\n/**\n * Returns a path from a given `url`. The path includes the trailing\n * `/` from the url.\n *\n * @param {string} url Input URL to transform\n * @return {string} resolved path\n */\nexport function pathFromUrl(url) {\n  return url.substring(0, url.lastIndexOf('/') + 1);\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\nimport { pathFromUrl } from './resolve-url.js';\nexport const useShadow = !(window.ShadyDOM) || !(window.ShadyDOM.inUse);\nexport const useNativeCSSProperties = Boolean(!window.ShadyCSS || window.ShadyCSS.nativeCss);\nexport const useNativeCustomElements = !(window.customElements.polyfillWrapFlushCallback);\nexport const supportsAdoptingStyleSheets = useShadow &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replaceSync' in CSSStyleSheet.prototype) &&\n    // Since spec may change, feature detect exact API we need\n    (() => {\n      try {\n        const sheet = new CSSStyleSheet();\n        sheet.replaceSync('');\n        const host = document.createElement('div');\n        host.attachShadow({mode: 'open'});\n        host.shadowRoot.adoptedStyleSheets = [sheet];\n        return (host.shadowRoot.adoptedStyleSheets[0] === sheet);\n      } catch(e) {\n        return false;\n      }\n    })();\n\n/**\n * Globally settable property that is automatically assigned to\n * `ElementMixin` instances, useful for binding in templates to\n * make URL's relative to an application's root.  Defaults to the main\n * document URL, but can be overridden by users.  It may be useful to set\n * `rootPath` to provide a stable application mount path when\n * using client side routing.\n */\nexport let rootPath = window.Polymer && window.Polymer.rootPath ||\n  pathFromUrl(document.baseURI || window.location.href);\n\n/**\n * Sets the global rootPath property used by `ElementMixin` and\n * available via `rootPath`.\n *\n * @param {string} path The new root path\n * @return {void}\n */\nexport const setRootPath = function(path) {\n  rootPath = path;\n};\n\n/**\n * A global callback used to sanitize any value before inserting it into the DOM.\n * The callback signature is:\n *\n *  function sanitizeDOMValue(value, name, type, node) { ... }\n *\n * Where:\n *\n * `value` is the value to sanitize.\n * `name` is the name of an attribute or property (for example, href).\n * `type` indicates where the value is being inserted: one of property, attribute, or text.\n * `node` is the node where the value is being inserted.\n *\n * @type {(function(*,string,string,?Node):*)|undefined}\n */\nexport let sanitizeDOMValue =\n  window.Polymer && window.Polymer.sanitizeDOMValue || undefined;\n\n/**\n * Sets the global sanitizeDOMValue available via this module's exported\n * `sanitizeDOMValue` variable.\n *\n * @param {(function(*,string,string,?Node):*)|undefined} newSanitizeDOMValue the global sanitizeDOMValue callback\n * @return {void}\n */\nexport const setSanitizeDOMValue = function(newSanitizeDOMValue) {\n  sanitizeDOMValue = newSanitizeDOMValue;\n};\n\n/**\n * Gets sanitizeDOMValue, for environments that don't well support `export let`.\n *\n * @return {(function(*,string,string,?Node):*)|undefined} sanitizeDOMValue\n */\nexport const getSanitizeDOMValue = function() {\n  return sanitizeDOMValue;\n};\n\n/**\n * Globally settable property to make Polymer Gestures use passive TouchEvent listeners when recognizing gestures.\n * When set to `true`, gestures made from touch will not be able to prevent scrolling, allowing for smoother\n * scrolling performance.\n * Defaults to `false` for backwards compatibility.\n */\nexport let passiveTouchGestures =\n  window.Polymer && window.Polymer.setPassiveTouchGestures || false;\n\n/**\n * Sets `passiveTouchGestures` globally for all elements using Polymer Gestures.\n *\n * @param {boolean} usePassive enable or disable passive touch gestures globally\n * @return {void}\n */\nexport const setPassiveTouchGestures = function(usePassive) {\n  passiveTouchGestures = usePassive;\n};\n\n/**\n * Setting to ensure Polymer template evaluation only occurs based on tempates\n * defined in trusted script.  When true, `<dom-module>` re-registration is\n * disallowed, `<dom-bind>` is disabled, and `<dom-if>`/`<dom-repeat>`\n * templates will only evaluate in the context of a trusted element template.\n */\nexport let strictTemplatePolicy =\n  window.Polymer && window.Polymer.strictTemplatePolicy || false;\n\n/**\n * Sets `strictTemplatePolicy` globally for all elements\n *\n * @param {boolean} useStrictPolicy enable or disable strict template policy\n *   globally\n * @return {void}\n */\nexport const setStrictTemplatePolicy = function(useStrictPolicy) {\n  strictTemplatePolicy = useStrictPolicy;\n};\n\n/**\n * Setting to enable dom-module lookup from Polymer.Element.  By default,\n * templates must be defined in script using the `static get template()`\n * getter and the `html` tag function.  To enable legacy loading of templates\n * via dom-module, set this flag to true.\n */\nexport let allowTemplateFromDomModule =\n  window.Polymer && window.Polymer.allowTemplateFromDomModule || false;\n\n/**\n * Sets `lookupTemplateFromDomModule` globally for all elements\n *\n * @param {boolean} allowDomModule enable or disable template lookup\n *   globally\n * @return {void}\n */\nexport const setAllowTemplateFromDomModule = function(allowDomModule) {\n  allowTemplateFromDomModule = allowDomModule;\n};\n\n/**\n * Setting to skip processing style includes and re-writing urls in css styles.\n * Normally \"included\" styles are pulled into the element and all urls in styles\n * are re-written to be relative to the containing script url.\n * If no includes or relative urls are used in styles, these steps can be\n * skipped as an optimization.\n */\nexport let legacyOptimizations =\n  window.Polymer && window.Polymer.legacyOptimizations || false;\n\n/**\n * Sets `legacyOptimizations` globally for all elements to enable optimizations\n * when only legacy based elements are used.\n *\n * @param {boolean} useLegacyOptimizations enable or disable legacy optimizations\n * includes and url rewriting\n * @return {void}\n */\nexport const setLegacyOptimizations = function(useLegacyOptimizations) {\n  legacyOptimizations = useLegacyOptimizations;\n};\n\n/**\n * Setting to add warnings useful when migrating from Polymer 1.x to 2.x.\n */\nexport let legacyWarnings =\n  window.Polymer && window.Polymer.legacyWarnings || false;\n\n/**\n * Sets `legacyWarnings` globally for all elements to migration warnings.\n *\n * @param {boolean} useLegacyWarnings enable or disable warnings\n * @return {void}\n */\nexport const setLegacyWarnings = function(useLegacyWarnings) {\n  legacyWarnings = useLegacyWarnings;\n};\n\n/**\n * Setting to perform initial rendering synchronously when running under ShadyDOM.\n * This matches the behavior of Polymer 1.\n */\nexport let syncInitialRender =\n  window.Polymer && window.Polymer.syncInitialRender || false;\n\n/**\n * Sets `syncInitialRender` globally for all elements to enable synchronous\n * initial rendering.\n *\n * @param {boolean} useSyncInitialRender enable or disable synchronous initial\n * rendering globally.\n * @return {void}\n */\nexport const setSyncInitialRender = function(useSyncInitialRender) {\n  syncInitialRender = useSyncInitialRender;\n};\n\n/**\n * Setting to retain the legacy Polymer 1 behavior for multi-property\n * observers around undefined values. Observers and computed property methods\n * are not called until no argument is undefined.\n */\nexport let legacyUndefined =\n  window.Polymer && window.Polymer.legacyUndefined || false;\n\n/**\n * Sets `legacyUndefined` globally for all elements to enable legacy\n * multi-property behavior for undefined values.\n *\n * @param {boolean} useLegacyUndefined enable or disable legacy\n * multi-property behavior for undefined.\n * @return {void}\n */\nexport const setLegacyUndefined = function(useLegacyUndefined) {\n  legacyUndefined = useLegacyUndefined;\n};\n\n/**\n * Setting to ensure computed properties are computed in order to ensure\n * re-computation never occurs in a given turn.\n */\nexport let orderedComputed =\n  window.Polymer && window.Polymer.orderedComputed || false;\n\n/**\n * Sets `orderedComputed` globally for all elements to enable ordered computed\n * property computation.\n *\n * @param {boolean} useOrderedComputed enable or disable ordered computed effects\n * @return {void}\n */\nexport const setOrderedComputed = function(useOrderedComputed) {\n  orderedComputed = useOrderedComputed;\n};\n\n/**\n * Setting to cancel synthetic click events fired by older mobile browsers. Modern browsers\n * no longer fire synthetic click events, and the cancellation behavior can interfere\n * when programmatically clicking on elements.\n */\nexport let cancelSyntheticClickEvents = true;\n\n/**\n * Sets `setCancelSyntheticEvents` globally for all elements to cancel synthetic click events.\n *\n * @param {boolean} useCancelSyntheticClickEvents enable or disable cancelling synthetic\n * events\n * @return {void}\n */\nexport const setCancelSyntheticClickEvents = function(useCancelSyntheticClickEvents) {\n  cancelSyntheticClickEvents = useCancelSyntheticClickEvents;\n};\n\n/**\n * Setting to remove nested templates inside `dom-if` and `dom-repeat` as\n * part of element template parsing.  This is a performance optimization that\n * eliminates most of the tax of needing two elements due to the loss of\n * type-extended templates as a result of the V1 specification changes.\n */\nexport let removeNestedTemplates =\n  window.Polymer && window.Polymer.removeNestedTemplates || false;\n\n/**\n * Sets `removeNestedTemplates` globally, to eliminate nested templates\n * inside `dom-if` and `dom-repeat` as part of template parsing.\n *\n * @param {boolean} useRemoveNestedTemplates enable or disable removing nested\n *   templates during parsing\n * @return {void}\n */\nexport const setRemoveNestedTemplates = function(useRemoveNestedTemplates) {\n  removeNestedTemplates = useRemoveNestedTemplates;\n};\n\n/**\n * Setting to place `dom-if` elements in a performance-optimized mode that takes\n * advantage of lighter-weight host runtime template stamping to eliminate the\n * need for an intermediate Templatizer `TemplateInstance` to mange the nodes\n * stamped by `dom-if`.  Under this setting, any Templatizer-provided API's\n * such as `modelForElement` will not be available for nodes stamped by\n * `dom-if`.\n */\nexport let fastDomIf = window.Polymer && window.Polymer.fastDomIf || false;\n\n/**\n * Sets `fastDomIf` globally, to put `dom-if` in a performance-optimized mode.\n *\n * @param {boolean} useFastDomIf enable or disable `dom-if` fast-mode\n * @return {void}\n */\nexport const setFastDomIf = function(useFastDomIf) {\n  fastDomIf = useFastDomIf;\n};\n\n/**\n * Setting to disable `dom-change` and `rendered-item-count` events from\n * `dom-if` and `dom-repeat`. Users can opt back into `dom-change` events by\n * setting the `notify-dom-change` attribute (`notifyDomChange: true` property)\n * to `dom-if`/`don-repeat` instances.\n */\nexport let suppressTemplateNotifications =\n  window.Polymer && window.Polymer.suppressTemplateNotifications || false;\n\n/**\n * Sets `suppressTemplateNotifications` globally, to disable `dom-change` and\n * `rendered-item-count` events from `dom-if` and `dom-repeat`.\n *\n * @param {boolean} suppress enable or disable `suppressTemplateNotifications`\n * @return {void}\n */\nexport const setSuppressTemplateNotifications = function(suppress) {\n  suppressTemplateNotifications = suppress;\n};\n\n/**\n * Setting to disable use of dynamic attributes. This is an optimization\n * to avoid setting `observedAttributes`. Instead attributes are read\n * once at create time and set/removeAttribute are patched.\n */\nexport let legacyNoObservedAttributes =\n  window.Polymer && window.Polymer.legacyNoObservedAttributes || false;\n\n/**\n * Sets `legacyNoObservedAttributes` globally, to disable `observedAttributes`.\n *\n * @param {boolean} noObservedAttributes enable or disable `legacyNoObservedAttributes`\n * @return {void}\n */\nexport const setLegacyNoObservedAttributes = function(noObservedAttributes) {\n  legacyNoObservedAttributes = noObservedAttributes;\n};\n\n/**\n * Setting to enable use of `adoptedStyleSheets` for sharing style sheets\n * between component instances' shadow roots, if the app uses built Shady CSS\n * styles.\n */\nexport let useAdoptedStyleSheetsWithBuiltCSS =\n  window.Polymer && window.Polymer.useAdoptedStyleSheetsWithBuiltCSS || false;\n\n/**\n * Sets `useAdoptedStyleSheetsWithBuiltCSS` globally.\n *\n * @param {boolean} value enable or disable `useAdoptedStyleSheetsWithBuiltCSS`\n * @return {void}\n */\nexport const setUseAdoptedStyleSheetsWithBuiltCSS = function(value) {\n  useAdoptedStyleSheetsWithBuiltCSS = value;\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n// unique global id for deduping mixins.\nlet dedupeId = 0;\n\n/**\n * @constructor\n * @extends {Function}\n * @private\n */\nfunction MixinFunction(){}\n/** @type {(WeakMap | undefined)} */\nMixinFunction.prototype.__mixinApplications;\n/** @type {(Object | undefined)} */\nMixinFunction.prototype.__mixinSet;\n\n/* eslint-disable valid-jsdoc */\n/**\n * Wraps an ES6 class expression mixin such that the mixin is only applied\n * if it has not already been applied its base argument. Also memoizes mixin\n * applications.\n *\n * @template T\n * @param {T} mixin ES6 class expression mixin to wrap\n * @return {T}\n * @suppress {invalidCasts}\n */\nexport const dedupingMixin = function(mixin) {\n  let mixinApplications = /** @type {!MixinFunction} */(mixin).__mixinApplications;\n  if (!mixinApplications) {\n    mixinApplications = new WeakMap();\n    /** @type {!MixinFunction} */(mixin).__mixinApplications = mixinApplications;\n  }\n  // maintain a unique id for each mixin\n  let mixinDedupeId = dedupeId++;\n  function dedupingMixin(base) {\n    let baseSet = /** @type {!MixinFunction} */(base).__mixinSet;\n    if (baseSet && baseSet[mixinDedupeId]) {\n      return base;\n    }\n    let map = mixinApplications;\n    let extended = map.get(base);\n    if (!extended) {\n      extended = /** @type {!Function} */(mixin)(base);\n      map.set(base, extended);\n      // copy inherited mixin set from the extended class, or the base class\n      // NOTE: we avoid use of Set here because some browser (IE11)\n      // cannot extend a base Set via the constructor.\n      let mixinSet = Object.create(/** @type {!MixinFunction} */(extended).__mixinSet || baseSet || null);\n      mixinSet[mixinDedupeId] = true;\n      /** @type {!MixinFunction} */(extended).__mixinSet = mixinSet;\n    }\n    return extended;\n  }\n\n  return dedupingMixin;\n};\n/* eslint-enable valid-jsdoc */\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { resolveUrl, pathFromUrl } from '../utils/resolve-url.js';\nimport { strictTemplatePolicy } from '../utils/settings.js';\n\nlet modules = {};\nlet lcModules = {};\n/**\n * Sets a dom-module into the global registry by id.\n *\n * @param {string} id dom-module id\n * @param {DomModule} module dom-module instance\n * @return {void}\n */\nfunction setModule(id, module) {\n  // store id separate from lowercased id so that\n  // in all cases mixedCase id will stored distinctly\n  // and lowercase version is a fallback\n  modules[id] = lcModules[id.toLowerCase()] = module;\n}\n/**\n * Retrieves a dom-module from the global registry by id.\n *\n * @param {string} id dom-module id\n * @return {DomModule!} dom-module instance\n */\nfunction findModule(id) {\n  return modules[id] || lcModules[id.toLowerCase()];\n}\n\nfunction styleOutsideTemplateCheck(inst) {\n  if (inst.querySelector('style')) {\n    console.warn('dom-module %s has style outside template', inst.id);\n  }\n}\n\n/**\n * The `dom-module` element registers the dom it contains to the name given\n * by the module's id attribute. It provides a unified database of dom\n * accessible via its static `import` API.\n *\n * A key use case of `dom-module` is for providing custom element `<template>`s\n * via HTML imports that are parsed by the native HTML parser, that can be\n * relocated during a bundling pass and still looked up by `id`.\n *\n * Example:\n *\n *     <dom-module id=\"foo\">\n *       <img src=\"stuff.png\">\n *     </dom-module>\n *\n * Then in code in some other location that cannot access the dom-module above\n *\n *     let img = customElements.get('dom-module').import('foo', 'img');\n *\n * @customElement\n * @extends HTMLElement\n * @summary Custom element that provides a registry of relocatable DOM content\n *   by `id` that is agnostic to bundling.\n * @unrestricted\n */\nexport class DomModule extends HTMLElement {\n\n  /** @override */\n  static get observedAttributes() { return ['id']; }\n\n  /**\n   * Retrieves the element specified by the css `selector` in the module\n   * registered by `id`. For example, this.import('foo', 'img');\n   * @param {string} id The id of the dom-module in which to search.\n   * @param {string=} selector The css selector by which to find the element.\n   * @return {Element} Returns the element which matches `selector` in the\n   * module registered at the specified `id`.\n   *\n   * @export\n   * @nocollapse Referred to indirectly in style-gather.js\n   */\n  static import(id, selector) {\n    if (id) {\n      let m = findModule(id);\n      if (m && selector) {\n        return m.querySelector(selector);\n      }\n      return m;\n    }\n    return null;\n  }\n\n  /* eslint-disable no-unused-vars */\n  /**\n   * @param {string} name Name of attribute.\n   * @param {?string} old Old value of attribute.\n   * @param {?string} value Current value of attribute.\n   * @param {?string} namespace Attribute namespace.\n   * @return {void}\n   * @override\n   */\n  attributeChangedCallback(name, old, value, namespace) {\n    if (old !== value) {\n      this.register();\n    }\n  }\n  /* eslint-enable no-unused-args */\n\n  /**\n   * The absolute URL of the original location of this `dom-module`.\n   *\n   * This value will differ from this element's `ownerDocument` in the\n   * following ways:\n   * - Takes into account any `assetpath` attribute added during bundling\n   *   to indicate the original location relative to the bundled location\n   * - Uses the HTMLImports polyfill's `importForElement` API to ensure\n   *   the path is relative to the import document's location since\n   *   `ownerDocument` is not currently polyfilled\n   */\n  get assetpath() {\n    // Don't override existing assetpath.\n    if (!this.__assetpath) {\n      // note: assetpath set via an attribute must be relative to this\n      // element's location; accommodate polyfilled HTMLImports\n      const owner = window.HTMLImports && HTMLImports.importForElement ?\n        HTMLImports.importForElement(this) || document : this.ownerDocument;\n      const url = resolveUrl(\n        this.getAttribute('assetpath') || '', owner.baseURI);\n      this.__assetpath = pathFromUrl(url);\n    }\n    return this.__assetpath;\n  }\n\n  /**\n   * Registers the dom-module at a given id. This method should only be called\n   * when a dom-module is imperatively created. For\n   * example, `document.createElement('dom-module').register('foo')`.\n   * @param {string=} id The id at which to register the dom-module.\n   * @return {void}\n   */\n  register(id) {\n    id = id || this.id;\n    if (id) {\n      // Under strictTemplatePolicy, reject and null out any re-registered\n      // dom-module since it is ambiguous whether first-in or last-in is trusted\n      if (strictTemplatePolicy && findModule(id) !== undefined) {\n        setModule(id, null);\n        throw new Error(`strictTemplatePolicy: dom-module ${id} re-registered`);\n      }\n      this.id = id;\n      setModule(id, this);\n      styleOutsideTemplateCheck(this);\n    }\n  }\n}\n\nDomModule.prototype['modules'] = modules;\n\ncustomElements.define('dom-module', DomModule);\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Module with utilities for collection CSS text from `<templates>`, external\n * stylesheets, and `dom-module`s.\n *\n * @summary Module with utilities for collection CSS text from various sources.\n */\n\nimport { DomModule } from '../elements/dom-module.js';\nimport { resolveCss } from './resolve-url.js';\n\nconst MODULE_STYLE_LINK_SELECTOR = 'link[rel=import][type~=css]';\nconst INCLUDE_ATTR = 'include';\nconst SHADY_UNSCOPED_ATTR = 'shady-unscoped';\n\n/**\n * @param {string} moduleId .\n * @return {?DomModule} .\n */\nfunction importModule(moduleId) {\n  return /** @type {?DomModule} */(DomModule.import(moduleId));\n}\n\nfunction styleForImport(importDoc) {\n  // NOTE: polyfill affordance.\n  // under the HTMLImports polyfill, there will be no 'body',\n  // but the import pseudo-doc can be used directly.\n  let container = importDoc.body ? importDoc.body : importDoc;\n  const importCss = resolveCss(container.textContent,\n    importDoc.baseURI);\n  const style = document.createElement('style');\n  style.textContent = importCss;\n  return style;\n}\n\n/** @typedef {{assetpath: string}} */\nlet templateWithAssetPath; // eslint-disable-line no-unused-vars\n\n\n/**\n * Returns a list of <style> elements in a space-separated list of `dom-module`s.\n *\n * @function\n * @param {string} moduleIds List of dom-module id's within which to\n * search for css.\n * @return {!Array<!HTMLStyleElement>} Array of contained <style> elements\n */\nexport function stylesFromModules(moduleIds) {\n const modules = moduleIds.trim().split(/\\s+/);\n const styles = [];\n for (let i=0; i < modules.length; i++) {\n   styles.push(...stylesFromModule(modules[i]));\n }\n return styles;\n}\n\n/**\n * Returns a list of <style> elements in a given `dom-module`.\n * Styles in a `dom-module` can come either from `<style>`s within the\n * first `<template>`, or else from one or more\n * `<link rel=\"import\" type=\"css\">` links outside the template.\n *\n * @param {string} moduleId dom-module id to gather styles from\n * @return {!Array<!HTMLStyleElement>} Array of contained styles.\n */\nexport function stylesFromModule(moduleId) {\n  const m = importModule(moduleId);\n\n  if (!m) {\n    console.warn('Could not find style data in module named', moduleId);\n    return [];\n  }\n\n  if (m._styles === undefined) {\n    const styles = [];\n    // module imports: <link rel=\"import\" type=\"css\">\n    styles.push(..._stylesFromModuleImports(m));\n    // include css from the first template in the module\n    const template = /** @type {?HTMLTemplateElement} */(\n        m.querySelector('template'));\n    if (template) {\n      styles.push(...stylesFromTemplate(template,\n        /** @type {templateWithAssetPath} */(m).assetpath));\n    }\n\n    m._styles = styles;\n  }\n\n  return m._styles;\n}\n\n/**\n * Returns the `<style>` elements within a given template.\n *\n * @param {!HTMLTemplateElement} template Template to gather styles from\n * @param {string=} baseURI baseURI for style content\n * @return {!Array<!HTMLStyleElement>} Array of styles\n */\nexport function stylesFromTemplate(template, baseURI) {\n  if (!template._styles) {\n    const styles = [];\n    // if element is a template, get content from its .content\n    const e$ = template.content.querySelectorAll('style');\n    for (let i=0; i < e$.length; i++) {\n      let e = e$[i];\n      // support style sharing by allowing styles to \"include\"\n      // other dom-modules that contain styling\n      let include = e.getAttribute(INCLUDE_ATTR);\n      if (include) {\n        styles.push(...stylesFromModules(include).filter(function(item, index, self) {\n          return self.indexOf(item) === index;\n        }));\n      }\n      if (baseURI) {\n        e.textContent =\n            resolveCss(e.textContent, /** @type {string} */ (baseURI));\n      }\n      styles.push(e);\n    }\n    template._styles = styles;\n  }\n  return template._styles;\n}\n\n/**\n * Returns a list of <style> elements  from stylesheets loaded via `<link rel=\"import\" type=\"css\">` links within the specified `dom-module`.\n *\n * @param {string} moduleId Id of `dom-module` to gather CSS from\n * @return {!Array<!HTMLStyleElement>} Array of contained styles.\n */\nexport function stylesFromModuleImports(moduleId) {\n let m = importModule(moduleId);\n return m ? _stylesFromModuleImports(m) : [];\n}\n\n/**\n * @param {!HTMLElement} module dom-module element that could contain `<link rel=\"import\" type=\"css\">` styles\n * @return {!Array<!HTMLStyleElement>} Array of contained styles\n */\nfunction _stylesFromModuleImports(module) {\n  const styles = [];\n  const p$ = module.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);\n  for (let i=0; i < p$.length; i++) {\n    let p = p$[i];\n    if (p.import) {\n      const importDoc = p.import;\n      const unscoped = p.hasAttribute(SHADY_UNSCOPED_ATTR);\n      if (unscoped && !importDoc._unscopedStyle) {\n        const style = styleForImport(importDoc);\n        style.setAttribute(SHADY_UNSCOPED_ATTR, '');\n        importDoc._unscopedStyle = style;\n      } else if (!importDoc._style) {\n        importDoc._style = styleForImport(importDoc);\n      }\n      styles.push(unscoped ? importDoc._unscopedStyle : importDoc._style);\n    }\n  }\n  return styles;\n}\n\n/**\n *\n * Returns CSS text of styles in a space-separated list of `dom-module`s.\n * Note: This method is deprecated, use `stylesFromModules` instead.\n *\n * @deprecated\n * @param {string} moduleIds List of dom-module id's within which to\n * search for css.\n * @return {string} Concatenated CSS content from specified `dom-module`s\n */\nexport function cssFromModules(moduleIds) {\n let modules = moduleIds.trim().split(/\\s+/);\n let cssText = '';\n for (let i=0; i < modules.length; i++) {\n   cssText += cssFromModule(modules[i]);\n }\n return cssText;\n}\n\n/**\n * Returns CSS text of styles in a given `dom-module`.  CSS in a `dom-module`\n * can come either from `<style>`s within the first `<template>`, or else\n * from one or more `<link rel=\"import\" type=\"css\">` links outside the\n * template.\n *\n * Any `<styles>` processed are removed from their original location.\n * Note: This method is deprecated, use `styleFromModule` instead.\n *\n * @deprecated\n * @param {string} moduleId dom-module id to gather styles from\n * @return {string} Concatenated CSS content from specified `dom-module`\n */\nexport function cssFromModule(moduleId) {\n  let m = importModule(moduleId);\n  if (m && m._cssText === undefined) {\n    // module imports: <link rel=\"import\" type=\"css\">\n    let cssText = _cssFromModuleImports(m);\n    // include css from the first template in the module\n    let t = /** @type {?HTMLTemplateElement} */(m.querySelector('template'));\n    if (t) {\n      cssText += cssFromTemplate(t,\n        /** @type {templateWithAssetPath} */(m).assetpath);\n    }\n    m._cssText = cssText || null;\n  }\n  if (!m) {\n    console.warn('Could not find style data in module named', moduleId);\n  }\n  return m && m._cssText || '';\n}\n\n/**\n * Returns CSS text of `<styles>` within a given template.\n *\n * Any `<styles>` processed are removed from their original location.\n * Note: This method is deprecated, use `styleFromTemplate` instead.\n *\n * @deprecated\n * @param {!HTMLTemplateElement} template Template to gather styles from\n * @param {string} baseURI Base URI to resolve the URL against\n * @return {string} Concatenated CSS content from specified template\n */\nexport function cssFromTemplate(template, baseURI) {\n  let cssText = '';\n  const e$ = stylesFromTemplate(template, baseURI);\n  // if element is a template, get content from its .content\n  for (let i=0; i < e$.length; i++) {\n    let e = e$[i];\n    if (e.parentNode) {\n      e.parentNode.removeChild(e);\n    }\n    cssText += e.textContent;\n  }\n  return cssText;\n}\n\n/**\n * Returns CSS text from stylesheets loaded via `<link rel=\"import\" type=\"css\">`\n * links within the specified `dom-module`.\n *\n * Note: This method is deprecated, use `stylesFromModuleImports` instead.\n *\n * @deprecated\n *\n * @param {string} moduleId Id of `dom-module` to gather CSS from\n * @return {string} Concatenated CSS content from links in specified `dom-module`\n */\nexport function cssFromModuleImports(moduleId) {\n  let m = importModule(moduleId);\n  return m ? _cssFromModuleImports(m) : '';\n}\n\n/**\n * @deprecated\n * @param {!HTMLElement} module dom-module element that could contain `<link rel=\"import\" type=\"css\">` styles\n * @return {string} Concatenated CSS content from links in the dom-module\n */\nfunction _cssFromModuleImports(module) {\n  let cssText = '';\n  let styles = _stylesFromModuleImports(module);\n  for (let i=0; i < styles.length; i++) {\n    cssText += styles[i].textContent;\n  }\n  return cssText;\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable valid-jsdoc */\n/**\n * Node wrapper to ensure ShadowDOM safe operation regardless of polyfill\n * presence or mode. Note that with the introduction of `ShadyDOM.noPatch`,\n * a node wrapper must be used to access ShadowDOM API.\n * This is similar to using `Polymer.dom` but relies exclusively\n * on the presence of the ShadyDOM polyfill rather than requiring the loading\n * of legacy (Polymer.dom) API.\n * @type {function(Node):Node}\n */\nexport const wrap = (window['ShadyDOM'] && window['ShadyDOM']['noPatch'] && window['ShadyDOM']['wrap']) ?\n  window['ShadyDOM']['wrap'] :\n  (window['ShadyDOM'] ? (n) => ShadyDOM['patch'](n) : (n) => n);\n\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n/**\n * Module with utilities for manipulating structured data path strings.\n *\n * @summary Module with utilities for manipulating structured data path strings.\n */\n\n/**\n * Returns true if the given string is a structured data path (has dots).\n *\n * Example:\n *\n * ```\n * isPath('foo.bar.baz') // true\n * isPath('foo')         // false\n * ```\n *\n * @param {string} path Path string\n * @return {boolean} True if the string contained one or more dots\n */\nexport function isPath(path) {\n  return path.indexOf('.') >= 0;\n}\n\n/**\n * Returns the root property name for the given path.\n *\n * Example:\n *\n * ```\n * root('foo.bar.baz') // 'foo'\n * root('foo')         // 'foo'\n * ```\n *\n * @param {string} path Path string\n * @return {string} Root property name\n */\nexport function root(path) {\n  let dotIndex = path.indexOf('.');\n  if (dotIndex === -1) {\n    return path;\n  }\n  return path.slice(0, dotIndex);\n}\n\n/**\n * Given `base` is `foo.bar`, `foo` is an ancestor, `foo.bar` is not\n * Returns true if the given path is an ancestor of the base path.\n *\n * Example:\n *\n * ```\n * isAncestor('foo.bar', 'foo')         // true\n * isAncestor('foo.bar', 'foo.bar')     // false\n * isAncestor('foo.bar', 'foo.bar.baz') // false\n * ```\n *\n * @param {string} base Path string to test against.\n * @param {string} path Path string to test.\n * @return {boolean} True if `path` is an ancestor of `base`.\n */\nexport function isAncestor(base, path) {\n  //     base.startsWith(path + '.');\n  return base.indexOf(path + '.') === 0;\n}\n\n/**\n * Given `base` is `foo.bar`, `foo.bar.baz` is an descendant\n *\n * Example:\n *\n * ```\n * isDescendant('foo.bar', 'foo.bar.baz') // true\n * isDescendant('foo.bar', 'foo.bar')     // false\n * isDescendant('foo.bar', 'foo')         // false\n * ```\n *\n * @param {string} base Path string to test against.\n * @param {string} path Path string to test.\n * @return {boolean} True if `path` is a descendant of `base`.\n */\nexport function isDescendant(base, path) {\n  //     path.startsWith(base + '.');\n  return path.indexOf(base + '.') === 0;\n}\n\n/**\n * Replaces a previous base path with a new base path, preserving the\n * remainder of the path.\n *\n * User must ensure `path` has a prefix of `base`.\n *\n * Example:\n *\n * ```\n * translate('foo.bar', 'zot', 'foo.bar.baz') // 'zot.baz'\n * ```\n *\n * @param {string} base Current base string to remove\n * @param {string} newBase New base string to replace with\n * @param {string} path Path to translate\n * @return {string} Translated string\n */\nexport function translate(base, newBase, path) {\n  return newBase + path.slice(base.length);\n}\n\n/**\n * @param {string} base Path string to test against\n * @param {string} path Path string to test\n * @return {boolean} True if `path` is equal to `base`\n */\nexport function matches(base, path) {\n  return (base === path) ||\n         isAncestor(base, path) ||\n         isDescendant(base, path);\n}\n\n/**\n * Converts array-based paths to flattened path.  String-based paths\n * are returned as-is.\n *\n * Example:\n *\n * ```\n * normalize(['foo.bar', 0, 'baz'])  // 'foo.bar.0.baz'\n * normalize('foo.bar.0.baz')        // 'foo.bar.0.baz'\n * ```\n *\n * @param {string | !Array<string|number>} path Input path\n * @return {string} Flattened path\n */\nexport function normalize(path) {\n  if (Array.isArray(path)) {\n    let parts = [];\n    for (let i=0; i<path.length; i++) {\n      let args = path[i].toString().split('.');\n      for (let j=0; j<args.length; j++) {\n        parts.push(args[j]);\n      }\n    }\n    return parts.join('.');\n  } else {\n    return path;\n  }\n}\n\n/**\n * Splits a path into an array of property names. Accepts either arrays\n * of path parts or strings.\n *\n * Example:\n *\n * ```\n * split(['foo.bar', 0, 'baz'])  // ['foo', 'bar', '0', 'baz']\n * split('foo.bar.0.baz')        // ['foo', 'bar', '0', 'baz']\n * ```\n *\n * @param {string | !Array<string|number>} path Input path\n * @return {!Array<string>} Array of path parts\n * @suppress {checkTypes}\n */\nexport function split(path) {\n  if (Array.isArray(path)) {\n    return normalize(path).split('.');\n  }\n  return path.toString().split('.');\n}\n\n/**\n * Reads a value from a path.  If any sub-property in the path is `undefined`,\n * this method returns `undefined` (will never throw.\n *\n * @param {Object} root Object from which to dereference path from\n * @param {string | !Array<string|number>} path Path to read\n * @param {Object=} info If an object is provided to `info`, the normalized\n *  (flattened) path will be set to `info.path`.\n * @return {*} Value at path, or `undefined` if the path could not be\n *  fully dereferenced.\n */\nexport function get(root, path, info) {\n  let prop = root;\n  let parts = split(path);\n  // Loop over path parts[0..n-1] and dereference\n  for (let i=0; i<parts.length; i++) {\n    if (!prop) {\n      return;\n    }\n    let part = parts[i];\n    prop = prop[part];\n  }\n  if (info) {\n    info.path = parts.join('.');\n  }\n  return prop;\n}\n\n/**\n * Sets a value to a path.  If any sub-property in the path is `undefined`,\n * this method will no-op.\n *\n * @param {Object} root Object from which to dereference path from\n * @param {string | !Array<string|number>} path Path to set\n * @param {*} value Value to set to path\n * @return {string | undefined} The normalized version of the input path\n */\nexport function set(root, path, value) {\n  let prop = root;\n  let parts = split(path);\n  let last = parts[parts.length-1];\n  if (parts.length > 1) {\n    // Loop over path parts[0..n-2] and dereference\n    for (let i=0; i<parts.length-1; i++) {\n      let part = parts[i];\n      prop = prop[part];\n      if (!prop) {\n        return;\n      }\n    }\n    // Set value to object at end of path\n    prop[last] = value;\n  } else {\n    // Simple property set\n    prop[path] = value;\n  }\n  return parts.join('.');\n}\n\n/**\n * Returns true if the given string is a structured data path (has dots).\n *\n * This function is deprecated.  Use `isPath` instead.\n *\n * Example:\n *\n * ```\n * isDeep('foo.bar.baz') // true\n * isDeep('foo')         // false\n * ```\n *\n * @deprecated\n * @param {string} path Path string\n * @return {boolean} True if the string contained one or more dots\n */\nexport const isDeep = isPath;\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\nconst caseMap = {};\nconst DASH_TO_CAMEL = /-[a-z]/g;\nconst CAMEL_TO_DASH = /([A-Z])/g;\n\n/**\n * @fileoverview Module with utilities for converting between \"dash-case\" and\n * \"camelCase\" identifiers.\n */\n\n/**\n * Converts \"dash-case\" identifier (e.g. `foo-bar-baz`) to \"camelCase\"\n * (e.g. `fooBarBaz`).\n *\n * @param {string} dash Dash-case identifier\n * @return {string} Camel-case representation of the identifier\n */\nexport function dashToCamelCase(dash) {\n  return caseMap[dash] || (\n    caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(DASH_TO_CAMEL,\n      (m) => m[1].toUpperCase()\n    )\n  );\n}\n\n/**\n * Converts \"camelCase\" identifier (e.g. `fooBarBaz`) to \"dash-case\"\n * (e.g. `foo-bar-baz`).\n *\n * @param {string} camel Camel-case identifier\n * @return {string} Dash-case representation of the identifier\n */\nexport function camelToDashCase(camel) {\n  return caseMap[camel] || (\n    caseMap[camel] = camel.replace(CAMEL_TO_DASH, '-$1').toLowerCase()\n  );\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * @fileoverview\n *\n * This module provides a number of strategies for enqueuing asynchronous\n * tasks. Each sub-module provides a standard `run(fn)` interface that returns a\n * handle, and a `cancel(handle)` interface for canceling async tasks before\n * they run.\n *\n * @summary Module that provides a number of strategies for enqueuing\n * asynchronous tasks.\n */\n\nimport './boot.js';\n\n// Microtask implemented using Mutation Observer\nlet microtaskCurrHandle = 0;\nlet microtaskLastHandle = 0;\nlet microtaskCallbacks = [];\nlet microtaskNodeContent = 0;\nlet microtaskScheduled = false;\nlet microtaskNode = document.createTextNode('');\nnew window.MutationObserver(microtaskFlush).observe(microtaskNode, {characterData: true});\n\nfunction microtaskFlush() {\n  microtaskScheduled = false;\n  const len = microtaskCallbacks.length;\n  for (let i = 0; i < len; i++) {\n    let cb = microtaskCallbacks[i];\n    if (cb) {\n      try {\n        cb();\n      } catch (e) {\n        setTimeout(() => { throw e; });\n      }\n    }\n  }\n  microtaskCallbacks.splice(0, len);\n  microtaskLastHandle += len;\n}\n\n/**\n * Async interface wrapper around `setTimeout`.\n *\n * @namespace\n * @summary Async interface wrapper around `setTimeout`.\n */\nconst timeOut = {\n  /**\n   * Returns a sub-module with the async interface providing the provided\n   * delay.\n   *\n   * @memberof timeOut\n   * @param {number=} delay Time to wait before calling callbacks in ms\n   * @return {!AsyncInterface} An async timeout interface\n   */\n  after(delay) {\n    return {\n      run(fn) { return window.setTimeout(fn, delay); },\n      cancel(handle) {\n        window.clearTimeout(handle);\n      }\n    };\n  },\n  /**\n   * Enqueues a function called in the next task.\n   *\n   * @memberof timeOut\n   * @param {!Function} fn Callback to run\n   * @param {number=} delay Delay in milliseconds\n   * @return {number} Handle used for canceling task\n   */\n  run(fn, delay) {\n    return window.setTimeout(fn, delay);\n  },\n  /**\n   * Cancels a previously enqueued `timeOut` callback.\n   *\n   * @memberof timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.clearTimeout(handle);\n  }\n};\nexport {timeOut};\n\n/**\n * Async interface wrapper around `requestAnimationFrame`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestAnimationFrame`.\n */\nconst animationFrame = {\n  /**\n   * Enqueues a function called at `requestAnimationFrame` timing.\n   *\n   * @memberof animationFrame\n   * @param {function(number):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestAnimationFrame(fn);\n  },\n  /**\n   * Cancels a previously enqueued `animationFrame` callback.\n   *\n   * @memberof animationFrame\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelAnimationFrame(handle);\n  }\n};\nexport {animationFrame};\n\n/**\n * Async interface wrapper around `requestIdleCallback`.  Falls back to\n * `setTimeout` on browsers that do not support `requestIdleCallback`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestIdleCallback`.\n */\nconst idlePeriod = {\n  /**\n   * Enqueues a function called at `requestIdleCallback` timing.\n   *\n   * @memberof idlePeriod\n   * @param {function(!IdleDeadline):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestIdleCallback ?\n      window.requestIdleCallback(fn) :\n      window.setTimeout(fn, 16);\n  },\n  /**\n   * Cancels a previously enqueued `idlePeriod` callback.\n   *\n   * @memberof idlePeriod\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelIdleCallback ?\n      window.cancelIdleCallback(handle) :\n      window.clearTimeout(handle);\n  }\n};\nexport {idlePeriod};\n\n/**\n * Async interface for enqueuing callbacks that run at microtask timing.\n *\n * Note that microtask timing is achieved via a single `MutationObserver`,\n * and thus callbacks enqueued with this API will all run in a single\n * batch, and not interleaved with other microtasks such as promises.\n * Promises are avoided as an implementation choice for the time being\n * due to Safari bugs that cause Promises to lack microtask guarantees.\n *\n * @namespace\n * @summary Async interface for enqueuing callbacks that run at microtask\n *   timing.\n */\nconst microTask = {\n\n  /**\n   * Enqueues a function called at microtask timing.\n   *\n   * @memberof microTask\n   * @param {!Function=} callback Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(callback) {\n    if (!microtaskScheduled) {\n      microtaskScheduled = true;\n      microtaskNode.textContent = microtaskNodeContent++;\n    }\n    microtaskCallbacks.push(callback);\n    return microtaskCurrHandle++;\n  },\n\n  /**\n   * Cancels a previously enqueued `microTask` callback.\n   *\n   * @memberof microTask\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    const idx = handle - microtaskLastHandle;\n    if (idx >= 0) {\n      if (!microtaskCallbacks[idx]) {\n        throw new Error('invalid async handle: ' + handle);\n      }\n      microtaskCallbacks[idx] = null;\n    }\n  }\n\n};\nexport {microTask};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { microTask } from '../utils/async.js';\nimport { wrap } from '../utils/wrap.js';\n\n/** @const {!AsyncInterface} */\nconst microtask = microTask;\n\n/**\n * Element class mixin that provides basic meta-programming for creating one\n * or more property accessors (getter/setter pair) that enqueue an async\n * (batched) `_propertiesChanged` callback.\n *\n * For basic usage of this mixin, call `MyClass.createProperties(props)`\n * once at class definition time to create property accessors for properties\n * named in props, implement `_propertiesChanged` to react as desired to\n * property changes, and implement `static get observedAttributes()` and\n * include lowercase versions of any property names that should be set from\n * attributes. Last, call `this._enableProperties()` in the element's\n * `connectedCallback` to enable the accessors.\n *\n * @mixinFunction\n * @polymer\n * @summary Element class mixin for reacting to property changes from\n *   generated property accessors.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const PropertiesChanged = dedupingMixin(\n    /**\n     * @template T\n     * @param {function(new:T)} superClass Class to apply mixin to.\n     * @return {function(new:T)} superClass with mixin applied.\n     */\n    (superClass) => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertiesChanged}\n   * @unrestricted\n   */\n  class PropertiesChanged extends superClass {\n\n    /**\n     * Creates property accessors for the given property names.\n     * @param {!Object} props Object whose keys are names of accessors.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createProperties(props) {\n      const proto = this.prototype;\n      for (let prop in props) {\n        // don't stomp an existing accessor\n        if (!(prop in proto)) {\n          proto._createPropertyAccessor(prop);\n        }\n      }\n    }\n\n    /**\n     * Returns an attribute name that corresponds to the given property.\n     * The attribute name is the lowercased property name. Override to\n     * customize this mapping.\n     * @param {string} property Property to convert\n     * @return {string} Attribute name corresponding to the given property.\n     *\n     * @protected\n     * @nocollapse\n     */\n    static attributeNameForProperty(property) {\n      return property.toLowerCase();\n    }\n\n    /**\n     * Override point to provide a type to which to deserialize a value to\n     * a given property.\n     * @param {string} name Name of property\n     *\n     * @protected\n     * @nocollapse\n     */\n    static typeForProperty(name) { } //eslint-disable-line no-unused-vars\n\n    /**\n     * Creates a setter/getter pair for the named property with its own\n     * local storage.  The getter returns the value in the local storage,\n     * and the setter calls `_setProperty`, which updates the local storage\n     * for the property and enqueues a `_propertiesChanged` callback.\n     *\n     * This method may be called on a prototype or an instance.  Calling\n     * this method may overwrite a property value that already exists on\n     * the prototype/instance by creating the accessor.\n     *\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created; the\n     *   protected `_setProperty` function must be used to set the property\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _createPropertyAccessor(property, readOnly) {\n      this._addPropertyToAttributeMap(property);\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('__dataHasAccessor', this))) {\n        this.__dataHasAccessor = Object.assign({}, this.__dataHasAccessor);\n      }\n      if (!this.__dataHasAccessor[property]) {\n        this.__dataHasAccessor[property] = true;\n        this._definePropertyAccessor(property, readOnly);\n      }\n    }\n\n    /**\n     * Adds the given `property` to a map matching attribute names\n     * to property names, using `attributeNameForProperty`. This map is\n     * used when deserializing attribute values to properties.\n     *\n     * @param {string} property Name of the property\n     * @override\n     */\n    _addPropertyToAttributeMap(property) {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('__dataAttributes', this))) {\n        this.__dataAttributes = Object.assign({}, this.__dataAttributes);\n      }\n      // This check is technically not correct; it's an optimization that\n      // assumes that if a _property_ name is already in the map (note this is\n      // an attr->property map), the property mapped directly to the attribute\n      // and it has already been mapped.  This would fail if\n      // `attributeNameForProperty` were overridden such that this was not the\n      // case.\n      let attr = this.__dataAttributes[property];\n      if (!attr) {\n        attr = this.constructor.attributeNameForProperty(property);\n        this.__dataAttributes[attr] = property;\n      }\n      return attr;\n    }\n\n    /**\n     * Defines a property accessor for the given property.\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created\n     * @return {void}\n     * @override\n     */\n     _definePropertyAccessor(property, readOnly) {\n      Object.defineProperty(this, property, {\n        /* eslint-disable valid-jsdoc */\n        /** @this {PropertiesChanged} */\n        get() {\n          // Inline for perf instead of using `_getProperty`\n          return this.__data[property];\n        },\n        /** @this {PropertiesChanged} */\n        set: readOnly ? function () {} : function (value) {\n          // Inline for perf instead of using `_setProperty`\n          if (this._setPendingProperty(property, value, true)) {\n            this._invalidateProperties();\n          }\n        }\n        /* eslint-enable */\n      });\n    }\n\n    constructor() {\n      super();\n      /** @type {boolean} */\n      this.__dataEnabled = false;\n      this.__dataReady = false;\n      this.__dataInvalid = false;\n      this.__data = {};\n      this.__dataPending = null;\n      this.__dataOld = null;\n      this.__dataInstanceProps = null;\n      /** @type {number} */\n      // NOTE: used to track re-entrant calls to `_flushProperties`\n      this.__dataCounter = 0;\n      this.__serializing = false;\n      this._initializeProperties();\n    }\n\n    /**\n     * Lifecycle callback called when properties are enabled via\n     * `_enableProperties`.\n     *\n     * Users may override this function to implement behavior that is\n     * dependent on the element having its property data initialized, e.g.\n     * from defaults (initialized from `constructor`, `_initializeProperties`),\n     * `attributeChangedCallback`, or values propagated from host e.g. via\n     * bindings.  `super.ready()` must be called to ensure the data system\n     * becomes enabled.\n     *\n     * @return {void}\n     * @public\n     * @override\n     */\n    ready() {\n      this.__dataReady = true;\n      this._flushProperties();\n    }\n\n    /**\n     * Initializes the local storage for property accessors.\n     *\n     * Provided as an override point for performing any setup work prior\n     * to initializing the property accessor system.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeProperties() {\n      // Capture instance properties; these will be set into accessors\n      // during first flush. Don't set them here, since we want\n      // these to overwrite defaults/constructor assignments\n      for (let p in this.__dataHasAccessor) {\n        if (this.hasOwnProperty(p)) {\n          this.__dataInstanceProps = this.__dataInstanceProps || {};\n          this.__dataInstanceProps[p] = this[p];\n          delete this[p];\n        }\n      }\n    }\n\n    /**\n     * Called at ready time with bag of instance properties that overwrote\n     * accessors when the element upgraded.\n     *\n     * The default implementation sets these properties back into the\n     * setter at ready time.  This method is provided as an override\n     * point for customizing or providing more efficient initialization.\n     *\n     * @param {Object} props Bag of property values that were overwritten\n     *   when creating property accessors.\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeInstanceProperties(props) {\n      Object.assign(this, props);\n    }\n\n    /**\n     * Updates the local storage for a property (via `_setPendingProperty`)\n     * and enqueues a `_proeprtiesChanged` callback.\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _setProperty(property, value) {\n      if (this._setPendingProperty(property, value)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Returns the value for the given property.\n     * @param {string} property Name of property\n     * @return {*} Value for the given property\n     * @protected\n     * @override\n     */\n    _getProperty(property) {\n      return this.__data[property];\n    }\n\n    /* eslint-disable no-unused-vars */\n    /**\n     * Updates the local storage for a property, records the previous value,\n     * and adds it to the set of \"pending changes\" that will be passed to the\n     * `_propertiesChanged` callback.  This method does not enqueue the\n     * `_propertiesChanged` callback.\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @param {boolean=} ext Not used here; affordance for closure\n     * @return {boolean} Returns true if the property changed\n     * @protected\n     * @override\n     */\n    _setPendingProperty(property, value, ext) {\n      let old = this.__data[property];\n      let changed = this._shouldPropertyChange(property, value, old);\n      if (changed) {\n        if (!this.__dataPending) {\n          this.__dataPending = {};\n          this.__dataOld = {};\n        }\n        // Ensure old is captured from the last turn\n        if (this.__dataOld && !(property in this.__dataOld)) {\n          this.__dataOld[property] = old;\n        }\n        this.__data[property] = value;\n        this.__dataPending[property] = value;\n      }\n      return changed;\n    }\n    /* eslint-enable */\n\n    /**\n     * @param {string} property Name of the property\n     * @return {boolean} Returns true if the property is pending.\n     */\n    _isPropertyPending(property) {\n      return !!(this.__dataPending && this.__dataPending.hasOwnProperty(property));\n    }\n\n    /**\n     * Marks the properties as invalid, and enqueues an async\n     * `_propertiesChanged` callback.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _invalidateProperties() {\n      if (!this.__dataInvalid && this.__dataReady) {\n        this.__dataInvalid = true;\n        microtask.run(() => {\n          if (this.__dataInvalid) {\n            this.__dataInvalid = false;\n            this._flushProperties();\n          }\n        });\n      }\n    }\n\n    /**\n     * Call to enable property accessor processing. Before this method is\n     * called accessor values will be set but side effects are\n     * queued. When called, any pending side effects occur immediately.\n     * For elements, generally `connectedCallback` is a normal spot to do so.\n     * It is safe to call this method multiple times as it only turns on\n     * property accessors once.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _enableProperties() {\n      if (!this.__dataEnabled) {\n        this.__dataEnabled = true;\n        if (this.__dataInstanceProps) {\n          this._initializeInstanceProperties(this.__dataInstanceProps);\n          this.__dataInstanceProps = null;\n        }\n        this.ready();\n      }\n    }\n\n    /**\n     * Calls the `_propertiesChanged` callback with the current set of\n     * pending changes (and old values recorded when pending changes were\n     * set), and resets the pending set of changes. Generally, this method\n     * should not be called in user code.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _flushProperties() {\n      this.__dataCounter++;\n      const props = this.__data;\n      const changedProps = this.__dataPending;\n      const old = this.__dataOld;\n      if (this._shouldPropertiesChange(props, changedProps, old)) {\n        this.__dataPending = null;\n        this.__dataOld = null;\n        this._propertiesChanged(props, changedProps, old);\n      }\n      this.__dataCounter--;\n    }\n\n    /**\n     * Called in `_flushProperties` to determine if `_propertiesChanged`\n     * should be called. The default implementation returns true if\n     * properties are pending. Override to customize when\n     * `_propertiesChanged` is called.\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {?Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {?Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @return {boolean} true if changedProps is truthy\n     * @override\n     */\n    _shouldPropertiesChange(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n      return Boolean(changedProps);\n    }\n\n    /**\n     * Callback called when any properties with accessors created via\n     * `_createPropertyAccessor` have been set.\n     *\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {?Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {?Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _propertiesChanged(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n    }\n\n    /**\n     * Method called to determine whether a property value should be\n     * considered as a change and cause the `_propertiesChanged` callback\n     * to be enqueued.\n     *\n     * The default implementation returns `true` if a strict equality\n     * check fails. The method always returns false for `NaN`.\n     *\n     * Override this method to e.g. provide stricter checking for\n     * Objects/Arrays when using immutable patterns.\n     *\n     * @param {string} property Property name\n     * @param {*} value New property value\n     * @param {*} old Previous property value\n     * @return {boolean} Whether the property should be considered a change\n     *   and enqueue a `_proeprtiesChanged` callback\n     * @protected\n     * @override\n     */\n    _shouldPropertyChange(property, value, old) {\n      return (\n        // Strict equality check\n        (old !== value &&\n          // This ensures (old==NaN, value==NaN) always returns false\n          (old === old || value === value))\n      );\n    }\n\n    /**\n     * Implements native Custom Elements `attributeChangedCallback` to\n     * set an attribute value to a property via `_attributeToProperty`.\n     *\n     * @param {string} name Name of attribute that changed\n     * @param {?string} old Old attribute value\n     * @param {?string} value New attribute value\n     * @param {?string} namespace Attribute namespace.\n     * @return {void}\n     * @suppress {missingProperties} Super may or may not implement the callback\n     * @override\n     */\n    attributeChangedCallback(name, old, value, namespace) {\n      if (old !== value) {\n        this._attributeToProperty(name, value);\n      }\n      if (super.attributeChangedCallback) {\n        super.attributeChangedCallback(name, old, value, namespace);\n      }\n    }\n\n    /**\n     * Deserializes an attribute to its associated property.\n     *\n     * This method calls the `_deserializeValue` method to convert the string to\n     * a typed value.\n     *\n     * @param {string} attribute Name of attribute to deserialize.\n     * @param {?string} value of the attribute.\n     * @param {*=} type type to deserialize to, defaults to the value\n     * returned from `typeForProperty`\n     * @return {void}\n     * @override\n     */\n    _attributeToProperty(attribute, value, type) {\n      if (!this.__serializing) {\n        const map = this.__dataAttributes;\n        const property = map && map[attribute] || attribute;\n        this[property] = this._deserializeValue(value, type ||\n          this.constructor.typeForProperty(property));\n      }\n    }\n\n    /**\n     * Serializes a property to its associated attribute.\n     *\n     * @suppress {invalidCasts} Closure can't figure out `this` is an element.\n     *\n     * @param {string} property Property name to reflect.\n     * @param {string=} attribute Attribute name to reflect to.\n     * @param {*=} value Property value to refect.\n     * @return {void}\n     * @override\n     */\n    _propertyToAttribute(property, attribute, value) {\n      this.__serializing = true;\n      value = (arguments.length < 3) ? this[property] : value;\n      this._valueToNodeAttribute(/** @type {!HTMLElement} */(this), value,\n        attribute || this.constructor.attributeNameForProperty(property));\n      this.__serializing = false;\n    }\n\n    /**\n     * Sets a typed value to an HTML attribute on a node.\n     *\n     * This method calls the `_serializeValue` method to convert the typed\n     * value to a string.  If the `_serializeValue` method returns `undefined`,\n     * the attribute will be removed (this is the default for boolean\n     * type `false`).\n     *\n     * @param {Element} node Element to set attribute to.\n     * @param {*} value Value to serialize.\n     * @param {string} attribute Attribute name to serialize to.\n     * @return {void}\n     * @override\n     */\n    _valueToNodeAttribute(node, value, attribute) {\n      const str = this._serializeValue(value);\n      if (attribute === 'class' || attribute === 'name' || attribute === 'slot') {\n        node = /** @type {?Element} */(wrap(node));\n      }\n      if (str === undefined) {\n        node.removeAttribute(attribute);\n      } else {\n        node.setAttribute(\n            attribute,\n            // Closure's type for `setAttribute`'s second parameter incorrectly\n            // excludes `TrustedScript`.\n            (str === '' && window.trustedTypes) ?\n                /** @type {?} */ (window.trustedTypes.emptyScript) :\n                str);\n      }\n    }\n\n    /**\n     * Converts a typed JavaScript value to a string.\n     *\n     * This method is called when setting JS property values to\n     * HTML attributes.  Users may override this method to provide\n     * serialization for custom types.\n     *\n     * @param {*} value Property value to serialize.\n     * @return {string | undefined} String serialized from the provided\n     * property  value.\n     * @override\n     */\n    _serializeValue(value) {\n      switch (typeof value) {\n        case 'boolean':\n          return value ? '' : undefined;\n        default:\n          return value != null ? value.toString() : undefined;\n      }\n    }\n\n    /**\n     * Converts a string to a typed JavaScript value.\n     *\n     * This method is called when reading HTML attribute values to\n     * JS properties.  Users may override this method to provide\n     * deserialization for custom `type`s. Types for `Boolean`, `String`,\n     * and `Number` convert attributes to the expected types.\n     *\n     * @param {?string} value Value to deserialize.\n     * @param {*=} type Type to deserialize the string to.\n     * @return {*} Typed value deserialized from the provided string.\n     * @override\n     */\n    _deserializeValue(value, type) {\n      switch (type) {\n        case Boolean:\n          return (value !== null);\n        case Number:\n          return Number(value);\n        default:\n          return value;\n      }\n    }\n\n  }\n\n  return PropertiesChanged;\n});\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { camelToDashCase, dashToCamelCase } from '../utils/case-map.js';\nimport { PropertiesChanged } from './properties-changed.js';\n\n// Save map of native properties; this forms a blacklist or properties\n// that won't have their values \"saved\" by `saveAccessorValue`, since\n// reading from an HTMLElement accessor from the context of a prototype throws\nconst nativeProperties = {};\nlet proto = HTMLElement.prototype;\nwhile (proto) {\n  let props = Object.getOwnPropertyNames(proto);\n  for (let i=0; i<props.length; i++) {\n    nativeProperties[props[i]] = true;\n  }\n  proto = Object.getPrototypeOf(proto);\n}\n\nconst isTrustedType = (() => {\n  if (!window.trustedTypes) {\n    return () => false;\n  }\n  return (val) => trustedTypes.isHTML(val) ||\n        trustedTypes.isScript(val) || trustedTypes.isScriptURL(val);\n})();\n\n/**\n * Used to save the value of a property that will be overridden with\n * an accessor. If the `model` is a prototype, the values will be saved\n * in `__dataProto`, and it's up to the user (or downstream mixin) to\n * decide how/when to set these values back into the accessors.\n * If `model` is already an instance (it has a `__data` property), then\n * the value will be set as a pending property, meaning the user should\n * call `_invalidateProperties` or `_flushProperties` to take effect\n *\n * @param {Object} model Prototype or instance\n * @param {string} property Name of property\n * @return {void}\n * @private\n */\nfunction saveAccessorValue(model, property) {\n  // Don't read/store value for any native properties since they could throw\n  if (!nativeProperties[property]) {\n    let value = model[property];\n    if (value !== undefined) {\n      if (model.__data) {\n        // Adding accessor to instance; update the property\n        // It is the user's responsibility to call _flushProperties\n        model._setPendingProperty(property, value);\n      } else {\n        // Adding accessor to proto; save proto's value for instance-time use\n        if (!model.__dataProto) {\n          model.__dataProto = {};\n        } else if (!model.hasOwnProperty(JSCompiler_renameProperty('__dataProto', model))) {\n          model.__dataProto = Object.create(model.__dataProto);\n        }\n        model.__dataProto[property] = value;\n      }\n    }\n  }\n}\n\n/**\n * Element class mixin that provides basic meta-programming for creating one\n * or more property accessors (getter/setter pair) that enqueue an async\n * (batched) `_propertiesChanged` callback.\n *\n * For basic usage of this mixin:\n *\n * -   Declare attributes to observe via the standard `static get\n *     observedAttributes()`. Use `dash-case` attribute names to represent\n *     `camelCase` property names.\n * -   Implement the `_propertiesChanged` callback on the class.\n * -   Call `MyClass.createPropertiesForAttributes()` **once** on the class to\n *     generate property accessors for each observed attribute. This must be\n *     called before the first instance is created, for example, by calling it\n *     before calling `customElements.define`. It can also be called lazily from\n *     the element's `constructor`, as long as it's guarded so that the call is\n *     only made once, when the first instance is created.\n * -   Call `this._enableProperties()` in the element's `connectedCallback` to\n *     enable the accessors.\n *\n * Any `observedAttributes` will automatically be\n * deserialized via `attributeChangedCallback` and set to the associated\n * property using `dash-case`-to-`camelCase` convention.\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin PropertiesChanged\n * @summary Element class mixin for reacting to property changes from\n *   generated property accessors.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const PropertyAccessors = dedupingMixin(superClass => {\n\n  /**\n   * @constructor\n   * @implements {Polymer_PropertiesChanged}\n   * @unrestricted\n   * @private\n   */\n   const base = PropertiesChanged(superClass);\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertyAccessors}\n   * @extends {base}\n   * @unrestricted\n   */\n  class PropertyAccessors extends base {\n\n    /**\n     * Generates property accessors for all attributes in the standard\n     * static `observedAttributes` array.\n     *\n     * Attribute names are mapped to property names using the `dash-case` to\n     * `camelCase` convention\n     *\n     * @return {void}\n     * @nocollapse\n     */\n    static createPropertiesForAttributes() {\n      let a$ =  /** @type {?} */ (this).observedAttributes;\n      for (let i=0; i < a$.length; i++) {\n        this.prototype._createPropertyAccessor(dashToCamelCase(a$[i]));\n      }\n    }\n\n    /**\n     * Returns an attribute name that corresponds to the given property.\n     * By default, converts camel to dash case, e.g. `fooBar` to `foo-bar`.\n     * @param {string} property Property to convert\n     * @return {string} Attribute name corresponding to the given property.\n     *\n     * @protected\n     * @nocollapse\n     */\n    static attributeNameForProperty(property) {\n      return camelToDashCase(property);\n    }\n\n    /**\n     * Overrides PropertiesChanged implementation to initialize values for\n     * accessors created for values that already existed on the element\n     * prototype.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeProperties() {\n      if (this.__dataProto) {\n        this._initializeProtoProperties(this.__dataProto);\n        this.__dataProto = null;\n      }\n      super._initializeProperties();\n    }\n\n    /**\n     * Called at instance time with bag of properties that were overwritten\n     * by accessors on the prototype when accessors were created.\n     *\n     * The default implementation sets these properties back into the\n     * setter at instance time.  This method is provided as an override\n     * point for customizing or providing more efficient initialization.\n     *\n     * @param {Object} props Bag of property values that were overwritten\n     *   when creating property accessors.\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeProtoProperties(props) {\n      for (let p in props) {\n        this._setProperty(p, props[p]);\n      }\n    }\n\n    /**\n     * Ensures the element has the given attribute. If it does not,\n     * assigns the given value to the attribute.\n     *\n     * @suppress {invalidCasts} Closure can't figure out `this` is infact an\n     *     element\n     *\n     * @param {string} attribute Name of attribute to ensure is set.\n     * @param {string} value of the attribute.\n     * @return {void}\n     * @override\n     */\n    _ensureAttribute(attribute, value) {\n      const el = /** @type {!HTMLElement} */(this);\n      if (!el.hasAttribute(attribute)) {\n        this._valueToNodeAttribute(el, value, attribute);\n      }\n    }\n\n    /**\n     * Overrides PropertiesChanged implemention to serialize objects as JSON.\n     *\n     * @param {*} value Property value to serialize.\n     * @return {string | undefined} String serialized from the provided property\n     *     value.\n     * @override\n     */\n    _serializeValue(value) {\n      /* eslint-disable no-fallthrough */\n      switch (typeof value) {\n        case 'object':\n          if (value instanceof Date) {\n            return value.toString();\n          } else if (value) {\n            if (isTrustedType(value)) {\n              /**\n               * Here `value` isn't actually a string, but it should be\n               * passed into APIs that normally expect a string, like\n               * elem.setAttribute.\n               */\n              return /** @type {?} */ (value);\n            }\n            try {\n              return JSON.stringify(value);\n            } catch(x) {\n              return '';\n            }\n          }\n\n        default:\n          return super._serializeValue(value);\n      }\n    }\n\n    /**\n     * Converts a string to a typed JavaScript value.\n     *\n     * This method is called by Polymer when reading HTML attribute values to\n     * JS properties.  Users may override this method on Polymer element\n     * prototypes to provide deserialization for custom `type`s.  Note,\n     * the `type` argument is the value of the `type` field provided in the\n     * `properties` configuration object for a given property, and is\n     * by convention the constructor for the type to deserialize.\n     *\n     *\n     * @param {?string} value Attribute value to deserialize.\n     * @param {*=} type Type to deserialize the string to.\n     * @return {*} Typed value deserialized from the provided string.\n     * @override\n     */\n    _deserializeValue(value, type) {\n      /**\n       * @type {*}\n       */\n      let outValue;\n      switch (type) {\n        case Object:\n          try {\n            outValue = JSON.parse(/** @type {string} */(value));\n          } catch(x) {\n            // allow non-JSON literals like Strings and Numbers\n            outValue = value;\n          }\n          break;\n        case Array:\n          try {\n            outValue = JSON.parse(/** @type {string} */(value));\n          } catch(x) {\n            outValue = null;\n            console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`);\n          }\n          break;\n        case Date:\n          outValue = isNaN(value) ? String(value) : Number(value);\n          outValue = new Date(outValue);\n          break;\n        default:\n          outValue = super._deserializeValue(value, type);\n          break;\n      }\n      return outValue;\n    }\n    /* eslint-enable no-fallthrough */\n\n    /**\n     * Overrides PropertiesChanged implementation to save existing prototype\n     * property value so that it can be reset.\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created\n     *\n     * When calling on a prototype, any overwritten values are saved in\n     * `__dataProto`, and it is up to the subclasser to decide how/when\n     * to set those properties back into the accessor.  When calling on an\n     * instance, the overwritten value is set via `_setPendingProperty`,\n     * and the user should call `_invalidateProperties` or `_flushProperties`\n     * for the values to take effect.\n     * @protected\n     * @return {void}\n     * @override\n     */\n    _definePropertyAccessor(property, readOnly) {\n      saveAccessorValue(this, property);\n      super._definePropertyAccessor(property, readOnly);\n    }\n\n    /**\n     * Returns true if this library created an accessor for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if an accessor was created\n     * @override\n     */\n    _hasAccessor(property) {\n      return this.__dataHasAccessor && this.__dataHasAccessor[property];\n    }\n\n    /**\n     * Returns true if the specified property has a pending change.\n     *\n     * @param {string} prop Property name\n     * @return {boolean} True if property has a pending change\n     * @protected\n     * @override\n     */\n    _isPropertyPending(prop) {\n      return Boolean(this.__dataPending && (prop in this.__dataPending));\n    }\n\n  }\n\n  return PropertyAccessors;\n\n});\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\n\n// 1.x backwards-compatible auto-wrapper for template type extensions\n// This is a clear layering violation and gives favored-nation status to\n// dom-if and dom-repeat templates.  This is a conceit we're choosing to keep\n// a.) to ease 1.x backwards-compatibility due to loss of `is`, and\n// b.) to maintain if/repeat capability in parser-constrained elements\n//     (e.g. table, select) in lieu of native CE type extensions without\n//     massive new invention in this space (e.g. directive system)\nconst templateExtensions = {\n  'dom-if': true,\n  'dom-repeat': true\n};\n\nlet placeholderBugDetect = false;\nlet placeholderBug = false;\n\nfunction hasPlaceholderBug() {\n  if (!placeholderBugDetect) {\n    placeholderBugDetect = true;\n    const t = document.createElement('textarea');\n    t.placeholder = 'a';\n    placeholderBug = t.placeholder === t.textContent;\n  }\n  return placeholderBug;\n}\n\n/**\n * Some browsers have a bug with textarea, where placeholder text is copied as\n * a textnode child of the textarea.\n *\n * If the placeholder is a binding, this can break template stamping in two\n * ways.\n *\n * One issue is that when the `placeholder` attribute is removed when the\n * binding is processed, the textnode child of the textarea is deleted, and the\n * template info tries to bind into that node.\n *\n * With `legacyOptimizations` in use, when the template is stamped and the\n * `textarea.textContent` binding is processed, no corresponding node is found\n * because it was removed during parsing. An exception is generated when this\n * binding is updated.\n *\n * With `legacyOptimizations` not in use, the template is cloned before\n * processing and this changes the above behavior. The cloned template also has\n * a value property set to the placeholder and textContent. This prevents the\n * removal of the textContent when the placeholder attribute is removed.\n * Therefore the exception does not occur. However, there is an extra\n * unnecessary binding.\n *\n * @param {!Node} node Check node for placeholder bug\n * @return {void}\n */\nfunction fixPlaceholder(node) {\n  if (hasPlaceholderBug() && node.localName === 'textarea' && node.placeholder\n        && node.placeholder === node.textContent) {\n    node.textContent = null;\n  }\n}\n\n/**\n * Copies an attribute from one element to another, converting the value to a\n * `TrustedScript` if it is named like a Polymer template event listener.\n *\n * @param {!Element} dest The element to set the attribute on\n * @param {!Element} src The element to read the attribute from\n * @param {string} name The name of the attribute\n */\nconst copyAttributeWithTemplateEventPolicy = (() => {\n  /**\n   * This `TrustedTypePolicy` is used to work around a Chrome bug in the Trusted\n   * Types API where any attribute that starts with `on` may only be set to a\n   * `TrustedScript` value, even if that attribute would not cause an event\n   * listener to be created. (See https://crbug.com/993268 for details.)\n   *\n   * Polymer's template system allows `<dom-if>` and `<dom-repeat>` to be\n   * written using the `<template is=\"...\">` syntax, even if there is no UA\n   * support for custom element extensions of built-in elements. In doing so, it\n   * copies attributes from the original `<template>` to a newly created\n   * `<dom-if>` or `<dom-repeat>`, which can trigger the bug mentioned above if\n   * any of those attributes uses Polymer's `on-` syntax for event listeners.\n   * (Note, the value of these `on-` listeners is not evaluated as script: it is\n   * the name of a member function of a component that will be used as the event\n   * listener.)\n   *\n   * @type {!TrustedTypePolicy|undefined}\n   */\n  const polymerTemplateEventAttributePolicy = window.trustedTypes &&\n      window.trustedTypes.createPolicy(\n          'polymer-template-event-attribute-policy', {\n            createScript: x => x,\n          });\n\n  return (dest, src, name) => {\n    const value = src.getAttribute(name);\n\n    if (polymerTemplateEventAttributePolicy && name.startsWith('on-')) {\n      dest.setAttribute(\n          name, polymerTemplateEventAttributePolicy.createScript(value, name));\n      return;\n    }\n\n    dest.setAttribute(name, value);\n  };\n})();\n\nfunction wrapTemplateExtension(node) {\n  let is = node.getAttribute('is');\n  if (is && templateExtensions[is]) {\n    let t = node;\n    t.removeAttribute('is');\n    node = t.ownerDocument.createElement(is);\n    t.parentNode.replaceChild(node, t);\n    node.appendChild(t);\n    while(t.attributes.length) {\n      const {name} = t.attributes[0];\n      copyAttributeWithTemplateEventPolicy(node, t, name);\n      t.removeAttribute(name);\n    }\n  }\n  return node;\n}\n\nfunction findTemplateNode(root, nodeInfo) {\n  // recursively ascend tree until we hit root\n  let parent = nodeInfo.parentInfo && findTemplateNode(root, nodeInfo.parentInfo);\n  // unwind the stack, returning the indexed node at each level\n  if (parent) {\n    // note: marginally faster than indexing via childNodes\n    // (http://jsperf.com/childnodes-lookup)\n    for (let n=parent.firstChild, i=0; n; n=n.nextSibling) {\n      if (nodeInfo.parentIndex === i++) {\n        return n;\n      }\n    }\n  } else {\n    return root;\n  }\n}\n\n// construct `$` map (from id annotations)\nfunction applyIdToMap(inst, map, node, nodeInfo) {\n  if (nodeInfo.id) {\n    map[nodeInfo.id] = node;\n  }\n}\n\n// install event listeners (from event annotations)\nfunction applyEventListener(inst, node, nodeInfo) {\n  if (nodeInfo.events && nodeInfo.events.length) {\n    for (let j=0, e$=nodeInfo.events, e; (j<e$.length) && (e=e$[j]); j++) {\n      inst._addMethodEventListenerToNode(node, e.name, e.value, inst);\n    }\n  }\n}\n\n// push configuration references at configure time\nfunction applyTemplateInfo(inst, node, nodeInfo, parentTemplateInfo) {\n  if (nodeInfo.templateInfo) {\n    // Give the node an instance of this templateInfo and set its parent\n    node._templateInfo = nodeInfo.templateInfo;\n    node._parentTemplateInfo = parentTemplateInfo;\n  }\n}\n\nfunction createNodeEventHandler(context, eventName, methodName) {\n  // Instances can optionally have a _methodHost which allows redirecting where\n  // to find methods. Currently used by `templatize`.\n  context = context._methodHost || context;\n  let handler = function(e) {\n    if (context[methodName]) {\n      context[methodName](e, e.detail);\n    } else {\n      console.warn('listener method `' + methodName + '` not defined');\n    }\n  };\n  return handler;\n}\n\n/**\n * Element mixin that provides basic template parsing and stamping, including\n * the following template-related features for stamped templates:\n *\n * - Declarative event listeners (`on-eventname=\"listener\"`)\n * - Map of node id's to stamped node instances (`this.$.id`)\n * - Nested template content caching/removal and re-installation (performance\n *   optimization)\n *\n * @mixinFunction\n * @polymer\n * @summary Element class mixin that provides basic template parsing and stamping\n */\nexport const TemplateStamp = dedupingMixin(\n    /**\n     * @template T\n     * @param {function(new:T)} superClass Class to apply mixin to.\n     * @return {function(new:T)} superClass with mixin applied.\n     */\n    (superClass) => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_TemplateStamp}\n   */\n  class TemplateStamp extends superClass {\n\n    /**\n     * Scans a template to produce template metadata.\n     *\n     * Template-specific metadata are stored in the object returned, and node-\n     * specific metadata are stored in objects in its flattened `nodeInfoList`\n     * array.  Only nodes in the template that were parsed as nodes of\n     * interest contain an object in `nodeInfoList`.  Each `nodeInfo` object\n     * contains an `index` (`childNodes` index in parent) and optionally\n     * `parent`, which points to node info of its parent (including its index).\n     *\n     * The template metadata object returned from this method has the following\n     * structure (many fields optional):\n     *\n     * ```js\n     *   {\n     *     // Flattened list of node metadata (for nodes that generated metadata)\n     *     nodeInfoList: [\n     *       {\n     *         // `id` attribute for any nodes with id's for generating `$` map\n     *         id: {string},\n     *         // `on-event=\"handler\"` metadata\n     *         events: [\n     *           {\n     *             name: {string},   // event name\n     *             value: {string},  // handler method name\n     *           }, ...\n     *         ],\n     *         // Notes when the template contained a `<slot>` for shady DOM\n     *         // optimization purposes\n     *         hasInsertionPoint: {boolean},\n     *         // For nested `<template>`` nodes, nested template metadata\n     *         templateInfo: {object}, // nested template metadata\n     *         // Metadata to allow efficient retrieval of instanced node\n     *         // corresponding to this metadata\n     *         parentInfo: {number},   // reference to parent nodeInfo>\n     *         parentIndex: {number},  // index in parent's `childNodes` collection\n     *         infoIndex: {number},    // index of this `nodeInfo` in `templateInfo.nodeInfoList`\n     *       },\n     *       ...\n     *     ],\n     *     // When true, the template had the `strip-whitespace` attribute\n     *     // or was nested in a template with that setting\n     *     stripWhitespace: {boolean},\n     *     // For nested templates, nested template content is moved into\n     *     // a document fragment stored here; this is an optimization to\n     *     // avoid the cost of nested template cloning\n     *     content: {DocumentFragment}\n     *   }\n     * ```\n     *\n     * This method kicks off a recursive treewalk as follows:\n     *\n     * ```\n     *    _parseTemplate <---------------------+\n     *      _parseTemplateContent              |\n     *        _parseTemplateNode  <------------|--+\n     *          _parseTemplateNestedTemplate --+  |\n     *          _parseTemplateChildNodes ---------+\n     *          _parseTemplateNodeAttributes\n     *            _parseTemplateNodeAttribute\n     *\n     * ```\n     *\n     * These methods may be overridden to add custom metadata about templates\n     * to either `templateInfo` or `nodeInfo`.\n     *\n     * Note that this method may be destructive to the template, in that\n     * e.g. event annotations may be removed after being noted in the\n     * template metadata.\n     *\n     * @param {!HTMLTemplateElement} template Template to parse\n     * @param {TemplateInfo=} outerTemplateInfo Template metadata from the outer\n     *   template, for parsing nested templates\n     * @return {!TemplateInfo} Parsed template metadata\n     * @nocollapse\n     */\n    static _parseTemplate(template, outerTemplateInfo) {\n      // since a template may be re-used, memo-ize metadata\n      if (!template._templateInfo) {\n        // TODO(rictic): fix typing\n        let /** ? */ templateInfo = template._templateInfo = {};\n        templateInfo.nodeInfoList = [];\n        templateInfo.nestedTemplate = Boolean(outerTemplateInfo);\n        templateInfo.stripWhiteSpace =\n          (outerTemplateInfo && outerTemplateInfo.stripWhiteSpace) ||\n          (template.hasAttribute && template.hasAttribute('strip-whitespace'));\n         // TODO(rictic): fix typing\n         this._parseTemplateContent(\n             template, templateInfo, /** @type {?} */ ({parent: null}));\n      }\n      return template._templateInfo;\n    }\n\n    /**\n     * See docs for _parseTemplateNode.\n     *\n     * @param {!HTMLTemplateElement} template .\n     * @param {!TemplateInfo} templateInfo .\n     * @param {!NodeInfo} nodeInfo .\n     * @return {boolean} .\n     * @nocollapse\n     */\n    static _parseTemplateContent(template, templateInfo, nodeInfo) {\n      return this._parseTemplateNode(template.content, templateInfo, nodeInfo);\n    }\n\n    /**\n     * Parses template node and adds template and node metadata based on\n     * the current node, and its `childNodes` and `attributes`.\n     *\n     * This method may be overridden to add custom node or template specific\n     * metadata based on this node.\n     *\n     * @param {Node} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNode(node, templateInfo, nodeInfo) {\n      let noted = false;\n      let element = /** @type {!HTMLTemplateElement} */ (node);\n      if (element.localName == 'template' && !element.hasAttribute('preserve-content')) {\n        noted = this._parseTemplateNestedTemplate(element, templateInfo, nodeInfo) || noted;\n      } else if (element.localName === 'slot') {\n        // For ShadyDom optimization, indicating there is an insertion point\n        templateInfo.hasInsertionPoint = true;\n      }\n      fixPlaceholder(element);\n      if (element.firstChild) {\n        this._parseTemplateChildNodes(element, templateInfo, nodeInfo);\n      }\n      if (element.hasAttributes && element.hasAttributes()) {\n        noted = this._parseTemplateNodeAttributes(element, templateInfo, nodeInfo) || noted;\n      }\n      // Checking `nodeInfo.noted` allows a child node of this node (who gets\n      // access to `parentInfo`) to cause the parent to be noted, which\n      // otherwise has no return path via `_parseTemplateChildNodes` (used by\n      // some optimizations)\n      return noted || nodeInfo.noted;\n    }\n\n    /**\n     * Parses template child nodes for the given root node.\n     *\n     * This method also wraps whitelisted legacy template extensions\n     * (`is=\"dom-if\"` and `is=\"dom-repeat\"`) with their equivalent element\n     * wrappers, collapses text nodes, and strips whitespace from the template\n     * if the `templateInfo.stripWhitespace` setting was provided.\n     *\n     * @param {Node} root Root node whose `childNodes` will be parsed\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {void}\n     */\n    static _parseTemplateChildNodes(root, templateInfo, nodeInfo) {\n      if (root.localName === 'script' || root.localName === 'style') {\n        return;\n      }\n      for (let node=root.firstChild, parentIndex=0, next; node; node=next) {\n        // Wrap templates\n        if (node.localName == 'template') {\n          node = wrapTemplateExtension(node);\n        }\n        // collapse adjacent textNodes: fixes an IE issue that can cause\n        // text nodes to be inexplicably split =(\n        // note that root.normalize() should work but does not so we do this\n        // manually.\n        next = node.nextSibling;\n        if (node.nodeType === Node.TEXT_NODE) {\n          let /** Node */ n = next;\n          while (n && (n.nodeType === Node.TEXT_NODE)) {\n            node.textContent += n.textContent;\n            next = n.nextSibling;\n            root.removeChild(n);\n            n = next;\n          }\n          // optionally strip whitespace\n          if (templateInfo.stripWhiteSpace && !node.textContent.trim()) {\n            root.removeChild(node);\n            continue;\n          }\n        }\n        let childInfo =\n            /** @type {!NodeInfo} */ ({parentIndex, parentInfo: nodeInfo});\n        if (this._parseTemplateNode(node, templateInfo, childInfo)) {\n          childInfo.infoIndex = templateInfo.nodeInfoList.push(childInfo) - 1;\n        }\n        // Increment if not removed\n        if (node.parentNode) {\n          parentIndex++;\n        }\n      }\n    }\n\n    /**\n     * Parses template content for the given nested `<template>`.\n     *\n     * Nested template info is stored as `templateInfo` in the current node's\n     * `nodeInfo`. `template.content` is removed and stored in `templateInfo`.\n     * It will then be the responsibility of the host to set it back to the\n     * template and for users stamping nested templates to use the\n     * `_contentForTemplate` method to retrieve the content for this template\n     * (an optimization to avoid the cost of cloning nested template content).\n     *\n     * @param {HTMLTemplateElement} node Node to parse (a <template>)\n     * @param {TemplateInfo} outerTemplateInfo Template metadata for current template\n     *   that includes the template `node`\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNestedTemplate(node, outerTemplateInfo, nodeInfo) {\n      // TODO(rictic): the type of node should be non-null\n      let element = /** @type {!HTMLTemplateElement} */ (node);\n      let templateInfo = this._parseTemplate(element, outerTemplateInfo);\n      let content = templateInfo.content =\n          element.content.ownerDocument.createDocumentFragment();\n      content.appendChild(element.content);\n      nodeInfo.templateInfo = templateInfo;\n      return true;\n    }\n\n    /**\n     * Parses template node attributes and adds node metadata to `nodeInfo`\n     * for nodes of interest.\n     *\n     * @param {Element} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current\n     *     template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNodeAttributes(node, templateInfo, nodeInfo) {\n      // Make copy of original attribute list, since the order may change\n      // as attributes are added and removed\n      let noted = false;\n      let attrs = Array.from(node.attributes);\n      for (let i=attrs.length-1, a; (a=attrs[i]); i--) {\n        noted = this._parseTemplateNodeAttribute(node, templateInfo, nodeInfo, a.name, a.value) || noted;\n      }\n      return noted;\n    }\n\n    /**\n     * Parses a single template node attribute and adds node metadata to\n     * `nodeInfo` for attributes of interest.\n     *\n     * This implementation adds metadata for `on-event=\"handler\"` attributes\n     * and `id` attributes.\n     *\n     * @param {Element} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @param {string} name Attribute name\n     * @param {string} value Attribute value\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n      // events (on-*)\n      if (name.slice(0, 3) === 'on-') {\n        node.removeAttribute(name);\n        nodeInfo.events = nodeInfo.events || [];\n        nodeInfo.events.push({\n          name: name.slice(3),\n          value\n        });\n        return true;\n      }\n      // static id\n      else if (name === 'id') {\n        nodeInfo.id = value;\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Returns the `content` document fragment for a given template.\n     *\n     * For nested templates, Polymer performs an optimization to cache nested\n     * template content to avoid the cost of cloning deeply nested templates.\n     * This method retrieves the cached content for a given template.\n     *\n     * @param {HTMLTemplateElement} template Template to retrieve `content` for\n     * @return {DocumentFragment} Content fragment\n     * @nocollapse\n     */\n    static _contentForTemplate(template) {\n      let templateInfo = /** @type {HTMLTemplateElementWithInfo} */ (template)._templateInfo;\n      return (templateInfo && templateInfo.content) || template.content;\n    }\n\n    /**\n     * Clones the provided template content and returns a document fragment\n     * containing the cloned dom.\n     *\n     * The template is parsed (once and memoized) using this library's\n     * template parsing features, and provides the following value-added\n     * features:\n     * * Adds declarative event listeners for `on-event=\"handler\"` attributes\n     * * Generates an \"id map\" for all nodes with id's under `$` on returned\n     *   document fragment\n     * * Passes template info including `content` back to templates as\n     *   `_templateInfo` (a performance optimization to avoid deep template\n     *   cloning)\n     *\n     * Note that the memoized template parsing process is destructive to the\n     * template: attributes for bindings and declarative event listeners are\n     * removed after being noted in notes, and any nested `<template>.content`\n     * is removed and stored in notes as well.\n     *\n     * @param {!HTMLTemplateElement} template Template to stamp\n     * @param {TemplateInfo=} templateInfo Optional template info associated\n     *   with the template to be stamped; if omitted the template will be\n     *   automatically parsed.\n     * @return {!StampedTemplate} Cloned template content\n     * @override\n     */\n    _stampTemplate(template, templateInfo) {\n      // Polyfill support: bootstrap the template if it has not already been\n      if (template && !template.content &&\n          window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n        HTMLTemplateElement.decorate(template);\n      }\n      // Accepting the `templateInfo` via an argument allows for creating\n      // instances of the `templateInfo` by the caller, useful for adding\n      // instance-time information to the prototypical data\n      templateInfo = templateInfo || this.constructor._parseTemplate(template);\n      let nodeInfo = templateInfo.nodeInfoList;\n      let content = templateInfo.content || template.content;\n      let dom = /** @type {DocumentFragment} */ (document.importNode(content, true));\n      // NOTE: ShadyDom optimization indicating there is an insertion point\n      dom.__noInsertionPoint = !templateInfo.hasInsertionPoint;\n      let nodes = dom.nodeList = new Array(nodeInfo.length);\n      dom.$ = {};\n      for (let i=0, l=nodeInfo.length, info; (i<l) && (info=nodeInfo[i]); i++) {\n        let node = nodes[i] = findTemplateNode(dom, info);\n        applyIdToMap(this, dom.$, node, info);\n        applyTemplateInfo(this, node, info, templateInfo);\n        applyEventListener(this, node, info);\n      }\n      dom = /** @type {!StampedTemplate} */(dom); // eslint-disable-line no-self-assign\n      return dom;\n    }\n\n    /**\n     * Adds an event listener by method name for the event provided.\n     *\n     * This method generates a handler function that looks up the method\n     * name at handling time.\n     *\n     * @param {!EventTarget} node Node to add listener on\n     * @param {string} eventName Name of event\n     * @param {string} methodName Name of method\n     * @param {*=} context Context the method will be called on (defaults\n     *   to `node`)\n     * @return {Function} Generated handler function\n     * @override\n     */\n    _addMethodEventListenerToNode(node, eventName, methodName, context) {\n      context = context || node;\n      let handler = createNodeEventHandler(context, eventName, methodName);\n      this._addEventListenerToNode(node, eventName, handler);\n      return handler;\n    }\n\n    /**\n     * Override point for adding custom or simulated event handling.\n     *\n     * @param {!EventTarget} node Node to add event listener to\n     * @param {string} eventName Name of event\n     * @param {function(!Event):void} handler Listener function to add\n     * @return {void}\n     * @override\n     */\n    _addEventListenerToNode(node, eventName, handler) {\n      node.addEventListener(eventName, handler);\n    }\n\n    /**\n     * Override point for adding custom or simulated event handling.\n     *\n     * @param {!EventTarget} node Node to remove event listener from\n     * @param {string} eventName Name of event\n     * @param {function(!Event):void} handler Listener function to remove\n     * @return {void}\n     * @override\n     */\n    _removeEventListenerFromNode(node, eventName, handler) {\n      node.removeEventListener(eventName, handler);\n    }\n\n  }\n\n  return TemplateStamp;\n\n});\n","/**\n * @fileoverview\n * @suppress {checkPrototypalTypes}\n * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport '../utils/boot.js';\nimport { wrap } from '../utils/wrap.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { root, isAncestor, isDescendant, get, translate, isPath, set, normalize } from '../utils/path.js';\n/* for notify, reflect */\nimport { camelToDashCase, dashToCamelCase } from '../utils/case-map.js';\nimport { PropertyAccessors } from './property-accessors.js';\n/* for annotated effects */\nimport { TemplateStamp } from './template-stamp.js';\nimport { sanitizeDOMValue, legacyUndefined, orderedComputed, removeNestedTemplates, fastDomIf } from '../utils/settings.js';\n\n// Monotonically increasing unique ID used for de-duping effects triggered\n// from multiple properties in the same turn\nlet dedupeId = 0;\n\nconst NOOP = [];\n\n/**\n * Property effect types; effects are stored on the prototype using these keys\n * @enum {string}\n */\nconst TYPES = {\n  COMPUTE: '__computeEffects',\n  REFLECT: '__reflectEffects',\n  NOTIFY: '__notifyEffects',\n  PROPAGATE: '__propagateEffects',\n  OBSERVE: '__observeEffects',\n  READ_ONLY: '__readOnly'\n};\n\nconst COMPUTE_INFO = '__computeInfo';\n\n/** @const {!RegExp} */\nconst capitalAttributeRegex = /[A-Z]/;\n\n/**\n * @typedef {{\n * name: (string | undefined),\n * structured: (boolean | undefined),\n * wildcard: (boolean | undefined)\n * }}\n */\nlet DataTrigger; //eslint-disable-line no-unused-vars\n\n/**\n * @typedef {{\n * info: ?,\n * trigger: (!DataTrigger | undefined),\n * fn: (!Function | undefined)\n * }}\n */\nlet DataEffect; //eslint-disable-line no-unused-vars\n\n/**\n * Ensures that the model has an own-property map of effects for the given type.\n * The model may be a prototype or an instance.\n *\n * Property effects are stored as arrays of effects by property in a map,\n * by named type on the model. e.g.\n *\n *   __computeEffects: {\n *     foo: [ ... ],\n *     bar: [ ... ]\n *   }\n *\n * If the model does not yet have an effect map for the type, one is created\n * and returned.  If it does, but it is not an own property (i.e. the\n * prototype had effects), the the map is deeply cloned and the copy is\n * set on the model and returned, ready for new effects to be added.\n *\n * @param {Object} model Prototype or instance\n * @param {string} type Property effect type\n * @param {boolean=} cloneArrays Clone any arrays assigned to the map when\n *   extending a superclass map onto this subclass\n * @return {Object} The own-property map of effects for the given type\n * @private\n */\nfunction ensureOwnEffectMap(model, type, cloneArrays) {\n  let effects = model[type];\n  if (!effects) {\n    effects = model[type] = {};\n  } else if (!model.hasOwnProperty(type)) {\n    effects = model[type] = Object.create(model[type]);\n    if (cloneArrays) {\n      for (let p in effects) {\n        let protoFx = effects[p];\n        // Perf optimization over Array.slice\n        let instFx = effects[p] = Array(protoFx.length);\n        for (let i=0; i<protoFx.length; i++) {\n          instFx[i] = protoFx[i];\n        }\n      }\n    }\n  }\n  return effects;\n}\n\n// -- effects ----------------------------------------------\n\n/**\n * Runs all effects of a given type for the given set of property changes\n * on an instance.\n *\n * @param {!Polymer_PropertyEffects} inst The instance with effects to run\n * @param {?Object} effects Object map of property-to-Array of effects\n * @param {?Object} props Bag of current property changes\n * @param {?Object=} oldProps Bag of previous values for changed properties\n * @param {boolean=} hasPaths True with `props` contains one or more paths\n * @param {*=} extraArgs Additional metadata to pass to effect function\n * @return {boolean} True if an effect ran for this property\n * @private\n */\nfunction runEffects(inst, effects, props, oldProps, hasPaths, extraArgs) {\n  if (effects) {\n    let ran = false;\n    const id = dedupeId++;\n    for (let prop in props) {\n      // Inline `runEffectsForProperty` for perf.\n      let rootProperty = hasPaths ? root(prop) : prop;\n      let fxs = effects[rootProperty];\n      if (fxs) {\n        for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n          if ((!fx.info || fx.info.lastRun !== id) &&\n              (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n            if (fx.info) {\n              fx.info.lastRun = id;\n            }\n            fx.fn(inst, prop, props, oldProps, fx.info, hasPaths, extraArgs);\n            ran = true;\n          }\n        }\n      }\n    }\n    return ran;\n  }\n  return false;\n}\n\n/**\n * Runs a list of effects for a given property.\n *\n * @param {!Polymer_PropertyEffects} inst The instance with effects to run\n * @param {!Object} effects Object map of property-to-Array of effects\n * @param {number} dedupeId Counter used for de-duping effects\n * @param {string} prop Name of changed property\n * @param {*} props Changed properties\n * @param {*} oldProps Old properties\n * @param {boolean=} hasPaths True with `props` contains one or more paths\n * @param {*=} extraArgs Additional metadata to pass to effect function\n * @return {boolean} True if an effect ran for this property\n * @private\n */\nfunction runEffectsForProperty(inst, effects, dedupeId, prop, props, oldProps, hasPaths, extraArgs) {\n  let ran = false;\n  let rootProperty = hasPaths ? root(prop) : prop;\n  let fxs = effects[rootProperty];\n  if (fxs) {\n    for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n      if ((!fx.info || fx.info.lastRun !== dedupeId) &&\n          (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n        if (fx.info) {\n          fx.info.lastRun = dedupeId;\n        }\n        fx.fn(inst, prop, props, oldProps, fx.info, hasPaths, extraArgs);\n        ran = true;\n      }\n    }\n  }\n  return ran;\n}\n\n/**\n * Determines whether a property/path that has changed matches the trigger\n * criteria for an effect.  A trigger is a descriptor with the following\n * structure, which matches the descriptors returned from `parseArg`.\n * e.g. for `foo.bar.*`:\n * ```\n * trigger: {\n *   name: 'a.b',\n *   structured: true,\n *   wildcard: true\n * }\n * ```\n * If no trigger is given, the path is deemed to match.\n *\n * @param {string} path Path or property that changed\n * @param {?DataTrigger} trigger Descriptor\n * @return {boolean} Whether the path matched the trigger\n */\nfunction pathMatchesTrigger(path, trigger) {\n  if (trigger) {\n    let triggerPath = /** @type {string} */ (trigger.name);\n    return (triggerPath == path) ||\n        !!(trigger.structured && isAncestor(triggerPath, path)) ||\n        !!(trigger.wildcard && isDescendant(triggerPath, path));\n  } else {\n    return true;\n  }\n}\n\n/**\n * Implements the \"observer\" effect.\n *\n * Calls the method with `info.methodName` on the instance, passing the\n * new and old values.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {void}\n * @private\n */\nfunction runObserverEffect(inst, property, props, oldProps, info) {\n  let fn = typeof info.method === \"string\" ? inst[info.method] : info.method;\n  let changedProp = info.property;\n  if (fn) {\n    fn.call(inst, inst.__data[changedProp], oldProps[changedProp]);\n  } else if (!info.dynamicFn) {\n    console.warn('observer method `' + info.method + '` not defined');\n  }\n}\n\n/**\n * Runs \"notify\" effects for a set of changed properties.\n *\n * This method differs from the generic `runEffects` method in that it\n * will dispatch path notification events in the case that the property\n * changed was a path and the root property for that path didn't have a\n * \"notify\" effect.  This is to maintain 1.0 behavior that did not require\n * `notify: true` to ensure object sub-property notifications were\n * sent.\n *\n * @param {!Polymer_PropertyEffects} inst The instance with effects to run\n * @param {Object} notifyProps Bag of properties to notify\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @return {void}\n * @private\n */\nfunction runNotifyEffects(inst, notifyProps, props, oldProps, hasPaths) {\n  // Notify\n  let fxs = inst[TYPES.NOTIFY];\n  let notified;\n  let id = dedupeId++;\n  // Try normal notify effects; if none, fall back to try path notification\n  for (let prop in notifyProps) {\n    if (notifyProps[prop]) {\n      if (fxs && runEffectsForProperty(inst, fxs, id, prop, props, oldProps, hasPaths)) {\n        notified = true;\n      } else if (hasPaths && notifyPath(inst, prop, props)) {\n        notified = true;\n      }\n    }\n  }\n  // Flush host if we actually notified and host was batching\n  // And the host has already initialized clients; this prevents\n  // an issue with a host observing data changes before clients are ready.\n  let host;\n  if (notified && (host = inst.__dataHost) && host._invalidateProperties) {\n    host._invalidateProperties();\n  }\n}\n\n/**\n * Dispatches {property}-changed events with path information in the detail\n * object to indicate a sub-path of the property was changed.\n *\n * @param {!Polymer_PropertyEffects} inst The element from which to fire the\n *     event\n * @param {string} path The path that was changed\n * @param {Object} props Bag of current property changes\n * @return {boolean} Returns true if the path was notified\n * @private\n */\nfunction notifyPath(inst, path, props) {\n  let rootProperty = root(path);\n  if (rootProperty !== path) {\n    let eventName = camelToDashCase(rootProperty) + '-changed';\n    dispatchNotifyEvent(inst, eventName, props[path], path);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Dispatches {property}-changed events to indicate a property (or path)\n * changed.\n *\n * @param {!Polymer_PropertyEffects} inst The element from which to fire the\n *     event\n * @param {string} eventName The name of the event to send\n *     ('{property}-changed')\n * @param {*} value The value of the changed property\n * @param {string | null | undefined} path If a sub-path of this property\n *     changed, the path that changed (optional).\n * @return {void}\n * @private\n * @suppress {invalidCasts}\n */\nfunction dispatchNotifyEvent(inst, eventName, value, path) {\n  let detail = {\n    value: value,\n    queueProperty: true\n  };\n  if (path) {\n    detail.path = path;\n  }\n  // As a performance optimization, we could elide the wrap here since notifying\n  // events are non-bubbling and shouldn't need retargeting. However, a very\n  // small number of internal tests failed in obscure ways, which may indicate\n  // user code relied on timing differences resulting from ShadyDOM flushing\n  // as a result of the wrapped `dispatchEvent`.\n  wrap(/** @type {!HTMLElement} */(inst)).dispatchEvent(new CustomEvent(eventName, { detail }));\n}\n\n/**\n * Implements the \"notify\" effect.\n *\n * Dispatches a non-bubbling event named `info.eventName` on the instance\n * with a detail object containing the new `value`.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @return {void}\n * @private\n */\nfunction runNotifyEffect(inst, property, props, oldProps, info, hasPaths) {\n  let rootProperty = hasPaths ? root(property) : property;\n  let path = rootProperty != property ? property : null;\n  let value = path ? get(inst, path) : inst.__data[property];\n  if (path && value === undefined) {\n    value = props[property];  // specifically for .splices\n  }\n  dispatchNotifyEvent(inst, info.eventName, value, path);\n}\n\n/**\n * Handler function for 2-way notification events. Receives context\n * information captured in the `addNotifyListener` closure from the\n * `__notifyListeners` metadata.\n *\n * Sets the value of the notified property to the host property or path.  If\n * the event contained path information, translate that path to the host\n * scope's name for that path first.\n *\n * @param {CustomEvent} event Notification event (e.g. '<property>-changed')\n * @param {!Polymer_PropertyEffects} inst Host element instance handling the\n *     notification event\n * @param {string} fromProp Child element property that was bound\n * @param {string} toPath Host property/path that was bound\n * @param {boolean} negate Whether the binding was negated\n * @return {void}\n * @private\n */\nfunction handleNotification(event, inst, fromProp, toPath, negate) {\n  let value;\n  let detail = /** @type {Object} */(event.detail);\n  let fromPath = detail && detail.path;\n  if (fromPath) {\n    toPath = translate(fromProp, toPath, fromPath);\n    value = detail && detail.value;\n  } else {\n    value = event.currentTarget[fromProp];\n  }\n  value = negate ? !value : value;\n  if (!inst[TYPES.READ_ONLY] || !inst[TYPES.READ_ONLY][toPath]) {\n    if (inst._setPendingPropertyOrPath(toPath, value, true, Boolean(fromPath))\n      && (!detail || !detail.queueProperty)) {\n      inst._invalidateProperties();\n    }\n  }\n}\n\n/**\n * Implements the \"reflect\" effect.\n *\n * Sets the attribute named `info.attrName` to the given property value.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {void}\n * @private\n */\nfunction runReflectEffect(inst, property, props, oldProps, info) {\n  let value = inst.__data[property];\n  if (sanitizeDOMValue) {\n    value = sanitizeDOMValue(value, info.attrName, 'attribute', /** @type {Node} */(inst));\n  }\n  inst._propertyToAttribute(property, info.attrName, value);\n}\n\n/**\n * Runs \"computed\" effects for a set of changed properties.\n *\n * This method differs from the generic `runEffects` method in that it\n * continues to run computed effects based on the output of each pass until\n * there are no more newly computed properties.  This ensures that all\n * properties that will be computed by the initial set of changes are\n * computed before other effects (binding propagation, observers, and notify)\n * run.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {?Object} changedProps Bag of changed properties\n * @param {?Object} oldProps Bag of previous values for changed properties\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @return {void}\n * @private\n */\nfunction runComputedEffects(inst, changedProps, oldProps, hasPaths) {\n  let computeEffects = inst[TYPES.COMPUTE];\n  if (computeEffects) {\n    if (orderedComputed) {\n      // Runs computed effects in efficient order by keeping a topologically-\n      // sorted queue of compute effects to run, and inserting subsequently\n      // invalidated effects as they are run\n      dedupeId++;\n      const order = getComputedOrder(inst);\n      const queue = [];\n      for (let p in changedProps) {\n        enqueueEffectsFor(p, computeEffects, queue, order, hasPaths);\n      }\n      let info;\n      while ((info = queue.shift())) {\n        if (runComputedEffect(inst, '', changedProps, oldProps, info)) {\n          enqueueEffectsFor(info.methodInfo, computeEffects, queue, order, hasPaths);\n        }\n      }\n      Object.assign(/** @type {!Object} */ (oldProps), inst.__dataOld);\n      Object.assign(/** @type {!Object} */ (changedProps), inst.__dataPending);\n      inst.__dataPending = null;\n    } else {\n      // Original Polymer 2.x computed effects order, which continues running\n      // effects until no further computed properties have been invalidated\n      let inputProps = changedProps;\n      while (runEffects(inst, computeEffects, inputProps, oldProps, hasPaths)) {\n        Object.assign(/** @type {!Object} */ (oldProps), inst.__dataOld);\n        Object.assign(/** @type {!Object} */ (changedProps), inst.__dataPending);\n        inputProps = inst.__dataPending;\n        inst.__dataPending = null;\n      }\n    }\n  }\n}\n\n/**\n * Inserts a computed effect into a queue, given the specified order. Performs\n * the insert using a binary search.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {Object} info Property effects metadata\n * @param {Array<Object>} queue Ordered queue of effects\n * @param {Map<string,number>} order Map of computed property name->topological\n *   sort order\n */\nconst insertEffect = (info, queue, order) => {\n  let start = 0;\n  let end = queue.length - 1;\n  let idx = -1;\n  while (start <= end) {\n    const mid = (start + end) >> 1;\n    // Note `methodInfo` is where the computed property name is stored in\n    // the effect metadata\n    const cmp = order.get(queue[mid].methodInfo) - order.get(info.methodInfo);\n    if (cmp < 0) {\n      start = mid + 1;\n    } else if (cmp > 0) {\n      end = mid - 1;\n    } else {\n      idx = mid;\n      break;\n    }\n  }\n  if (idx < 0) {\n    idx = end + 1;\n  }\n  queue.splice(idx, 0, info);\n};\n\n/**\n * Inserts all downstream computed effects invalidated by the specified property\n * into the topologically-sorted queue of effects to be run.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {string} prop Property name\n * @param {Object} computeEffects Computed effects for this element\n * @param {Array<Object>} queue Topologically-sorted queue of computed effects\n *   to be run\n * @param {Map<string,number>} order Map of computed property name->topological\n *   sort order\n * @param {boolean} hasPaths True with `changedProps` contains one or more paths\n */\nconst enqueueEffectsFor = (prop, computeEffects, queue, order, hasPaths) => {\n  const rootProperty = hasPaths ? root(prop) : prop;\n  const fxs = computeEffects[rootProperty];\n  if (fxs) {\n    for (let i=0; i<fxs.length; i++) {\n      const fx = fxs[i];\n      if ((fx.info.lastRun !== dedupeId) &&\n          (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n        fx.info.lastRun = dedupeId;\n        insertEffect(fx.info, queue, order);\n      }\n    }\n  }\n};\n\n/**\n * Generates and retrieves a memoized map of computed property name to its\n * topologically-sorted order.\n *\n * The map is generated by first assigning a \"dependency count\" to each property\n * (defined as number properties it depends on, including its method for\n * \"dynamic functions\"). Any properties that have no dependencies are added to\n * the `ready` queue, which are properties whose order can be added to the final\n * order map. Properties are popped off the `ready` queue one by one and a.) added as\n * the next property in the order map, and b.) each property that it is a\n * dependency for has its dep count decremented (and if that property's dep\n * count goes to zero, it is added to the `ready` queue), until all properties\n * have been visited and ordered.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {!Polymer_PropertyEffects} inst The instance to retrieve the computed\n *   effect order for.\n * @return {Map<string,number>} Map of computed property name->topological sort\n *   order\n */\nfunction getComputedOrder(inst) {\n  let ordered = inst.constructor.__orderedComputedDeps;\n  if (!ordered) {\n    ordered = new Map();\n    const effects = inst[TYPES.COMPUTE];\n    let {counts, ready, total} = dependencyCounts(inst);\n    let curr;\n    while ((curr = ready.shift())) {\n      ordered.set(curr, ordered.size);\n      const computedByCurr = effects[curr];\n      if (computedByCurr) {\n        computedByCurr.forEach(fx => {\n          // Note `methodInfo` is where the computed property name is stored\n          const computedProp = fx.info.methodInfo;\n          --total;\n          if (--counts[computedProp] === 0) {\n            ready.push(computedProp);\n          }\n        });\n      }\n    }\n    if (total !== 0) {\n      const el = /** @type {HTMLElement} */ (inst);\n      console.warn(`Computed graph for ${el.localName} incomplete; circular?`);\n    }\n    inst.constructor.__orderedComputedDeps = ordered;\n  }\n  return ordered;\n}\n\n/**\n * Generates a map of property-to-dependency count (`counts`, where \"dependency\n * count\" is the number of dependencies a given property has assuming it is a\n * computed property, otherwise 0).  It also returns a pre-populated list of\n * `ready` properties that have no dependencies and a `total` count, which is\n * used for error-checking the graph.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {!Polymer_PropertyEffects} inst The instance to generate dependency\n *   counts for.\n * @return {!Object} Object containing `counts` map (property-to-dependency\n *   count) and pre-populated `ready` array of properties that had zero\n *   dependencies.\n */\nfunction dependencyCounts(inst) {\n  const infoForComputed = inst[COMPUTE_INFO];\n  const counts = {};\n  const computedDeps = inst[TYPES.COMPUTE];\n  const ready = [];\n  let total = 0;\n  // Count dependencies for each computed property\n  for (let p in infoForComputed) {\n    const info = infoForComputed[p];\n    // Be sure to add the method name itself in case of \"dynamic functions\"\n    total += counts[p] =\n      info.args.filter(a => !a.literal).length + (info.dynamicFn ? 1 : 0);\n  }\n  // Build list of ready properties (that aren't themselves computed)\n  for (let p in computedDeps) {\n    if (!infoForComputed[p]) {\n      ready.push(p);\n    }\n  }\n  return {counts, ready, total};\n}\n\n/**\n * Implements the \"computed property\" effect by running the method with the\n * values of the arguments specified in the `info` object and setting the\n * return value to the computed property specified.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {?Object} changedProps Bag of current property changes\n * @param {?Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {boolean} True when the property being computed changed\n * @private\n */\nfunction runComputedEffect(inst, property, changedProps, oldProps, info) {\n  // Dirty check dependencies and run if any invalid\n  let result = runMethodEffect(inst, property, changedProps, oldProps, info);\n  // Abort if method returns a no-op result\n  if (result === NOOP) {\n    return false;\n  }\n  let computedProp = info.methodInfo;\n  if (inst.__dataHasAccessor && inst.__dataHasAccessor[computedProp]) {\n    return inst._setPendingProperty(computedProp, result, true);\n  } else {\n    inst[computedProp] = result;\n    return false;\n  }\n}\n\n/**\n * Computes path changes based on path links set up using the `linkPaths`\n * API.\n *\n * @param {!Polymer_PropertyEffects} inst The instance whose props are changing\n * @param {string} path Path that has changed\n * @param {*} value Value of changed path\n * @return {void}\n * @private\n */\nfunction computeLinkedPaths(inst, path, value) {\n  let links = inst.__dataLinkedPaths;\n  if (links) {\n    let link;\n    for (let a in links) {\n      let b = links[a];\n      if (isDescendant(a, path)) {\n        link = translate(a, b, path);\n        inst._setPendingPropertyOrPath(link, value, true, true);\n      } else if (isDescendant(b, path)) {\n        link = translate(b, a, path);\n        inst._setPendingPropertyOrPath(link, value, true, true);\n      }\n    }\n  }\n}\n\n// -- bindings ----------------------------------------------\n\n/**\n * Adds binding metadata to the current `nodeInfo`, and binding effects\n * for all part dependencies to `templateInfo`.\n *\n * @param {Function} constructor Class that `_parseTemplate` is currently\n *   running on\n * @param {TemplateInfo} templateInfo Template metadata for current template\n * @param {NodeInfo} nodeInfo Node metadata for current template node\n * @param {string} kind Binding kind, either 'property', 'attribute', or 'text'\n * @param {string} target Target property name\n * @param {!Array<!BindingPart>} parts Array of binding part metadata\n * @param {string=} literal Literal text surrounding binding parts (specified\n *   only for 'property' bindings, since these must be initialized as part\n *   of boot-up)\n * @return {void}\n * @private\n */\nfunction addBinding(constructor, templateInfo, nodeInfo, kind, target, parts, literal) {\n  // Create binding metadata and add to nodeInfo\n  nodeInfo.bindings = nodeInfo.bindings || [];\n  let /** Binding */ binding = { kind, target, parts, literal, isCompound: (parts.length !== 1) };\n  nodeInfo.bindings.push(binding);\n  // Add listener info to binding metadata\n  if (shouldAddListener(binding)) {\n    let {event, negate} = binding.parts[0];\n    binding.listenerEvent = event || (camelToDashCase(target) + '-changed');\n    binding.listenerNegate = negate;\n  }\n  // Add \"propagate\" property effects to templateInfo\n  let index = templateInfo.nodeInfoList.length;\n  for (let i=0; i<binding.parts.length; i++) {\n    let part = binding.parts[i];\n    part.compoundIndex = i;\n    addEffectForBindingPart(constructor, templateInfo, binding, part, index);\n  }\n}\n\n/**\n * Adds property effects to the given `templateInfo` for the given binding\n * part.\n *\n * @param {Function} constructor Class that `_parseTemplate` is currently\n *   running on\n * @param {TemplateInfo} templateInfo Template metadata for current template\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @param {number} index Index into `nodeInfoList` for this node\n * @return {void}\n */\nfunction addEffectForBindingPart(constructor, templateInfo, binding, part, index) {\n  if (!part.literal) {\n    if (binding.kind === 'attribute' && binding.target[0] === '-') {\n      console.warn('Cannot set attribute ' + binding.target +\n        ' because \"-\" is not a valid attribute starting character');\n    } else {\n      let dependencies = part.dependencies;\n      let info = { index, binding, part, evaluator: constructor };\n      for (let j=0; j<dependencies.length; j++) {\n        let trigger = dependencies[j];\n        if (typeof trigger == 'string') {\n          trigger = parseArg(trigger);\n          trigger.wildcard = true;\n        }\n        constructor._addTemplatePropertyEffect(templateInfo, trigger.rootProperty, {\n          fn: runBindingEffect,\n          info, trigger\n        });\n      }\n    }\n  }\n}\n\n/**\n * Implements the \"binding\" (property/path binding) effect.\n *\n * Note that binding syntax is overridable via `_parseBindings` and\n * `_evaluateBinding`.  This method will call `_evaluateBinding` for any\n * non-literal parts returned from `_parseBindings`.  However,\n * there is no support for _path_ bindings via custom binding parts,\n * as this is specific to Polymer's path binding syntax.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} path Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @param {Array} nodeList List of nodes associated with `nodeInfoList` template\n *   metadata\n * @return {void}\n * @private\n */\nfunction runBindingEffect(inst, path, props, oldProps, info, hasPaths, nodeList) {\n  let node = nodeList[info.index];\n  let binding = info.binding;\n  let part = info.part;\n  // Subpath notification: transform path and set to client\n  // e.g.: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop\n  if (hasPaths && part.source && (path.length > part.source.length) &&\n      (binding.kind == 'property') && !binding.isCompound &&\n      node.__isPropertyEffectsClient &&\n      node.__dataHasAccessor && node.__dataHasAccessor[binding.target]) {\n    let value = props[path];\n    path = translate(part.source, binding.target, path);\n    if (node._setPendingPropertyOrPath(path, value, false, true)) {\n      inst._enqueueClient(node);\n    }\n  } else {\n    let value = info.evaluator._evaluateBinding(inst, part, path, props, oldProps, hasPaths);\n    // Propagate value to child\n    // Abort if value is a no-op result\n    if (value !== NOOP) {\n      applyBindingValue(inst, node, binding, part, value);\n    }\n  }\n}\n\n/**\n * Sets the value for an \"binding\" (binding) effect to a node,\n * either as a property or attribute.\n *\n * @param {!Polymer_PropertyEffects} inst The instance owning the binding effect\n * @param {Node} node Target node for binding\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @param {*} value Value to set\n * @return {void}\n * @private\n */\nfunction applyBindingValue(inst, node, binding, part, value) {\n  value = computeBindingValue(node, value, binding, part);\n  if (sanitizeDOMValue) {\n    value = sanitizeDOMValue(value, binding.target, binding.kind, node);\n  }\n  if (binding.kind == 'attribute') {\n    // Attribute binding\n    inst._valueToNodeAttribute(/** @type {Element} */(node), value, binding.target);\n  } else {\n    // Property binding\n    let prop = binding.target;\n    if (node.__isPropertyEffectsClient &&\n        node.__dataHasAccessor && node.__dataHasAccessor[prop]) {\n      if (!node[TYPES.READ_ONLY] || !node[TYPES.READ_ONLY][prop]) {\n        if (node._setPendingProperty(prop, value)) {\n          inst._enqueueClient(node);\n        }\n      }\n    } else {\n      // In legacy no-batching mode, bindings applied before dataReady are\n      // equivalent to the \"apply config\" phase, which only set managed props\n      inst._setUnmanagedPropertyToNode(node, prop, value);\n    }\n  }\n}\n\n/**\n * Transforms an \"binding\" effect value based on compound & negation\n * effect metadata, as well as handling for special-case properties\n *\n * @param {Node} node Node the value will be set to\n * @param {*} value Value to set\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @return {*} Transformed value to set\n * @private\n */\nfunction computeBindingValue(node, value, binding, part) {\n  if (binding.isCompound) {\n    let storage = node.__dataCompoundStorage[binding.target];\n    storage[part.compoundIndex] = value;\n    value = storage.join('');\n  }\n  if (binding.kind !== 'attribute') {\n    // Some browsers serialize `undefined` to `\"undefined\"`\n    if (binding.target === 'textContent' ||\n        (binding.target === 'value' &&\n          (node.localName === 'input' || node.localName === 'textarea'))) {\n      value = value == undefined ? '' : value;\n    }\n  }\n  return value;\n}\n\n/**\n * Returns true if a binding's metadata meets all the requirements to allow\n * 2-way binding, and therefore a `<property>-changed` event listener should be\n * added:\n * - used curly braces\n * - is a property (not attribute) binding\n * - is not a textContent binding\n * - is not compound\n *\n * @param {!Binding} binding Binding metadata\n * @return {boolean} True if 2-way listener should be added\n * @private\n */\nfunction shouldAddListener(binding) {\n  return Boolean(binding.target) &&\n         binding.kind != 'attribute' &&\n         binding.kind != 'text' &&\n         !binding.isCompound &&\n         binding.parts[0].mode === '{';\n}\n\n/**\n * Setup compound binding storage structures, notify listeners, and dataHost\n * references onto the bound nodeList.\n *\n * @param {!Polymer_PropertyEffects} inst Instance that bas been previously\n *     bound\n * @param {TemplateInfo} templateInfo Template metadata\n * @return {void}\n * @private\n */\nfunction setupBindings(inst, templateInfo) {\n  // Setup compound storage, dataHost, and notify listeners\n  let {nodeList, nodeInfoList} = templateInfo;\n  if (nodeInfoList.length) {\n    for (let i=0; i < nodeInfoList.length; i++) {\n      let info = nodeInfoList[i];\n      let node = nodeList[i];\n      let bindings = info.bindings;\n      if (bindings) {\n        for (let i=0; i<bindings.length; i++) {\n          let binding = bindings[i];\n          setupCompoundStorage(node, binding);\n          addNotifyListener(node, inst, binding);\n        }\n      }\n      // This ensures all bound elements have a host set, regardless\n      // of whether they upgrade synchronous to creation\n      node.__dataHost = inst;\n    }\n  }\n}\n\n/**\n * Initializes `__dataCompoundStorage` local storage on a bound node with\n * initial literal data for compound bindings, and sets the joined\n * literal parts to the bound property.\n *\n * When changes to compound parts occur, they are first set into the compound\n * storage array for that property, and then the array is joined to result in\n * the final value set to the property/attribute.\n *\n * @param {Node} node Bound node to initialize\n * @param {Binding} binding Binding metadata\n * @return {void}\n * @private\n */\nfunction setupCompoundStorage(node, binding) {\n  if (binding.isCompound) {\n    // Create compound storage map\n    let storage = node.__dataCompoundStorage ||\n      (node.__dataCompoundStorage = {});\n    let parts = binding.parts;\n    // Copy literals from parts into storage for this binding\n    let literals = new Array(parts.length);\n    for (let j=0; j<parts.length; j++) {\n      literals[j] = parts[j].literal;\n    }\n    let target = binding.target;\n    storage[target] = literals;\n    // Configure properties with their literal parts\n    if (binding.literal && binding.kind == 'property') {\n      // Note, className needs style scoping so this needs wrapping.\n      // We may also want to consider doing this for `textContent` and\n      // `innerHTML`.\n      if (target === 'className') {\n        node = wrap(node);\n      }\n      node[target] = binding.literal;\n    }\n  }\n}\n\n/**\n * Adds a 2-way binding notification event listener to the node specified\n *\n * @param {Object} node Child element to add listener to\n * @param {!Polymer_PropertyEffects} inst Host element instance to handle\n *     notification event\n * @param {Binding} binding Binding metadata\n * @return {void}\n * @private\n */\nfunction addNotifyListener(node, inst, binding) {\n  if (binding.listenerEvent) {\n    let part = binding.parts[0];\n    node.addEventListener(binding.listenerEvent, function(e) {\n      handleNotification(e, inst, binding.target, part.source, part.negate);\n    });\n  }\n}\n\n// -- for method-based effects (complexObserver & computed) --------------\n\n/**\n * Adds property effects for each argument in the method signature (and\n * optionally, for the method name if `dynamic` is true) that calls the\n * provided effect function.\n *\n * @param {Element | Object} model Prototype or instance\n * @param {!MethodSignature} sig Method signature metadata\n * @param {string} type Type of property effect to add\n * @param {Function} effectFn Function to run when arguments change\n * @param {*=} methodInfo Effect-specific information to be included in\n *   method effect metadata\n * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n *   method names should be included as a dependency to the effect. Note,\n *   defaults to true if the signature is static (sig.static is true).\n * @return {!Object} Effect metadata for this method effect\n * @private\n */\nfunction createMethodEffect(model, sig, type, effectFn, methodInfo, dynamicFn) {\n  dynamicFn = sig.static || (dynamicFn &&\n    (typeof dynamicFn !== 'object' || dynamicFn[sig.methodName]));\n  let info = {\n    methodName: sig.methodName,\n    args: sig.args,\n    methodInfo,\n    dynamicFn\n  };\n  for (let i=0, arg; (i<sig.args.length) && (arg=sig.args[i]); i++) {\n    if (!arg.literal) {\n      model._addPropertyEffect(arg.rootProperty, type, {\n        fn: effectFn, info: info, trigger: arg\n      });\n    }\n  }\n  if (dynamicFn) {\n    model._addPropertyEffect(sig.methodName, type, {\n      fn: effectFn, info: info\n    });\n  }\n  return info;\n}\n\n/**\n * Calls a method with arguments marshaled from properties on the instance\n * based on the method signature contained in the effect metadata.\n *\n * Multi-property observers, computed properties, and inline computing\n * functions call this function to invoke the method, then use the return\n * value accordingly.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {*} Returns the return value from the method invocation\n * @private\n */\nfunction runMethodEffect(inst, property, props, oldProps, info) {\n  // Instances can optionally have a _methodHost which allows redirecting where\n  // to find methods. Currently used by `templatize`.\n  let context = inst._methodHost || inst;\n  let fn = context[info.methodName];\n  if (fn) {\n    let args = inst._marshalArgs(info.args, property, props);\n    return args === NOOP ? NOOP : fn.apply(context, args);\n  } else if (!info.dynamicFn) {\n    console.warn('method `' + info.methodName + '` not defined');\n  }\n}\n\nconst emptyArray = [];\n\n// Regular expressions used for binding\nconst IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$\\\\-*]*' + ')';\nconst NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\nconst SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\nconst DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\nconst STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\nconst ARGUMENT = '(?:(' + IDENT + '|' + NUMBER + '|' +  STRING + ')\\\\s*' + ')';\nconst ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\nconst ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                              '(?:' + ARGUMENTS + '?' + ')' +\n                            '\\\\)\\\\s*' + ')';\nconst BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\nconst OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\nconst CLOSE_BRACKET = '(?:]]|}})';\nconst NEGATE = '(?:(!)\\\\s*)?'; // Group 2\nconst EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\nconst bindingRegex = new RegExp(EXPRESSION, \"g\");\n\n/**\n * Create a string from binding parts of all the literal parts\n *\n * @param {!Array<BindingPart>} parts All parts to stringify\n * @return {string} String made from the literal parts\n */\nfunction literalFromParts(parts) {\n  let s = '';\n  for (let i=0; i<parts.length; i++) {\n    let literal = parts[i].literal;\n    s += literal || '';\n  }\n  return s;\n}\n\n/**\n * Parses an expression string for a method signature, and returns a metadata\n * describing the method in terms of `methodName`, `static` (whether all the\n * arguments are literals), and an array of `args`\n *\n * @param {string} expression The expression to parse\n * @return {?MethodSignature} The method metadata object if a method expression was\n *   found, otherwise `undefined`\n * @private\n */\nfunction parseMethod(expression) {\n  // tries to match valid javascript property names\n  let m = expression.match(/([^\\s]+?)\\(([\\s\\S]*)\\)/);\n  if (m) {\n    let methodName = m[1];\n    let sig = { methodName, static: true, args: emptyArray };\n    if (m[2].trim()) {\n      // replace escaped commas with comma entity, split on un-escaped commas\n      let args = m[2].replace(/\\\\,/g, '&comma;').split(',');\n      return parseArgs(args, sig);\n    } else {\n      return sig;\n    }\n  }\n  return null;\n}\n\n/**\n * Parses an array of arguments and sets the `args` property of the supplied\n * signature metadata object. Sets the `static` property to false if any\n * argument is a non-literal.\n *\n * @param {!Array<string>} argList Array of argument names\n * @param {!MethodSignature} sig Method signature metadata object\n * @return {!MethodSignature} The updated signature metadata object\n * @private\n */\nfunction parseArgs(argList, sig) {\n  sig.args = argList.map(function(rawArg) {\n    let arg = parseArg(rawArg);\n    if (!arg.literal) {\n      sig.static = false;\n    }\n    return arg;\n  }, this);\n  return sig;\n}\n\n/**\n * Parses an individual argument, and returns an argument metadata object\n * with the following fields:\n *\n *   {\n *     value: 'prop',        // property/path or literal value\n *     literal: false,       // whether argument is a literal\n *     structured: false,    // whether the property is a path\n *     rootProperty: 'prop', // the root property of the path\n *     wildcard: false       // whether the argument was a wildcard '.*' path\n *   }\n *\n * @param {string} rawArg The string value of the argument\n * @return {!MethodArg} Argument metadata object\n * @private\n */\nfunction parseArg(rawArg) {\n  // clean up whitespace\n  let arg = rawArg.trim()\n    // replace comma entity with comma\n    .replace(/&comma;/g, ',')\n    // repair extra escape sequences; note only commas strictly need\n    // escaping, but we allow any other char to be escaped since its\n    // likely users will do this\n    .replace(/\\\\(.)/g, '$1')\n    ;\n  // basic argument descriptor\n  let a = {\n    name: arg,\n    value: '',\n    literal: false\n  };\n  // detect literal value (must be String or Number)\n  let fc = arg[0];\n  if (fc === '-') {\n    fc = arg[1];\n  }\n  if (fc >= '0' && fc <= '9') {\n    fc = '#';\n  }\n  switch(fc) {\n    case \"'\":\n    case '\"':\n      a.value = arg.slice(1, -1);\n      a.literal = true;\n      break;\n    case '#':\n      a.value = Number(arg);\n      a.literal = true;\n      break;\n  }\n  // if not literal, look for structured path\n  if (!a.literal) {\n    a.rootProperty = root(arg);\n    // detect structured path (has dots)\n    a.structured = isPath(arg);\n    if (a.structured) {\n      a.wildcard = (arg.slice(-2) == '.*');\n      if (a.wildcard) {\n        a.name = arg.slice(0, -2);\n      }\n    }\n  }\n  return a;\n}\n\nfunction getArgValue(data, props, path) {\n  let value = get(data, path);\n  // when data is not stored e.g. `splices`, get the value from changedProps\n  // TODO(kschaaf): Note, this can cause a rare issue where the wildcard\n  // info.value could pull a stale value out of changedProps during a reentrant\n  // change that sets the value back to undefined.\n  // https://github.com/Polymer/polymer/issues/5479\n  if (value === undefined) {\n    value = props[path];\n  }\n  return value;\n}\n\n// data api\n\n/**\n * Sends array splice notifications (`.splices` and `.length`)\n *\n * Note: this implementation only accepts normalized paths\n *\n * @param {!Polymer_PropertyEffects} inst Instance to send notifications to\n * @param {Array} array The array the mutations occurred on\n * @param {string} path The path to the array that was mutated\n * @param {Array} splices Array of splice records\n * @return {void}\n * @private\n */\nfunction notifySplices(inst, array, path, splices) {\n  const splicesData = { indexSplices: splices };\n  // Legacy behavior stored splices in `__data__` so it was *not* ephemeral.\n  // To match this behavior, we store splices directly on the array.\n  if (legacyUndefined && !inst._overrideLegacyUndefined) {\n    array.splices = splicesData;\n  }\n  inst.notifyPath(path + '.splices', splicesData);\n  inst.notifyPath(path + '.length', array.length);\n  // Clear splice data only when it's stored on the array.\n  if (legacyUndefined && !inst._overrideLegacyUndefined) {\n    splicesData.indexSplices = [];\n  }\n}\n\n/**\n * Creates a splice record and sends an array splice notification for\n * the described mutation\n *\n * Note: this implementation only accepts normalized paths\n *\n * @param {!Polymer_PropertyEffects} inst Instance to send notifications to\n * @param {Array} array The array the mutations occurred on\n * @param {string} path The path to the array that was mutated\n * @param {number} index Index at which the array mutation occurred\n * @param {number} addedCount Number of added items\n * @param {Array} removed Array of removed items\n * @return {void}\n * @private\n */\nfunction notifySplice(inst, array, path, index, addedCount, removed) {\n  notifySplices(inst, array, path, [{\n    index: index,\n    addedCount: addedCount,\n    removed: removed,\n    object: array,\n    type: 'splice'\n  }]);\n}\n\n/**\n * Returns an upper-cased version of the string.\n *\n * @param {string} name String to uppercase\n * @return {string} Uppercased string\n * @private\n */\nfunction upper(name) {\n  return name[0].toUpperCase() + name.substring(1);\n}\n\n/**\n * Element class mixin that provides meta-programming for Polymer's template\n * binding and data observation (collectively, \"property effects\") system.\n *\n * This mixin uses provides the following key static methods for adding\n * property effects to an element class:\n * - `addPropertyEffect`\n * - `createPropertyObserver`\n * - `createMethodObserver`\n * - `createNotifyingProperty`\n * - `createReadOnlyProperty`\n * - `createReflectedProperty`\n * - `createComputedProperty`\n * - `bindTemplate`\n *\n * Each method creates one or more property accessors, along with metadata\n * used by this mixin's implementation of `_propertiesChanged` to perform\n * the property effects.\n *\n * Underscored versions of the above methods also exist on the element\n * prototype for adding property effects on instances at runtime.\n *\n * Note that this mixin overrides several `PropertyAccessors` methods, in\n * many cases to maintain guarantees provided by the Polymer 1.x features;\n * notably it changes property accessors to be synchronous by default\n * whereas the default when using `PropertyAccessors` standalone is to be\n * async by default.\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin TemplateStamp\n * @appliesMixin PropertyAccessors\n * @summary Element class mixin that provides meta-programming for Polymer's\n * template binding and data observation system.\n */\nexport const PropertyEffects = dedupingMixin(superClass => {\n\n  /**\n   * @constructor\n   * @implements {Polymer_PropertyAccessors}\n   * @implements {Polymer_TemplateStamp}\n   * @unrestricted\n   * @private\n   */\n  const propertyEffectsBase = TemplateStamp(PropertyAccessors(superClass));\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertyEffects}\n   * @extends {propertyEffectsBase}\n   * @unrestricted\n   */\n  class PropertyEffects extends propertyEffectsBase {\n\n    constructor() {\n      super();\n      /** @type {boolean} */\n      // Used to identify users of this mixin, ala instanceof\n      this.__isPropertyEffectsClient = true;\n      /** @type {boolean} */\n      this.__dataClientsReady;\n      /** @type {Array} */\n      this.__dataPendingClients;\n      /** @type {Object} */\n      this.__dataToNotify;\n      /** @type {Object} */\n      this.__dataLinkedPaths;\n      /** @type {boolean} */\n      this.__dataHasPaths;\n      /** @type {Object} */\n      this.__dataCompoundStorage;\n      /** @type {Polymer_PropertyEffects} */\n      this.__dataHost;\n      /** @type {!Object} */\n      this.__dataTemp;\n      /** @type {boolean} */\n      this.__dataClientsInitialized;\n      /** @type {!Object} */\n      this.__data;\n      /** @type {!Object|null} */\n      this.__dataPending;\n      /** @type {!Object} */\n      this.__dataOld;\n      /** @type {Object} */\n      this.__computeEffects;\n      /** @type {Object} */\n      this.__computeInfo;\n      /** @type {Object} */\n      this.__reflectEffects;\n      /** @type {Object} */\n      this.__notifyEffects;\n      /** @type {Object} */\n      this.__propagateEffects;\n      /** @type {Object} */\n      this.__observeEffects;\n      /** @type {Object} */\n      this.__readOnly;\n      /** @type {!TemplateInfo} */\n      this.__templateInfo;\n      /** @type {boolean} */\n      this._overrideLegacyUndefined;\n    }\n\n    get PROPERTY_EFFECT_TYPES() {\n      return TYPES;\n    }\n\n    /**\n     * @override\n     * @return {void}\n     */\n    _initializeProperties() {\n      super._initializeProperties();\n      this._registerHost();\n      this.__dataClientsReady = false;\n      this.__dataPendingClients = null;\n      this.__dataToNotify = null;\n      this.__dataLinkedPaths = null;\n      this.__dataHasPaths = false;\n      // May be set on instance prior to upgrade\n      this.__dataCompoundStorage = this.__dataCompoundStorage || null;\n      this.__dataHost = this.__dataHost || null;\n      this.__dataTemp = {};\n      this.__dataClientsInitialized = false;\n    }\n\n    _registerHost() {\n      if (hostStack.length) {\n        let host = hostStack[hostStack.length-1];\n        host._enqueueClient(this);\n        // This ensures even non-bound elements have a host set, as\n        // long as they upgrade synchronously\n        this.__dataHost = host;\n      }\n    }\n\n    /**\n     * Overrides `PropertyAccessors` implementation to provide a\n     * more efficient implementation of initializing properties from\n     * the prototype on the instance.\n     *\n     * @override\n     * @param {Object} props Properties to initialize on the prototype\n     * @return {void}\n     */\n    _initializeProtoProperties(props) {\n      this.__data = Object.create(props);\n      this.__dataPending = Object.create(props);\n      this.__dataOld = {};\n    }\n\n    /**\n     * Overrides `PropertyAccessors` implementation to avoid setting\n     * `_setProperty`'s `shouldNotify: true`.\n     *\n     * @override\n     * @param {Object} props Properties to initialize on the instance\n     * @return {void}\n     */\n    _initializeInstanceProperties(props) {\n      let readOnly = this[TYPES.READ_ONLY];\n      for (let prop in props) {\n        if (!readOnly || !readOnly[prop]) {\n          this.__dataPending = this.__dataPending || {};\n          this.__dataOld = this.__dataOld || {};\n          this.__data[prop] = this.__dataPending[prop] = props[prop];\n        }\n      }\n    }\n\n    // Prototype setup ----------------------------------------\n\n    /**\n     * Equivalent to static `addPropertyEffect` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property that should trigger the effect\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     */\n    _addPropertyEffect(property, type, effect) {\n      this._createPropertyAccessor(property, type == TYPES.READ_ONLY);\n      // effects are accumulated into arrays per property based on type\n      let effects = ensureOwnEffectMap(this, type, true)[property];\n      if (!effects) {\n        effects = this[type][property] = [];\n      }\n      effects.push(effect);\n    }\n\n    /**\n     * Removes the given property effect.\n     *\n     * @override\n     * @param {string} property Property the effect was associated with\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object to remove\n     * @return {void}\n     */\n    _removePropertyEffect(property, type, effect) {\n      let effects = ensureOwnEffectMap(this, type, true)[property];\n      let idx = effects.indexOf(effect);\n      if (idx >= 0) {\n        effects.splice(idx, 1);\n      }\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a property effect\n     * of a certain type.\n     *\n     * @override\n     * @param {string} property Property name\n     * @param {string=} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasPropertyEffect(property, type) {\n      let effects = this[type];\n      return Boolean(effects && effects[property]);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"read only\"\n     * accessor for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasReadOnlyEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.READ_ONLY);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"notify\"\n     * property effect for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasNotifyEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.NOTIFY);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"reflect to\n     * attribute\" property effect for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasReflectEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.REFLECT);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"computed\"\n     * property effect for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasComputedEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.COMPUTE);\n    }\n\n    // Runtime ----------------------------------------\n\n    /**\n     * Sets a pending property or path.  If the root property of the path in\n     * question had no accessor, the path is set, otherwise it is enqueued\n     * via `_setPendingProperty`.\n     *\n     * This function isolates relatively expensive functionality necessary\n     * for the public API (`set`, `setProperties`, `notifyPath`, and property\n     * change listeners via {{...}} bindings), such that it is only done\n     * when paths enter the system, and not at every propagation step.  It\n     * also sets a `__dataHasPaths` flag on the instance which is used to\n     * fast-path slower path-matching code in the property effects host paths.\n     *\n     * `path` can be a path string or array of path parts as accepted by the\n     * public API.\n     *\n     * @override\n     * @param {string | !Array<number|string>} path Path to set\n     * @param {*} value Value to set\n     * @param {boolean=} shouldNotify Set to true if this change should\n     *  cause a property notification event dispatch\n     * @param {boolean=} isPathNotification If the path being set is a path\n     *   notification of an already changed value, as opposed to a request\n     *   to set and notify the change.  In the latter `false` case, a dirty\n     *   check is performed and then the value is set to the path before\n     *   enqueuing the pending property change.\n     * @return {boolean} Returns true if the property/path was enqueued in\n     *   the pending changes bag.\n     * @protected\n     */\n    _setPendingPropertyOrPath(path, value, shouldNotify, isPathNotification) {\n      if (isPathNotification ||\n          root(Array.isArray(path) ? path[0] : path) !== path) {\n        // Dirty check changes being set to a path against the actual object,\n        // since this is the entry point for paths into the system; from here\n        // the only dirty checks are against the `__dataTemp` cache to prevent\n        // duplicate work in the same turn only. Note, if this was a notification\n        // of a change already set to a path (isPathNotification: true),\n        // we always let the change through and skip the `set` since it was\n        // already dirty checked at the point of entry and the underlying\n        // object has already been updated\n        if (!isPathNotification) {\n          let old = get(this, path);\n          path = /** @type {string} */ (set(this, path, value));\n          // Use property-accessor's simpler dirty check\n          if (!path || !super._shouldPropertyChange(path, value, old)) {\n            return false;\n          }\n        }\n        this.__dataHasPaths = true;\n        if (this._setPendingProperty(/**@type{string}*/(path), value, shouldNotify)) {\n          computeLinkedPaths(this, /**@type{string}*/ (path), value);\n          return true;\n        }\n      } else {\n        if (this.__dataHasAccessor && this.__dataHasAccessor[path]) {\n          return this._setPendingProperty(/**@type{string}*/(path), value, shouldNotify);\n        } else {\n          this[path] = value;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Applies a value to a non-Polymer element/node's property.\n     *\n     * The implementation makes a best-effort at binding interop:\n     * Some native element properties have side-effects when\n     * re-setting the same value (e.g. setting `<input>.value` resets the\n     * cursor position), so we do a dirty-check before setting the value.\n     * However, for better interop with non-Polymer custom elements that\n     * accept objects, we explicitly re-set object changes coming from the\n     * Polymer world (which may include deep object changes without the\n     * top reference changing), erring on the side of providing more\n     * information.\n     *\n     * Users may override this method to provide alternate approaches.\n     *\n     * @override\n     * @param {!Node} node The node to set a property on\n     * @param {string} prop The property to set\n     * @param {*} value The value to set\n     * @return {void}\n     * @protected\n     */\n    _setUnmanagedPropertyToNode(node, prop, value) {\n      // It is a judgment call that resetting primitives is\n      // \"bad\" and resettings objects is also \"good\"; alternatively we could\n      // implement a whitelist of tag & property values that should never\n      // be reset (e.g. <input>.value && <select>.value)\n      if (value !== node[prop] || typeof value == 'object') {\n        // Note, className needs style scoping so this needs wrapping.\n        if (prop === 'className') {\n          node = /** @type {!Node} */(wrap(node));\n        }\n        node[prop] = value;\n      }\n    }\n\n    /**\n     * Overrides the `PropertiesChanged` implementation to introduce special\n     * dirty check logic depending on the property & value being set:\n     *\n     * 1. Any value set to a path (e.g. 'obj.prop': 42 or 'obj.prop': {...})\n     *    Stored in `__dataTemp`, dirty checked against `__dataTemp`\n     * 2. Object set to simple property (e.g. 'prop': {...})\n     *    Stored in `__dataTemp` and `__data`, dirty checked against\n     *    `__dataTemp` by default implementation of `_shouldPropertyChange`\n     * 3. Primitive value set to simple property (e.g. 'prop': 42)\n     *    Stored in `__data`, dirty checked against `__data`\n     *\n     * The dirty-check is important to prevent cycles due to two-way\n     * notification, but paths and objects are only dirty checked against any\n     * previous value set during this turn via a \"temporary cache\" that is\n     * cleared when the last `_propertiesChanged` exits. This is so:\n     * a. any cached array paths (e.g. 'array.3.prop') may be invalidated\n     *    due to array mutations like shift/unshift/splice; this is fine\n     *    since path changes are dirty-checked at user entry points like `set`\n     * b. dirty-checking for objects only lasts one turn to allow the user\n     *    to mutate the object in-place and re-set it with the same identity\n     *    and have all sub-properties re-propagated in a subsequent turn.\n     *\n     * The temp cache is not necessarily sufficient to prevent invalid array\n     * paths, since a splice can happen during the same turn (with pathological\n     * user code); we could introduce a \"fixup\" for temporarily cached array\n     * paths if needed: https://github.com/Polymer/polymer/issues/4227\n     *\n     * @override\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @param {boolean=} shouldNotify True if property should fire notification\n     *   event (applies only for `notify: true` properties)\n     * @return {boolean} Returns true if the property changed\n     */\n    _setPendingProperty(property, value, shouldNotify) {\n      let propIsPath = this.__dataHasPaths && isPath(property);\n      let prevProps = propIsPath ? this.__dataTemp : this.__data;\n      if (this._shouldPropertyChange(property, value, prevProps[property])) {\n        if (!this.__dataPending) {\n          this.__dataPending = {};\n          this.__dataOld = {};\n        }\n        // Ensure old is captured from the last turn\n        if (!(property in this.__dataOld)) {\n          this.__dataOld[property] = this.__data[property];\n        }\n        // Paths are stored in temporary cache (cleared at end of turn),\n        // which is used for dirty-checking, all others stored in __data\n        if (propIsPath) {\n          this.__dataTemp[property] = value;\n        } else {\n          this.__data[property] = value;\n        }\n        // All changes go into pending property bag, passed to _propertiesChanged\n        this.__dataPending[property] = value;\n        // Track properties that should notify separately\n        if (propIsPath || (this[TYPES.NOTIFY] && this[TYPES.NOTIFY][property])) {\n          this.__dataToNotify = this.__dataToNotify || {};\n          this.__dataToNotify[property] = shouldNotify;\n        }\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Overrides base implementation to ensure all accessors set `shouldNotify`\n     * to true, for per-property notification tracking.\n     *\n     * @override\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @return {void}\n     */\n    _setProperty(property, value) {\n      if (this._setPendingProperty(property, value, true)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Overrides `PropertyAccessor`'s default async queuing of\n     * `_propertiesChanged`: if `__dataReady` is false (has not yet been\n     * manually flushed), the function no-ops; otherwise flushes\n     * `_propertiesChanged` synchronously.\n     *\n     * @override\n     * @return {void}\n     */\n    _invalidateProperties() {\n      if (this.__dataReady) {\n        this._flushProperties();\n      }\n    }\n\n    /**\n     * Enqueues the given client on a list of pending clients, whose\n     * pending property changes can later be flushed via a call to\n     * `_flushClients`.\n     *\n     * @override\n     * @param {Object} client PropertyEffects client to enqueue\n     * @return {void}\n     * @protected\n     */\n    _enqueueClient(client) {\n      this.__dataPendingClients = this.__dataPendingClients || [];\n      if (client !== this) {\n        this.__dataPendingClients.push(client);\n      }\n    }\n\n    /**\n     * Flushes any clients previously enqueued via `_enqueueClient`, causing\n     * their `_flushProperties` method to run.\n     *\n     * @override\n     * @return {void}\n     * @protected\n     */\n    _flushClients() {\n      if (!this.__dataClientsReady) {\n        this.__dataClientsReady = true;\n        this._readyClients();\n        // Override point where accessors are turned on; importantly,\n        // this is after clients have fully readied, providing a guarantee\n        // that any property effects occur only after all clients are ready.\n        this.__dataReady = true;\n      } else {\n        this.__enableOrFlushClients();\n      }\n    }\n\n    // NOTE: We ensure clients either enable or flush as appropriate. This\n    // handles two corner cases:\n    // (1) clients flush properly when connected/enabled before the host\n    // enables; e.g.\n    //   (a) Templatize stamps with no properties and does not flush and\n    //   (b) the instance is inserted into dom and\n    //   (c) then the instance flushes.\n    // (2) clients enable properly when not connected/enabled when the host\n    // flushes; e.g.\n    //   (a) a template is runtime stamped and not yet connected/enabled\n    //   (b) a host sets a property, causing stamped dom to flush\n    //   (c) the stamped dom enables.\n    __enableOrFlushClients() {\n      let clients = this.__dataPendingClients;\n      if (clients) {\n        this.__dataPendingClients = null;\n        for (let i=0; i < clients.length; i++) {\n          let client = clients[i];\n          if (!client.__dataEnabled) {\n            client._enableProperties();\n          } else if (client.__dataPending) {\n            client._flushProperties();\n          }\n        }\n      }\n    }\n\n    /**\n     * Perform any initial setup on client dom. Called before the first\n     * `_flushProperties` call on client dom and before any element\n     * observers are called.\n     *\n     * @override\n     * @return {void}\n     * @protected\n     */\n    _readyClients() {\n      this.__enableOrFlushClients();\n    }\n\n    /**\n     * Sets a bag of property changes to this instance, and\n     * synchronously processes all effects of the properties as a batch.\n     *\n     * Property names must be simple properties, not paths.  Batched\n     * path propagation is not supported.\n     *\n     * @override\n     * @param {Object} props Bag of one or more key-value pairs whose key is\n     *   a property and value is the new value to set for that property.\n     * @param {boolean=} setReadOnly When true, any private values set in\n     *   `props` will be set. By default, `setProperties` will not set\n     *   `readOnly: true` root properties.\n     * @return {void}\n     * @public\n     */\n    setProperties(props, setReadOnly) {\n      for (let path in props) {\n        if (setReadOnly || !this[TYPES.READ_ONLY] || !this[TYPES.READ_ONLY][path]) {\n          //TODO(kschaaf): explicitly disallow paths in setProperty?\n          // wildcard observers currently only pass the first changed path\n          // in the `info` object, and you could do some odd things batching\n          // paths, e.g. {'foo.bar': {...}, 'foo': null}\n          this._setPendingPropertyOrPath(path, props[path], true);\n        }\n      }\n      this._invalidateProperties();\n    }\n\n    /**\n     * Overrides `PropertyAccessors` so that property accessor\n     * side effects are not enabled until after client dom is fully ready.\n     * Also calls `_flushClients` callback to ensure client dom is enabled\n     * that was not enabled as a result of flushing properties.\n     *\n     * @override\n     * @return {void}\n     */\n    ready() {\n      // It is important that `super.ready()` is not called here as it\n      // immediately turns on accessors. Instead, we wait until `readyClients`\n      // to enable accessors to provide a guarantee that clients are ready\n      // before processing any accessors side effects.\n      this._flushProperties();\n      // If no data was pending, `_flushProperties` will not `flushClients`\n      // so ensure this is done.\n      if (!this.__dataClientsReady) {\n        this._flushClients();\n      }\n      // Before ready, client notifications do not trigger _flushProperties.\n      // Therefore a flush is necessary here if data has been set.\n      if (this.__dataPending) {\n        this._flushProperties();\n      }\n    }\n\n    /**\n     * Implements `PropertyAccessors`'s properties changed callback.\n     *\n     * Runs each class of effects for the batch of changed properties in\n     * a specific order (compute, propagate, reflect, observe, notify).\n     *\n     * @override\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {?Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {?Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @return {void}\n     */\n    _propertiesChanged(currentProps, changedProps, oldProps) {\n      // ----------------------------\n      // let c = Object.getOwnPropertyNames(changedProps || {});\n      // window.debug && console.group(this.localName + '#' + this.id + ': ' + c);\n      // if (window.debug) { debugger; }\n      // ----------------------------\n      let hasPaths = this.__dataHasPaths;\n      this.__dataHasPaths = false;\n      let notifyProps;\n      // Compute properties\n      runComputedEffects(this, changedProps, oldProps, hasPaths);\n      // Clear notify properties prior to possible reentry (propagate, observe),\n      // but after computing effects have a chance to add to them\n      notifyProps = this.__dataToNotify;\n      this.__dataToNotify = null;\n      // Propagate properties to clients\n      this._propagatePropertyChanges(changedProps, oldProps, hasPaths);\n      // Flush clients\n      this._flushClients();\n      // Reflect properties\n      runEffects(this, this[TYPES.REFLECT], changedProps, oldProps, hasPaths);\n      // Observe properties\n      runEffects(this, this[TYPES.OBSERVE], changedProps, oldProps, hasPaths);\n      // Notify properties to host\n      if (notifyProps) {\n        runNotifyEffects(this, notifyProps, changedProps, oldProps, hasPaths);\n      }\n      // Clear temporary cache at end of turn\n      if (this.__dataCounter == 1) {\n        this.__dataTemp = {};\n      }\n      // ----------------------------\n      // window.debug && console.groupEnd(this.localName + '#' + this.id + ': ' + c);\n      // ----------------------------\n    }\n\n    /**\n     * Called to propagate any property changes to stamped template nodes\n     * managed by this element.\n     *\n     * @override\n     * @param {Object} changedProps Bag of changed properties\n     * @param {Object} oldProps Bag of previous values for changed properties\n     * @param {boolean} hasPaths True with `props` contains one or more paths\n     * @return {void}\n     * @protected\n     */\n    _propagatePropertyChanges(changedProps, oldProps, hasPaths) {\n      if (this[TYPES.PROPAGATE]) {\n        runEffects(this, this[TYPES.PROPAGATE], changedProps, oldProps, hasPaths);\n      }\n      if (this.__templateInfo) {\n        this._runEffectsForTemplate(this.__templateInfo, changedProps, oldProps, hasPaths);\n      }\n    }\n\n    _runEffectsForTemplate(templateInfo, changedProps, oldProps, hasPaths) {\n      const baseRunEffects = (changedProps, hasPaths) => {\n        runEffects(this, templateInfo.propertyEffects, changedProps, oldProps,\n          hasPaths, templateInfo.nodeList);\n        for (let info=templateInfo.firstChild; info; info=info.nextSibling) {\n          this._runEffectsForTemplate(info, changedProps, oldProps, hasPaths);\n        }\n      };\n      if (templateInfo.runEffects) {\n        templateInfo.runEffects(baseRunEffects, changedProps, hasPaths);\n      } else {\n        baseRunEffects(changedProps, hasPaths);\n      }\n    }\n\n    /**\n     * Aliases one data path as another, such that path notifications from one\n     * are routed to the other.\n     *\n     * @override\n     * @param {string | !Array<string|number>} to Target path to link.\n     * @param {string | !Array<string|number>} from Source path to link.\n     * @return {void}\n     * @public\n     */\n    linkPaths(to, from) {\n      to = normalize(to);\n      from = normalize(from);\n      this.__dataLinkedPaths = this.__dataLinkedPaths || {};\n      this.__dataLinkedPaths[to] = from;\n    }\n\n    /**\n     * Removes a data path alias previously established with `_linkPaths`.\n     *\n     * Note, the path to unlink should be the target (`to`) used when\n     * linking the paths.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Target path to unlink.\n     * @return {void}\n     * @public\n     */\n    unlinkPaths(path) {\n      path = normalize(path);\n      if (this.__dataLinkedPaths) {\n        delete this.__dataLinkedPaths[path];\n      }\n    }\n\n    /**\n     * Notify that an array has changed.\n     *\n     * Example:\n     *\n     *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];\n     *     ...\n     *     this.items.splice(1, 1, {name: 'Sam'});\n     *     this.items.push({name: 'Bob'});\n     *     this.notifySplices('items', [\n     *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1,\n     *         object: this.items, type: 'splice' },\n     *       { index: 3, removed: [], addedCount: 1,\n     *         object: this.items, type: 'splice'}\n     *     ]);\n     *\n     * @param {string} path Path that should be notified.\n     * @param {Array} splices Array of splice records indicating ordered\n     *   changes that occurred to the array. Each record should have the\n     *   following fields:\n     *    * index: index at which the change occurred\n     *    * removed: array of items that were removed from this index\n     *    * addedCount: number of new items added at this index\n     *    * object: a reference to the array in question\n     *    * type: the string literal 'splice'\n     *\n     *   Note that splice records _must_ be normalized such that they are\n     *   reported in index order (raw results from `Object.observe` are not\n     *   ordered and must be normalized/merged before notifying).\n     *\n     * @override\n     * @return {void}\n     * @public\n     */\n    notifySplices(path, splices) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      notifySplices(this, array, info.path, splices);\n    }\n\n    /**\n     * Convenience method for reading a value from a path.\n     *\n     * Note, if any part in the path is undefined, this method returns\n     * `undefined` (this method does not throw when dereferencing undefined\n     * paths).\n     *\n     * @override\n     * @param {(string|!Array<(string|number)>)} path Path to the value\n     *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)\n     *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n     *   bracketed expressions are not supported; string-based path parts\n     *   *must* be separated by dots.  Note that when dereferencing array\n     *   indices, the index may be used as a dotted part directly\n     *   (e.g. `users.12.name` or `['users', 12, 'name']`).\n     * @param {Object=} root Root object from which the path is evaluated.\n     * @return {*} Value at the path, or `undefined` if any part of the path\n     *   is undefined.\n     * @public\n     */\n    get(path, root) {\n      return get(root || this, path);\n    }\n\n    /**\n     * Convenience method for setting a value to a path and notifying any\n     * elements bound to the same path.\n     *\n     * Note, if any part in the path except for the last is undefined,\n     * this method does nothing (this method does not throw when\n     * dereferencing undefined paths).\n     *\n     * @override\n     * @param {(string|!Array<(string|number)>)} path Path to the value\n     *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)\n     *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n     *   bracketed expressions are not supported; string-based path parts\n     *   *must* be separated by dots.  Note that when dereferencing array\n     *   indices, the index may be used as a dotted part directly\n     *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).\n     * @param {*} value Value to set at the specified path.\n     * @param {Object=} root Root object from which the path is evaluated.\n     *   When specified, no notification will occur.\n     * @return {void}\n     * @public\n     */\n    set(path, value, root) {\n      if (root) {\n        set(root, path, value);\n      } else {\n        if (!this[TYPES.READ_ONLY] || !this[TYPES.READ_ONLY][/** @type {string} */(path)]) {\n          if (this._setPendingPropertyOrPath(path, value, true)) {\n            this._invalidateProperties();\n          }\n        }\n      }\n    }\n\n    /**\n     * Adds items onto the end of the array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.push`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {...*} items Items to push onto array\n     * @return {number} New length of the array.\n     * @public\n     */\n    push(path, ...items) {\n      let info = {path: ''};\n      let array = /** @type {Array}*/(get(this, path, info));\n      let len = array.length;\n      let ret = array.push(...items);\n      if (items.length) {\n        notifySplice(this, array, info.path, len, items.length, []);\n      }\n      return ret;\n    }\n\n    /**\n     * Removes an item from the end of array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.pop`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @return {*} Item that was removed.\n     * @public\n     */\n    pop(path) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      let hadLength = Boolean(array.length);\n      let ret = array.pop();\n      if (hadLength) {\n        notifySplice(this, array, info.path, array.length, 0, [ret]);\n      }\n      return ret;\n    }\n\n    /**\n     * Starting from the start index specified, removes 0 or more items\n     * from the array and inserts 0 or more new items in their place.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.splice`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {number} start Index from which to start removing/inserting.\n     * @param {number=} deleteCount Number of items to remove.\n     * @param {...*} items Items to insert into array.\n     * @return {!Array} Array of removed items.\n     * @public\n     */\n    splice(path, start, deleteCount, ...items) {\n      let info = {path : ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      // Normalize fancy native splice handling of crazy start values\n      if (start < 0) {\n        start = array.length - Math.floor(-start);\n      } else if (start) {\n        start = Math.floor(start);\n      }\n      // array.splice does different things based on the number of arguments\n      // you pass in. Therefore, array.splice(0) and array.splice(0, undefined)\n      // do different things. In the former, the whole array is cleared. In the\n      // latter, no items are removed.\n      // This means that we need to detect whether 1. one of the arguments\n      // is actually passed in and then 2. determine how many arguments\n      // we should pass on to the native array.splice\n      //\n      let ret;\n      // Omit any additional arguments if they were not passed in\n      if (arguments.length === 2) {\n        ret = array.splice(start);\n      // Either start was undefined and the others were defined, but in this\n      // case we can safely pass on all arguments\n      //\n      // Note: this includes the case where none of the arguments were passed in,\n      // e.g. this.splice('array'). However, if both start and deleteCount\n      // are undefined, array.splice will not modify the array (as expected)\n      } else {\n        ret = array.splice(start, deleteCount, ...items);\n      }\n      // At the end, check whether any items were passed in (e.g. insertions)\n      // or if the return array contains items (e.g. deletions).\n      // Only notify if items were added or deleted.\n      if (items.length || ret.length) {\n        notifySplice(this, array, info.path, start, items.length, ret);\n      }\n      return ret;\n    }\n\n    /**\n     * Removes an item from the beginning of array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.pop`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @return {*} Item that was removed.\n     * @public\n     */\n    shift(path) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      let hadLength = Boolean(array.length);\n      let ret = array.shift();\n      if (hadLength) {\n        notifySplice(this, array, info.path, 0, 0, [ret]);\n      }\n      return ret;\n    }\n\n    /**\n     * Adds items onto the beginning of the array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.push`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {...*} items Items to insert info array\n     * @return {number} New length of the array.\n     * @public\n     */\n    unshift(path, ...items) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      let ret = array.unshift(...items);\n      if (items.length) {\n        notifySplice(this, array, info.path, 0, items.length, []);\n      }\n      return ret;\n    }\n\n    /**\n     * Notify that a path has changed.\n     *\n     * Example:\n     *\n     *     this.item.user.name = 'Bob';\n     *     this.notifyPath('item.user.name');\n     *\n     * @override\n     * @param {string} path Path that should be notified.\n     * @param {*=} value Value at the path (optional).\n     * @return {void}\n     * @public\n     */\n    notifyPath(path, value) {\n      /** @type {string} */\n      let propPath;\n      if (arguments.length == 1) {\n        // Get value if not supplied\n        let info = {path: ''};\n        value = get(this, path, info);\n        propPath = info.path;\n      } else if (Array.isArray(path)) {\n        // Normalize path if needed\n        propPath = normalize(path);\n      } else {\n        propPath = /** @type{string} */(path);\n      }\n      if (this._setPendingPropertyOrPath(propPath, value, true, true)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Equivalent to static `createReadOnlyProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @param {boolean=} protectedSetter Creates a custom protected setter\n     *   when `true`.\n     * @return {void}\n     * @protected\n     */\n    _createReadOnlyProperty(property, protectedSetter) {\n      this._addPropertyEffect(property, TYPES.READ_ONLY);\n      if (protectedSetter) {\n        this['_set' + upper(property)] = /** @this {PropertyEffects} */function(value) {\n          this._setProperty(property, value);\n        };\n      }\n    }\n\n    /**\n     * Equivalent to static `createPropertyObserver` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @param {string|function(*,*)} method Function or name of observer method\n     *     to call\n     * @param {boolean=} dynamicFn Whether the method name should be included as\n     *   a dependency to the effect.\n     * @return {void}\n     * @protected\n     */\n    _createPropertyObserver(property, method, dynamicFn) {\n      let info = { property, method, dynamicFn: Boolean(dynamicFn) };\n      this._addPropertyEffect(property, TYPES.OBSERVE, {\n        fn: runObserverEffect, info, trigger: {name: property}\n      });\n      if (dynamicFn) {\n        this._addPropertyEffect(/** @type {string} */(method), TYPES.OBSERVE, {\n          fn: runObserverEffect, info, trigger: {name: method}\n        });\n      }\n    }\n\n    /**\n     * Equivalent to static `createMethodObserver` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @return {void}\n     * @protected\n     */\n    _createMethodObserver(expression, dynamicFn) {\n      let sig = parseMethod(expression);\n      if (!sig) {\n        throw new Error(\"Malformed observer expression '\" + expression + \"'\");\n      }\n      createMethodEffect(this, sig, TYPES.OBSERVE, runMethodEffect, null, dynamicFn);\n    }\n\n    /**\n     * Equivalent to static `createNotifyingProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     */\n    _createNotifyingProperty(property) {\n      this._addPropertyEffect(property, TYPES.NOTIFY, {\n        fn: runNotifyEffect,\n        info: {\n          eventName: camelToDashCase(property) + '-changed',\n          property: property\n        }\n      });\n    }\n\n    /**\n     * Equivalent to static `createReflectedProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     * @suppress {missingProperties} go/missingfnprops\n     */\n    _createReflectedProperty(property) {\n      let attr = this.constructor.attributeNameForProperty(property);\n      if (attr[0] === '-') {\n        console.warn('Property ' + property + ' cannot be reflected to attribute ' +\n          attr + ' because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.');\n      } else {\n        this._addPropertyEffect(property, TYPES.REFLECT, {\n          fn: runReflectEffect,\n          info: {\n            attrName: attr\n          }\n        });\n      }\n    }\n\n    /**\n     * Equivalent to static `createComputedProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Name of computed property to set\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @return {void}\n     * @protected\n     */\n    _createComputedProperty(property, expression, dynamicFn) {\n      let sig = parseMethod(expression);\n      if (!sig) {\n        throw new Error(\"Malformed computed expression '\" + expression + \"'\");\n      }\n      const info = createMethodEffect(this, sig, TYPES.COMPUTE, runComputedEffect, property, dynamicFn);\n      // Effects are normally stored as map of dependency->effect, but for\n      // ordered computation, we also need tree of computedProp->dependencies\n      ensureOwnEffectMap(this, COMPUTE_INFO)[property] = info;\n    }\n\n    /**\n     * Gather the argument values for a method specified in the provided array\n     * of argument metadata.\n     *\n     * The `path` and `value` arguments are used to fill in wildcard descriptor\n     * when the method is being called as a result of a path notification.\n     *\n     * @param {!Array<!MethodArg>} args Array of argument metadata\n     * @param {string} path Property/path name that triggered the method effect\n     * @param {Object} props Bag of current property changes\n     * @return {!Array<*>} Array of argument values\n     * @private\n     */\n    _marshalArgs(args, path, props) {\n      const data = this.__data;\n      const values = [];\n      for (let i=0, l=args.length; i<l; i++) {\n        let {name, structured, wildcard, value, literal} = args[i];\n        if (!literal) {\n          if (wildcard) {\n            const matches = isDescendant(name, path);\n            const pathValue = getArgValue(data, props, matches ? path : name);\n            value = {\n              path: matches ? path : name,\n              value: pathValue,\n              base: matches ? get(data, name) : pathValue\n            };\n          } else {\n            value = structured ? getArgValue(data, props, name) : data[name];\n          }\n        }\n        // When the `legacyUndefined` flag is enabled, pass a no-op value\n        // so that the observer, computed property, or compound binding is aborted.\n        if (legacyUndefined && !this._overrideLegacyUndefined && value === undefined && args.length > 1) {\n          return NOOP;\n        }\n        values[i] = value;\n      }\n      return values;\n    }\n\n    // -- static class methods ------------\n\n    /**\n     * Ensures an accessor exists for the specified property, and adds\n     * to a list of \"property effects\" that will run when the accessor for\n     * the specified property is set.  Effects are grouped by \"type\", which\n     * roughly corresponds to a phase in effect processing.  The effect\n     * metadata should be in the following form:\n     *\n     *     {\n     *       fn: effectFunction, // Reference to function to call to perform effect\n     *       info: { ... }       // Effect metadata passed to function\n     *       trigger: {          // Optional triggering metadata; if not provided\n     *         name: string      // the property is treated as a wildcard\n     *         structured: boolean\n     *         wildcard: boolean\n     *       }\n     *     }\n     *\n     * Effects are called from `_propertiesChanged` in the following order by\n     * type:\n     *\n     * 1. COMPUTE\n     * 2. PROPAGATE\n     * 3. REFLECT\n     * 4. OBSERVE\n     * 5. NOTIFY\n     *\n     * Effect functions are called with the following signature:\n     *\n     *     effectFunction(inst, path, props, oldProps, info, hasPaths)\n     *\n     * @param {string} property Property that should trigger the effect\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static addPropertyEffect(property, type, effect) {\n      this.prototype._addPropertyEffect(property, type, effect);\n    }\n\n    /**\n     * Creates a single-property observer for the given property.\n     *\n     * @param {string} property Property name\n     * @param {string|function(*,*)} method Function or name of observer method to call\n     * @param {boolean=} dynamicFn Whether the method name should be included as\n     *   a dependency to the effect.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createPropertyObserver(property, method, dynamicFn) {\n      this.prototype._createPropertyObserver(property, method, dynamicFn);\n    }\n\n    /**\n     * Creates a multi-property \"method observer\" based on the provided\n     * expression, which should be a string in the form of a normal JavaScript\n     * function signature: `'methodName(arg1, [..., argn])'`.  Each argument\n     * should correspond to a property or path in the context of this\n     * prototype (or instance), or may be a literal string or number.\n     *\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     * @return {void}\n     *   whether method names should be included as a dependency to the effect.\n     * @protected\n     * @nocollapse\n     */\n    static createMethodObserver(expression, dynamicFn) {\n      this.prototype._createMethodObserver(expression, dynamicFn);\n    }\n\n    /**\n     * Causes the setter for the given property to dispatch `<property>-changed`\n     * events to notify of changes to the property.\n     *\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createNotifyingProperty(property) {\n      this.prototype._createNotifyingProperty(property);\n    }\n\n    /**\n     * Creates a read-only accessor for the given property.\n     *\n     * To set the property, use the protected `_setProperty` API.\n     * To create a custom protected setter (e.g. `_setMyProp()` for\n     * property `myProp`), pass `true` for `protectedSetter`.\n     *\n     * Note, if the property will have other property effects, this method\n     * should be called first, before adding other effects.\n     *\n     * @param {string} property Property name\n     * @param {boolean=} protectedSetter Creates a custom protected setter\n     *   when `true`.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createReadOnlyProperty(property, protectedSetter) {\n      this.prototype._createReadOnlyProperty(property, protectedSetter);\n    }\n\n    /**\n     * Causes the setter for the given property to reflect the property value\n     * to a (dash-cased) attribute of the same name.\n     *\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createReflectedProperty(property) {\n      this.prototype._createReflectedProperty(property);\n    }\n\n    /**\n     * Creates a computed property whose value is set to the result of the\n     * method described by the given `expression` each time one or more\n     * arguments to the method changes.  The expression should be a string\n     * in the form of a normal JavaScript function signature:\n     * `'methodName(arg1, [..., argn])'`\n     *\n     * @param {string} property Name of computed property to set\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n     *   method names should be included as a dependency to the effect.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createComputedProperty(property, expression, dynamicFn) {\n      this.prototype._createComputedProperty(property, expression, dynamicFn);\n    }\n\n    /**\n     * Parses the provided template to ensure binding effects are created\n     * for them, and then ensures property accessors are created for any\n     * dependent properties in the template.  Binding effects for bound\n     * templates are stored in a linked list on the instance so that\n     * templates can be efficiently stamped and unstamped.\n     *\n     * @param {!HTMLTemplateElement} template Template containing binding\n     *   bindings\n     * @return {!TemplateInfo} Template metadata object\n     * @protected\n     * @nocollapse\n     */\n    static bindTemplate(template) {\n      return this.prototype._bindTemplate(template);\n    }\n\n    // -- binding ----------------------------------------------\n\n    /*\n     * Overview of binding flow:\n     *\n     * During finalization (`instanceBinding==false`, `wasPreBound==false`):\n     *  `_bindTemplate(t, false)` called directly during finalization - parses\n     *  the template (for the first time), and then assigns that _prototypical_\n     *  template info to `__preboundTemplateInfo` _on the prototype_; note in\n     *  this case `wasPreBound` is false; this is the first time we're binding\n     *  it, thus we create accessors.\n     *\n     * During first stamping (`instanceBinding==true`, `wasPreBound==true`):\n     *   `_stampTemplate` calls `_bindTemplate(t, true)`: the `templateInfo`\n     *   returned matches the prebound one, and so this is `wasPreBound == true`\n     *   state; thus we _skip_ creating accessors, but _do_ create an instance\n     *   of the template info to serve as the start of our linked list (needs to\n     *   be an instance, not the prototypical one, so that we can add `nodeList`\n     *   to it to contain the `nodeInfo`-ordered list of instance nodes for\n     *   bindings, and so we can chain runtime-stamped template infos off of\n     *   it). At this point, the call to `_stampTemplate` calls\n     *   `applyTemplateInfo` for each nested `<template>` found during parsing\n     *   to hand prototypical `_templateInfo` to them; we also pass the _parent_\n     *   `templateInfo` to the `<template>` so that we have the instance-time\n     *   parent to link the `templateInfo` under in the case it was\n     *   runtime-stamped.\n     *\n     * During subsequent runtime stamping (`instanceBinding==true`,\n     *   `wasPreBound==false`): `_stampTemplate` calls `_bindTemplate(t, true)`\n     *   - here `templateInfo` is guaranteed to _not_ match the prebound one,\n     *   because it was either a different template altogether, or even if it\n     *   was the same template, the step above created a instance of the info;\n     *   in this case `wasPreBound == false`, so we _do_ create accessors, _and_\n     *   link a instance into the linked list.\n     */\n\n    /**\n     * Equivalent to static `bindTemplate` API but can be called on an instance\n     * to add effects at runtime.  See that method for full API docs.\n     *\n     * This method may be called on the prototype (for prototypical template\n     * binding, to avoid creating accessors every instance) once per prototype,\n     * and will be called with `runtimeBinding: true` by `_stampTemplate` to\n     * create and link an instance of the template metadata associated with a\n     * particular stamping.\n     *\n     * @override\n     * @param {!HTMLTemplateElement} template Template containing binding\n     * bindings\n     * @param {boolean=} instanceBinding When false (default), performs\n     * \"prototypical\" binding of the template and overwrites any previously\n     * bound template for the class. When true (as passed from\n     * `_stampTemplate`), the template info is instanced and linked into the\n     * list of bound templates.\n     * @return {!TemplateInfo} Template metadata object; for `runtimeBinding`,\n     * this is an instance of the prototypical template info\n     * @protected\n     * @suppress {missingProperties} go/missingfnprops\n     */\n    _bindTemplate(template, instanceBinding) {\n      let templateInfo = this.constructor._parseTemplate(template);\n      let wasPreBound = this.__preBoundTemplateInfo == templateInfo;\n      // Optimization: since this is called twice for proto-bound templates,\n      // don't attempt to recreate accessors if this template was pre-bound\n      if (!wasPreBound) {\n        for (let prop in templateInfo.propertyEffects) {\n          this._createPropertyAccessor(prop);\n        }\n      }\n      if (instanceBinding) {\n        // For instance-time binding, create instance of template metadata\n        // and link into tree of templates if necessary\n        templateInfo = /** @type {!TemplateInfo} */(Object.create(templateInfo));\n        templateInfo.wasPreBound = wasPreBound;\n        if (!this.__templateInfo) {\n          // Set the info to the root of the tree\n          this.__templateInfo = templateInfo;\n        } else {\n          // Append this template info onto the end of its parent template's\n          // list, which will determine the tree structure via which property\n          // effects are run; if this template was not nested in another\n          // template, use the root template (the first stamped one) as the\n          // parent. Note, `parent` is the `templateInfo` instance for this\n          // template's parent (containing) template, which was set up in\n          // `applyTemplateInfo`.  While a given template's `parent` is set\n          // apriori, it is only added to the parent's child list at the point\n          // that it is being bound, since a template may or may not ever be\n          // stamped, and may be stamped more than once (in which case instances\n          // of the template info will be in the tree under its parent more than\n          // once).\n          const parent = template._parentTemplateInfo || this.__templateInfo;\n          const previous = parent.lastChild;\n          templateInfo.parent = parent;\n          parent.lastChild = templateInfo;\n          templateInfo.previousSibling = previous;\n          if (previous) {\n            previous.nextSibling = templateInfo;\n          } else {\n            parent.firstChild = templateInfo;\n          }\n        }\n      } else {\n        this.__preBoundTemplateInfo = templateInfo;\n      }\n      return templateInfo;\n    }\n\n    /**\n     * Adds a property effect to the given template metadata, which is run\n     * at the \"propagate\" stage of `_propertiesChanged` when the template\n     * has been bound to the element via `_bindTemplate`.\n     *\n     * The `effect` object should match the format in `_addPropertyEffect`.\n     *\n     * @param {Object} templateInfo Template metadata to add effect to\n     * @param {string} prop Property that should trigger the effect\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static _addTemplatePropertyEffect(templateInfo, prop, effect) {\n      let hostProps = templateInfo.hostProps = templateInfo.hostProps || {};\n      hostProps[prop] = true;\n      let effects = templateInfo.propertyEffects = templateInfo.propertyEffects || {};\n      let propEffects = effects[prop] = effects[prop] || [];\n      propEffects.push(effect);\n    }\n\n    /**\n     * Stamps the provided template and performs instance-time setup for\n     * Polymer template features, including data bindings, declarative event\n     * listeners, and the `this.$` map of `id`'s to nodes.  A document fragment\n     * is returned containing the stamped DOM, ready for insertion into the\n     * DOM.\n     *\n     * This method may be called more than once; however note that due to\n     * `shadycss` polyfill limitations, only styles from templates prepared\n     * using `ShadyCSS.prepareTemplate` will be correctly polyfilled (scoped\n     * to the shadow root and support CSS custom properties), and note that\n     * `ShadyCSS.prepareTemplate` may only be called once per element. As such,\n     * any styles required by in runtime-stamped templates must be included\n     * in the main element template.\n     *\n     * @param {!HTMLTemplateElement} template Template to stamp\n     * @param {TemplateInfo=} templateInfo Optional bound template info associated\n     *   with the template to be stamped; if omitted the template will be\n     *   automatically bound.\n     * @return {!StampedTemplate} Cloned template content\n     * @override\n     * @protected\n     */\n    _stampTemplate(template, templateInfo) {\n      templateInfo =  templateInfo || /** @type {!TemplateInfo} */(this._bindTemplate(template, true));\n      // Ensures that created dom is `_enqueueClient`'d to this element so\n      // that it can be flushed on next call to `_flushProperties`\n      hostStack.push(this);\n      let dom = super._stampTemplate(template, templateInfo);\n      hostStack.pop();\n      // Add template-instance-specific data to instanced templateInfo\n      templateInfo.nodeList = dom.nodeList;\n      // Capture child nodes to allow unstamping of non-prototypical templates\n      if (!templateInfo.wasPreBound) {\n        let nodes = templateInfo.childNodes = [];\n        for (let n=dom.firstChild; n; n=n.nextSibling) {\n          nodes.push(n);\n        }\n      }\n      dom.templateInfo = templateInfo;\n      // Setup compound storage, 2-way listeners, and dataHost for bindings\n      setupBindings(this, templateInfo);\n      // Flush properties into template nodes; the check on `__dataClientsReady`\n      // ensures we don't needlessly run effects for an element's initial\n      // prototypical template stamping since they will happen as a part of the\n      // first call to `_propertiesChanged`. This flag is set to true\n      // after running the initial propagate effects, and immediately before\n      // flushing clients. Since downstream clients could cause stamping on\n      // this host (e.g. a fastDomIf `dom-if` being forced to render\n      // synchronously), this flag ensures effects for runtime-stamped templates\n      // are run at this point during the initial element boot-up.\n      if (this.__dataClientsReady) {\n        this._runEffectsForTemplate(templateInfo, this.__data, null, false);\n        this._flushClients();\n      }\n      return dom;\n    }\n\n    /**\n     * Removes and unbinds the nodes previously contained in the provided\n     * DocumentFragment returned from `_stampTemplate`.\n     *\n     * @override\n     * @param {!StampedTemplate} dom DocumentFragment previously returned\n     *   from `_stampTemplate` associated with the nodes to be removed\n     * @return {void}\n     * @protected\n     */\n    _removeBoundDom(dom) {\n      // Unlink template info; Note that while the child is unlinked from its\n      // parent list, a template's `parent` reference is never removed, since\n      // this is is determined by the tree structure and applied at\n      // `applyTemplateInfo` time.\n      const templateInfo = dom.templateInfo;\n      const {previousSibling, nextSibling, parent} = templateInfo;\n      if (previousSibling) {\n        previousSibling.nextSibling = nextSibling;\n      } else if (parent) {\n        parent.firstChild = nextSibling;\n      }\n      if (nextSibling) {\n        nextSibling.previousSibling = previousSibling;\n      } else if (parent) {\n        parent.lastChild = previousSibling;\n      }\n      templateInfo.nextSibling = templateInfo.previousSibling = null;\n      // Remove stamped nodes\n      let nodes = templateInfo.childNodes;\n      for (let i=0; i<nodes.length; i++) {\n        let node = nodes[i];\n        wrap(wrap(node).parentNode).removeChild(node);\n      }\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * parsing bindings from `TextNode`'s' `textContent`.  A `bindings`\n     * array is added to `nodeInfo` and populated with binding metadata\n     * with information capturing the binding target, and a `parts` array\n     * with one or more metadata objects capturing the source(s) of the\n     * binding.\n     *\n     * @param {Node} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateNode(node, templateInfo, nodeInfo) {\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      let noted = propertyEffectsBase._parseTemplateNode.call(\n        this, node, templateInfo, nodeInfo);\n      if (node.nodeType === Node.TEXT_NODE) {\n        let parts = this._parseBindings(node.textContent, templateInfo);\n        if (parts) {\n          // Initialize the textContent with any literal parts\n          // NOTE: default to a space here so the textNode remains; some browsers\n          // (IE) omit an empty textNode following cloneNode/importNode.\n          node.textContent = literalFromParts(parts) || ' ';\n          addBinding(this, templateInfo, nodeInfo, 'text', 'textContent', parts);\n          noted = true;\n        }\n      }\n      return noted;\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * parsing bindings from attributes.  A `bindings`\n     * array is added to `nodeInfo` and populated with binding metadata\n     * with information capturing the binding target, and a `parts` array\n     * with one or more metadata objects capturing the source(s) of the\n     * binding.\n     *\n     * @param {Element} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @param {string} name Attribute name\n     * @param {string} value Attribute value\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n      let parts = this._parseBindings(value, templateInfo);\n      if (parts) {\n        // Attribute or property\n        let origName = name;\n        let kind = 'property';\n        // The only way we see a capital letter here is if the attr has\n        // a capital letter in it per spec. In this case, to make sure\n        // this binding works, we go ahead and make the binding to the attribute.\n        if (capitalAttributeRegex.test(name)) {\n          kind = 'attribute';\n        } else if (name[name.length-1] == '$') {\n          name = name.slice(0, -1);\n          kind = 'attribute';\n        }\n        // Initialize attribute bindings with any literal parts\n        let literal = literalFromParts(parts);\n        if (literal && kind == 'attribute') {\n          // Ensure a ShadyCSS template scoped style is not removed\n          // when a class$ binding's initial literal value is set.\n          if (name == 'class' && node.hasAttribute('class')) {\n            literal += ' ' + node.getAttribute(name);\n          }\n          node.setAttribute(name, literal);\n        }\n        // support disable-upgrade\n        if (kind == 'attribute' && origName == 'disable-upgrade$') {\n          node.setAttribute(name, '');\n        }\n        // Clear attribute before removing, since IE won't allow removing\n        // `value` attribute if it previously had a value (can't\n        // unconditionally set '' before removing since attributes with `$`\n        // can't be set using setAttribute)\n        if (node.localName === 'input' && origName === 'value') {\n          node.setAttribute(origName, '');\n        }\n        // Remove annotation\n        node.removeAttribute(origName);\n        // Case hackery: attributes are lower-case, but bind targets\n        // (properties) are case sensitive. Gambit is to map dash-case to\n        // camel-case: `foo-bar` becomes `fooBar`.\n        // Attribute bindings are excepted.\n        if (kind === 'property') {\n          name = dashToCamelCase(name);\n        }\n        addBinding(this, templateInfo, nodeInfo, kind, name, parts, literal);\n        return true;\n      } else {\n        // TODO(https://github.com/google/closure-compiler/issues/3240):\n        //     Change back to just super.methodCall()\n        return propertyEffectsBase._parseTemplateNodeAttribute.call(\n          this, node, templateInfo, nodeInfo, name, value);\n      }\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * binding the properties that a nested template depends on to the template\n     * as `_host_<property>`.\n     *\n     * @param {Node} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateNestedTemplate(node, templateInfo, nodeInfo) {\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      let noted = propertyEffectsBase._parseTemplateNestedTemplate.call(\n        this, node, templateInfo, nodeInfo);\n      const parent = node.parentNode;\n      const nestedTemplateInfo = nodeInfo.templateInfo;\n      const isDomIf = parent.localName === 'dom-if';\n      const isDomRepeat = parent.localName === 'dom-repeat';\n      // Remove nested template and redirect its host bindings & templateInfo\n      // onto the parent (dom-if/repeat element)'s nodeInfo\n      if (removeNestedTemplates && (isDomIf || isDomRepeat)) {\n        parent.removeChild(node);\n        // Use the parent's nodeInfo (for the dom-if/repeat) to record the\n        // templateInfo, and use that for any host property bindings below\n        nodeInfo = nodeInfo.parentInfo;\n        nodeInfo.templateInfo = nestedTemplateInfo;\n        // Ensure the parent dom-if/repeat is noted since it now may have host\n        // bindings; it may not have been if it did not have its own bindings\n        nodeInfo.noted = true;\n        noted = false;\n      }\n      // Merge host props into outer template and add bindings\n      let hostProps = nestedTemplateInfo.hostProps;\n      if (fastDomIf && isDomIf) {\n        // `fastDomIf` mode uses runtime-template stamping to add accessors/\n        // effects to properties used in its template; as such we don't need to\n        // tax the host element with `_host_` bindings for the `dom-if`.\n        // However, in the event it is nested in a `dom-repeat`, it is still\n        // important that its host properties are added to the\n        // TemplateInstance's `hostProps` so that they are forwarded to the\n        // TemplateInstance.\n        if (hostProps) {\n          templateInfo.hostProps =\n            Object.assign(templateInfo.hostProps || {}, hostProps);\n          // Ensure the dom-if is noted so that it has a __dataHost, since\n          // `fastDomIf` uses the host for runtime template stamping; note this\n          // was already ensured above in the `removeNestedTemplates` case\n          if (!removeNestedTemplates) {\n            nodeInfo.parentInfo.noted = true;\n          }\n        }\n      } else {\n        let mode = '{';\n        for (let source in hostProps) {\n          let parts = [{ mode, source, dependencies: [source], hostProp: true }];\n          addBinding(this, templateInfo, nodeInfo, 'property', '_host_' + source, parts);\n        }\n      }\n      return noted;\n    }\n\n    /**\n     * Called to parse text in a template (either attribute values or\n     * textContent) into binding metadata.\n     *\n     * Any overrides of this method should return an array of binding part\n     * metadata  representing one or more bindings found in the provided text\n     * and any \"literal\" text in between.  Any non-literal parts will be passed\n     * to `_evaluateBinding` when any dependencies change.  The only required\n     * fields of each \"part\" in the returned array are as follows:\n     *\n     * - `dependencies` - Array containing trigger metadata for each property\n     *   that should trigger the binding to update\n     * - `literal` - String containing text if the part represents a literal;\n     *   in this case no `dependencies` are needed\n     *\n     * Additional metadata for use by `_evaluateBinding` may be provided in\n     * each part object as needed.\n     *\n     * The default implementation handles the following types of bindings\n     * (one or more may be intermixed with literal strings):\n     * - Property binding: `[[prop]]`\n     * - Path binding: `[[object.prop]]`\n     * - Negated property or path bindings: `[[!prop]]` or `[[!object.prop]]`\n     * - Two-way property or path bindings (supports negation):\n     *   `{{prop}}`, `{{object.prop}}`, `{{!prop}}` or `{{!object.prop}}`\n     * - Inline computed method (supports negation):\n     *   `[[compute(a, 'literal', b)]]`, `[[!compute(a, 'literal', b)]]`\n     *\n     * The default implementation uses a regular expression for best\n     * performance. However, the regular expression uses a white-list of\n     * allowed characters in a data-binding, which causes problems for\n     * data-bindings that do use characters not in this white-list.\n     *\n     * Instead of updating the white-list with all allowed characters,\n     * there is a StrictBindingParser (see lib/mixins/strict-binding-parser)\n     * that uses a state machine instead. This state machine is able to handle\n     * all characters. However, it is slightly less performant, therefore we\n     * extracted it into a separate optional mixin.\n     *\n     * @param {string} text Text to parse from attribute or textContent\n     * @param {Object} templateInfo Current template metadata\n     * @return {Array<!BindingPart>} Array of binding part metadata\n     * @protected\n     * @nocollapse\n     */\n    static _parseBindings(text, templateInfo) {\n      let parts = [];\n      let lastIndex = 0;\n      let m;\n      // Example: \"literal1{{prop}}literal2[[!compute(foo,bar)]]final\"\n      // Regex matches:\n      //        Iteration 1:  Iteration 2:\n      // m[1]: '{{'          '[['\n      // m[2]: ''            '!'\n      // m[3]: 'prop'        'compute(foo,bar)'\n      while ((m = bindingRegex.exec(text)) !== null) {\n        // Add literal part\n        if (m.index > lastIndex) {\n          parts.push({literal: text.slice(lastIndex, m.index)});\n        }\n        // Add binding part\n        let mode = m[1][0];\n        let negate = Boolean(m[2]);\n        let source = m[3].trim();\n        let customEvent = false, notifyEvent = '', colon = -1;\n        if (mode == '{' && (colon = source.indexOf('::')) > 0) {\n          notifyEvent = source.substring(colon + 2);\n          source = source.substring(0, colon);\n          customEvent = true;\n        }\n        let signature = parseMethod(source);\n        let dependencies = [];\n        if (signature) {\n          // Inline computed function\n          let {args, methodName} = signature;\n          for (let i=0; i<args.length; i++) {\n            let arg = args[i];\n            if (!arg.literal) {\n              dependencies.push(arg);\n            }\n          }\n          let dynamicFns = templateInfo.dynamicFns;\n          if (dynamicFns && dynamicFns[methodName] || signature.static) {\n            dependencies.push(methodName);\n            signature.dynamicFn = true;\n          }\n        } else {\n          // Property or path\n          dependencies.push(source);\n        }\n        parts.push({\n          source, mode, negate, customEvent, signature, dependencies,\n          event: notifyEvent\n        });\n        lastIndex = bindingRegex.lastIndex;\n      }\n      // Add a final literal part\n      if (lastIndex && lastIndex < text.length) {\n        let literal = text.substring(lastIndex);\n        if (literal) {\n          parts.push({\n            literal: literal\n          });\n        }\n      }\n      if (parts.length) {\n        return parts;\n      } else {\n        return null;\n      }\n    }\n\n    /**\n     * Called to evaluate a previously parsed binding part based on a set of\n     * one or more changed dependencies.\n     *\n     * @param {!Polymer_PropertyEffects} inst Element that should be used as\n     *     scope for binding dependencies\n     * @param {BindingPart} part Binding part metadata\n     * @param {string} path Property/path that triggered this effect\n     * @param {Object} props Bag of current property changes\n     * @param {Object} oldProps Bag of previous values for changed properties\n     * @param {boolean} hasPaths True with `props` contains one or more paths\n     * @return {*} Value the binding part evaluated to\n     * @protected\n     * @nocollapse\n     */\n    static _evaluateBinding(inst, part, path, props, oldProps, hasPaths) {\n      let value;\n      if (part.signature) {\n        value = runMethodEffect(inst, path, props, oldProps, part.signature);\n      } else if (path != part.source) {\n        value = get(inst, part.source);\n      } else {\n        if (hasPaths && isPath(path)) {\n          value = get(inst, path);\n        } else {\n          value = inst.__data[path];\n        }\n      }\n      if (part.negate) {\n        value = !value;\n      }\n      return value;\n    }\n\n  }\n\n  return PropertyEffects;\n});\n\n/**\n * Stack for enqueuing client dom created by a host element.\n *\n * By default elements are flushed via `_flushProperties` when\n * `connectedCallback` is called. Elements attach their client dom to\n * themselves at `ready` time which results from this first flush.\n * This provides an ordering guarantee that the client dom an element\n * creates is flushed before the element itself (i.e. client `ready`\n * fires before host `ready`).\n *\n * However, if `_flushProperties` is called *before* an element is connected,\n * as for example `Templatize` does, this ordering guarantee cannot be\n * satisfied because no elements are connected. (Note: Bound elements that\n * receive data do become enqueued clients and are properly ordered but\n * unbound elements are not.)\n *\n * To maintain the desired \"client before host\" ordering guarantee for this\n * case we rely on the \"host stack. Client nodes registers themselves with\n * the creating host element when created. This ensures that all client dom\n * is readied in the proper order, maintaining the desired guarantee.\n *\n * @private\n */\nconst hostStack = [];\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Total number of Polymer element instances created.\n * @type {number}\n */\nexport let instanceCount = 0;\n\nexport function incrementInstanceCount() {\n  instanceCount++;\n}\n\n/**\n * Array of Polymer element classes that have been finalized.\n * @type {!Array<!PolymerElementConstructor>}\n */\nexport const registrations = [];\n\n/**\n * @param {!PolymerElementConstructor} prototype Element prototype to log\n * @private\n */\nfunction _regLog(prototype) {\n  console.log('[' + /** @type {?} */(prototype).is + ']: registered');\n}\n\n/**\n * Registers a class prototype for telemetry purposes.\n * @param {!PolymerElementConstructor} prototype Element prototype to register\n * @protected\n */\nexport function register(prototype) {\n  registrations.push(prototype);\n}\n\n/**\n * Logs all elements registered with an `is` to the console.\n * @public\n */\nexport function dumpRegistrations() {\n  registrations.forEach(_regLog);\n}","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { register, incrementInstanceCount } from '../utils/telemetry.js';\nimport { PropertiesChanged } from './properties-changed.js';\n\n/**\n * Creates a copy of `props` with each property normalized such that\n * upgraded it is an object with at least a type property { type: Type}.\n *\n * @param {!Object} props Properties to normalize\n * @return {!Object} Copy of input `props` with normalized properties that\n * are in the form {type: Type}\n * @private\n */\nfunction normalizeProperties(props) {\n  const output = {};\n  for (let p in props) {\n    const o = props[p];\n    output[p] = (typeof o === 'function') ? {type: o} : o;\n  }\n  return output;\n}\n\n/**\n * Mixin that provides a minimal starting point to using the PropertiesChanged\n * mixin by providing a mechanism to declare properties in a static\n * getter (e.g. static get properties() { return { foo: String } }). Changes\n * are reported via the `_propertiesChanged` method.\n *\n * This mixin provides no specific support for rendering. Users are expected\n * to create a ShadowRoot and put content into it and update it in whatever\n * way makes sense. This can be done in reaction to properties changing by\n * implementing `_propertiesChanged`.\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin PropertiesChanged\n * @summary Mixin that provides a minimal starting point for using\n * the PropertiesChanged mixin by providing a declarative `properties` object.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const PropertiesMixin = dedupingMixin(superClass => {\n\n /**\n  * @constructor\n  * @implements {Polymer_PropertiesChanged}\n  * @private\n  */\n const base = PropertiesChanged(superClass);\n\n /**\n  * Returns the super class constructor for the given class, if it is an\n  * instance of the PropertiesMixin.\n  *\n  * @param {!PropertiesMixinConstructor} constructor PropertiesMixin constructor\n  * @return {?PropertiesMixinConstructor} Super class constructor\n  */\n function superPropertiesClass(constructor) {\n   const superCtor = Object.getPrototypeOf(constructor);\n\n   // Note, the `PropertiesMixin` class below only refers to the class\n   // generated by this call to the mixin; the instanceof test only works\n   // because the mixin is deduped and guaranteed only to apply once, hence\n   // all constructors in a proto chain will see the same `PropertiesMixin`\n   return (superCtor.prototype instanceof PropertiesMixin) ?\n     /** @type {!PropertiesMixinConstructor} */ (superCtor) : null;\n }\n\n /**\n  * Returns a memoized version of the `properties` object for the\n  * given class. Properties not in object format are converted to at\n  * least {type}.\n  *\n  * @param {PropertiesMixinConstructor} constructor PropertiesMixin constructor\n  * @return {Object} Memoized properties object\n  */\n function ownProperties(constructor) {\n   if (!constructor.hasOwnProperty(JSCompiler_renameProperty('__ownProperties', constructor))) {\n     let props = null;\n\n     if (constructor.hasOwnProperty(JSCompiler_renameProperty('properties', constructor))) {\n       const properties = constructor.properties;\n\n       if (properties) {\n        props = normalizeProperties(properties);\n       }\n     }\n\n     constructor.__ownProperties = props;\n   }\n   return constructor.__ownProperties;\n }\n\n /**\n  * @polymer\n  * @mixinClass\n  * @extends {base}\n  * @implements {Polymer_PropertiesMixin}\n  * @unrestricted\n  */\n class PropertiesMixin extends base {\n\n   /**\n    * Implements standard custom elements getter to observes the attributes\n    * listed in `properties`.\n    * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n    * @nocollapse\n    */\n   static get observedAttributes() {\n     if (!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes', this))) {\n       register(this.prototype);\n       const props = this._properties;\n       this.__observedAttributes = props ? Object.keys(props).map(p => this.prototype._addPropertyToAttributeMap(p)) : [];\n     }\n     return this.__observedAttributes;\n   }\n\n   /**\n    * Finalizes an element definition, including ensuring any super classes\n    * are also finalized. This includes ensuring property\n    * accessors exist on the element prototype. This method calls\n    * `_finalizeClass` to finalize each constructor in the prototype chain.\n    * @return {void}\n    * @nocollapse\n    */\n   static finalize() {\n     if (!this.hasOwnProperty(JSCompiler_renameProperty('__finalized', this))) {\n       const superCtor = superPropertiesClass(/** @type {!PropertiesMixinConstructor} */(this));\n       if (superCtor) {\n         superCtor.finalize();\n       }\n       this.__finalized = true;\n       this._finalizeClass();\n     }\n   }\n\n   /**\n    * Finalize an element class. This includes ensuring property\n    * accessors exist on the element prototype. This method is called by\n    * `finalize` and finalizes the class constructor.\n    *\n    * @protected\n    * @nocollapse\n    */\n   static _finalizeClass() {\n     const props = ownProperties(/** @type {!PropertiesMixinConstructor} */(this));\n     if (props) {\n       /** @type {?} */ (this).createProperties(props);\n     }\n   }\n\n   /**\n    * Returns a memoized version of all properties, including those inherited\n    * from super classes. Properties not in object format are converted to\n    * at least {type}.\n    *\n    * @return {Object} Object containing properties for this class\n    * @protected\n    * @nocollapse\n    */\n   static get _properties() {\n     if (!this.hasOwnProperty(\n       JSCompiler_renameProperty('__properties', this))) {\n       const superCtor = superPropertiesClass(/** @type {!PropertiesMixinConstructor} */(this));\n       this.__properties = Object.assign({},\n         superCtor && superCtor._properties,\n         ownProperties(/** @type {PropertiesMixinConstructor} */(this)));\n     }\n     return this.__properties;\n   }\n\n   /**\n    * Overrides `PropertiesChanged` method to return type specified in the\n    * static `properties` object for the given property.\n    * @param {string} name Name of property\n    * @return {*} Type to which to deserialize attribute\n    *\n    * @protected\n    * @nocollapse\n    */\n   static typeForProperty(name) {\n     const info = this._properties[name];\n     return info && info.type;\n   }\n\n   /**\n    * Overrides `PropertiesChanged` method and adds a call to\n    * `finalize` which lazily configures the element's property accessors.\n    * @override\n    * @return {void}\n    */\n   _initializeProperties() {\n     incrementInstanceCount();\n     this.constructor.finalize();\n     super._initializeProperties();\n   }\n\n   /**\n    * Called when the element is added to a document.\n    * Calls `_enableProperties` to turn on property system from\n    * `PropertiesChanged`.\n    * @suppress {missingProperties} Super may or may not implement the callback\n    * @return {void}\n    * @override\n    */\n   connectedCallback() {\n     if (super.connectedCallback) {\n       super.connectedCallback();\n     }\n     this._enableProperties();\n   }\n\n   /**\n    * Called when the element is removed from a document\n    * @suppress {missingProperties} Super may or may not implement the callback\n    * @return {void}\n    * @override\n    */\n   disconnectedCallback() {\n     if (super.disconnectedCallback) {\n       super.disconnectedCallback();\n     }\n   }\n\n }\n\n return PropertiesMixin;\n\n});\n","/**\n * @fileoverview\n * @suppress {checkPrototypalTypes}\n * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\nimport '../utils/boot.js';\n\nimport { rootPath, strictTemplatePolicy, allowTemplateFromDomModule, legacyOptimizations, legacyWarnings, syncInitialRender, supportsAdoptingStyleSheets, useAdoptedStyleSheetsWithBuiltCSS } from '../utils/settings.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { stylesFromTemplate, stylesFromModuleImports } from '../utils/style-gather.js';\nimport { pathFromUrl, resolveCss, resolveUrl } from '../utils/resolve-url.js';\nimport { DomModule } from '../elements/dom-module.js';\nimport { PropertyEffects } from './property-effects.js';\nimport { PropertiesMixin } from './properties-mixin.js';\nimport { wrap } from '../utils/wrap.js';\n\n/**\n * Current Polymer version in Semver notation.\n * @type {string} Semver notation of the current version of Polymer.\n */\nexport const version = '3.5.2';\n\nexport const builtCSS = window.ShadyCSS && window.ShadyCSS['cssBuild'];\n\n/**\n * Element class mixin that provides the core API for Polymer's meta-programming\n * features including template stamping, data-binding, attribute deserialization,\n * and property change observation.\n *\n * Subclassers may provide the following static getters to return metadata\n * used to configure Polymer's features for the class:\n *\n * - `static get is()`: When the template is provided via a `dom-module`,\n *   users should return the `dom-module` id from a static `is` getter.  If\n *   no template is needed or the template is provided directly via the\n *   `template` getter, there is no need to define `is` for the element.\n *\n * - `static get template()`: Users may provide the template directly (as\n *   opposed to via `dom-module`) by implementing a static `template` getter.\n *   The getter must return an `HTMLTemplateElement`.\n *\n * - `static get properties()`: Should return an object describing\n *   property-related metadata used by Polymer features (key: property name\n *   value: object containing property metadata). Valid keys in per-property\n *   metadata include:\n *   - `type` (String|Number|Object|Array|...): Used by\n *     `attributeChangedCallback` to determine how string-based attributes\n *     are deserialized to JavaScript property values.\n *   - `notify` (boolean): Causes a change in the property to fire a\n *     non-bubbling event called `<property>-changed`. Elements that have\n *     enabled two-way binding to the property use this event to observe changes.\n *   - `readOnly` (boolean): Creates a getter for the property, but no setter.\n *     To set a read-only property, use the private setter method\n *     `_setProperty(property, value)`.\n *   - `observer` (string): Observer method name that will be called when\n *     the property changes. The arguments of the method are\n *     `(value, previousValue)`.\n *   - `computed` (string): String describing method and dependent properties\n *     for computing the value of this property (e.g. `'computeFoo(bar, zot)'`).\n *     Computed properties are read-only by default and can only be changed\n *     via the return value of the computing method.\n *\n * - `static get observers()`: Array of strings describing multi-property\n *   observer methods and their dependent properties (e.g.\n *   `'observeABC(a, b, c)'`).\n *\n * The base class provides default implementations for the following standard\n * custom element lifecycle callbacks; users may override these, but should\n * call the super method to ensure\n * - `constructor`: Run when the element is created or upgraded\n * - `connectedCallback`: Run each time the element is connected to the\n *   document\n * - `disconnectedCallback`: Run each time the element is disconnected from\n *   the document\n * - `attributeChangedCallback`: Run each time an attribute in\n *   `observedAttributes` is set or removed (note: this element's default\n *   `observedAttributes` implementation will automatically return an array\n *   of dash-cased attributes based on `properties`)\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin PropertyEffects\n * @appliesMixin PropertiesMixin\n * @property rootPath {string} Set to the value of `rootPath`,\n *   which defaults to the main document path\n * @property importPath {string} Set to the value of the class's static\n *   `importPath` property, which defaults to the path of this element's\n *   `dom-module` (when `is` is used), but can be overridden for other\n *   import strategies.\n * @summary Element class mixin that provides the core API for Polymer's\n * meta-programming features.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const ElementMixin = dedupingMixin(base => {\n  /**\n   * @constructor\n   * @implements {Polymer_PropertyEffects}\n   * @implements {Polymer_PropertiesMixin}\n   * @extends {HTMLElement}\n   * @private\n   */\n  const polymerElementBase = PropertiesMixin(PropertyEffects(base));\n\n  /**\n   * Returns a list of properties with default values.\n   * This list is created as an optimization since it is a subset of\n   * the list returned from `_properties`.\n   * This list is used in `_initializeProperties` to set property defaults.\n   *\n   * @param {PolymerElementConstructor} constructor Element class\n   * @return {PolymerElementProperties} Flattened properties for this class\n   *   that have default values\n   * @private\n   */\n  function propertyDefaults(constructor) {\n    if (!constructor.hasOwnProperty(\n      JSCompiler_renameProperty('__propertyDefaults', constructor))) {\n      constructor.__propertyDefaults = null;\n      let props = constructor._properties;\n      for (let p in props) {\n        let info = props[p];\n        if ('value' in info) {\n          constructor.__propertyDefaults = constructor.__propertyDefaults || {};\n          constructor.__propertyDefaults[p] = info;\n        }\n      }\n    }\n    return constructor.__propertyDefaults;\n  }\n\n  /**\n   * Returns a memoized version of the `observers` array.\n   * @param {PolymerElementConstructor} constructor Element class\n   * @return {Array} Array containing own observers for the given class\n   * @protected\n   */\n  function ownObservers(constructor) {\n    if (!constructor.hasOwnProperty(\n      JSCompiler_renameProperty('__ownObservers', constructor))) {\n      constructor.__ownObservers =\n          constructor.hasOwnProperty(\n              JSCompiler_renameProperty('observers', constructor)) ?\n          /** @type {PolymerElementConstructor} */ (constructor).observers :\n          null;\n    }\n    return constructor.__ownObservers;\n  }\n\n  /**\n   * Creates effects for a property.\n   *\n   * Note, once a property has been set to\n   * `readOnly`, `computed`, `reflectToAttribute`, or `notify`\n   * these values may not be changed. For example, a subclass cannot\n   * alter these settings. However, additional `observers` may be added\n   * by subclasses.\n   *\n   * The info object should contain property metadata as follows:\n   *\n   * * `type`: {function} type to which an attribute matching the property\n   * is deserialized. Note the property is camel-cased from a dash-cased\n   * attribute. For example, 'foo-bar' attribute is deserialized to a\n   * property named 'fooBar'.\n   *\n   * * `readOnly`: {boolean} creates a readOnly property and\n   * makes a private setter for the private of the form '_setFoo' for a\n   * property 'foo',\n   *\n   * * `computed`: {string} creates a computed property. A computed property\n   * is also automatically set to `readOnly: true`. The value is calculated\n   * by running a method and arguments parsed from the given string. For\n   * example 'compute(foo)' will compute a given property when the\n   * 'foo' property changes by executing the 'compute' method. This method\n   * must return the computed value.\n   *\n   * * `reflectToAttribute`: {boolean} If true, the property value is reflected\n   * to an attribute of the same name. Note, the attribute is dash-cased\n   * so a property named 'fooBar' is reflected as 'foo-bar'.\n   *\n   * * `notify`: {boolean} sends a non-bubbling notification event when\n   * the property changes. For example, a property named 'foo' sends an\n   * event named 'foo-changed' with `event.detail` set to the value of\n   * the property.\n   *\n   * * observer: {string} name of a method that runs when the property\n   * changes. The arguments of the method are (value, previousValue).\n   *\n   * Note: Users may want control over modifying property\n   * effects via subclassing. For example, a user might want to make a\n   * reflectToAttribute property not do so in a subclass. We've chosen to\n   * disable this because it leads to additional complication.\n   * For example, a readOnly effect generates a special setter. If a subclass\n   * disables the effect, the setter would fail unexpectedly.\n   * Based on feedback, we may want to try to make effects more malleable\n   * and/or provide an advanced api for manipulating them.\n   *\n   * @param {!PolymerElement} proto Element class prototype to add accessors\n   *   and effects to\n   * @param {string} name Name of the property.\n   * @param {Object} info Info object from which to create property effects.\n   * Supported keys:\n   * @param {Object} allProps Flattened map of all properties defined in this\n   *   element (including inherited properties)\n   * @return {void}\n   * @private\n   */\n  function createPropertyFromConfig(proto, name, info, allProps) {\n    // computed forces readOnly...\n    if (info.computed) {\n      info.readOnly = true;\n    }\n    // Note, since all computed properties are readOnly, this prevents\n    // adding additional computed property effects (which leads to a confusing\n    // setup where multiple triggers for setting a property)\n    // While we do have `hasComputedEffect` this is set on the property's\n    // dependencies rather than itself.\n    if (info.computed) {\n      if (proto._hasReadOnlyEffect(name)) {\n        console.warn(`Cannot redefine computed property '${name}'.`);\n      } else {\n        proto._createComputedProperty(name, info.computed, allProps);\n      }\n    }\n    if (info.readOnly && !proto._hasReadOnlyEffect(name)) {\n      proto._createReadOnlyProperty(name, !info.computed);\n    } else if (info.readOnly === false && proto._hasReadOnlyEffect(name)) {\n      console.warn(`Cannot make readOnly property '${name}' non-readOnly.`);\n    }\n    if (info.reflectToAttribute && !proto._hasReflectEffect(name)) {\n      proto._createReflectedProperty(name);\n    } else if (info.reflectToAttribute === false && proto._hasReflectEffect(name)) {\n      console.warn(`Cannot make reflected property '${name}' non-reflected.`);\n    }\n    if (info.notify && !proto._hasNotifyEffect(name)) {\n      proto._createNotifyingProperty(name);\n    } else if (info.notify === false && proto._hasNotifyEffect(name)) {\n      console.warn(`Cannot make notify property '${name}' non-notify.`);\n    }\n    // always add observer\n    if (info.observer) {\n      proto._createPropertyObserver(name, info.observer, allProps[info.observer]);\n    }\n    // always create the mapping from attribute back to property for deserialization.\n    proto._addPropertyToAttributeMap(name);\n  }\n\n  /**\n   * Process all style elements in the element template. Styles with the\n   * `include` attribute are processed such that any styles in\n   * the associated \"style modules\" are included in the element template.\n   * @param {PolymerElementConstructor} klass Element class\n   * @param {!HTMLTemplateElement} template Template to process\n   * @param {string} is Name of element\n   * @param {string} baseURI Base URI for element\n   * @private\n   */\n  function processElementStyles(klass, template, is, baseURI) {\n    if (!builtCSS) {\n      const templateStyles = template.content.querySelectorAll('style');\n      const stylesWithImports = stylesFromTemplate(template);\n      // insert styles from <link rel=\"import\" type=\"css\"> at the top of the template\n      const linkedStyles = stylesFromModuleImports(is);\n      const firstTemplateChild = template.content.firstElementChild;\n      for (let idx = 0; idx < linkedStyles.length; idx++) {\n        let s = linkedStyles[idx];\n        s.textContent = klass._processStyleText(s.textContent, baseURI);\n        template.content.insertBefore(s, firstTemplateChild);\n      }\n      // keep track of the last \"concrete\" style in the template we have encountered\n      let templateStyleIndex = 0;\n      // ensure all gathered styles are actually in this template.\n      for (let i = 0; i < stylesWithImports.length; i++) {\n        let s = stylesWithImports[i];\n        let templateStyle = templateStyles[templateStyleIndex];\n        // if the style is not in this template, it's been \"included\" and\n        // we put a clone of it in the template before the style that included it\n        if (templateStyle !== s) {\n          s = s.cloneNode(true);\n          templateStyle.parentNode.insertBefore(s, templateStyle);\n        } else {\n          templateStyleIndex++;\n        }\n        s.textContent = klass._processStyleText(s.textContent, baseURI);\n      }\n    }\n    if (window.ShadyCSS) {\n      window.ShadyCSS.prepareTemplate(template, is);\n    }\n    // Support for `adoptedStylesheets` relies on using native Shadow DOM\n    // and built CSS. Built CSS is required because runtime transformation of\n    // `@apply` is not supported. This is because ShadyCSS relies on being able\n    // to update a `style` element in the element template and this is\n    // removed when using `adoptedStyleSheets`.\n    // Note, it would be more efficient to allow style includes to become\n    // separate stylesheets; however, because of `@apply` these are\n    // potentially not shareable and sharing the ones that could be shared\n    // would require some coordination. To keep it simple, all the includes\n    // and styles are collapsed into a single shareable stylesheet.\n    if (useAdoptedStyleSheetsWithBuiltCSS && builtCSS &&\n        supportsAdoptingStyleSheets) {\n      // Remove styles in template and make a shareable stylesheet\n      const styles = template.content.querySelectorAll('style');\n      if (styles) {\n        let css = '';\n        Array.from(styles).forEach(s => {\n          css += s.textContent;\n          s.parentNode.removeChild(s);\n        });\n        klass._styleSheet = new CSSStyleSheet();\n        klass._styleSheet.replaceSync(css);\n      }\n    }\n  }\n\n  /**\n   * Look up template from dom-module for element\n   *\n   * @param {string} is Element name to look up\n   * @return {?HTMLTemplateElement|undefined} Template found in dom module, or\n   *   undefined if not found\n   * @protected\n   */\n  function getTemplateFromDomModule(is) {\n    let template = null;\n    // Under strictTemplatePolicy in 3.x+, dom-module lookup is only allowed\n    // when opted-in via allowTemplateFromDomModule\n    if (is && (!strictTemplatePolicy || allowTemplateFromDomModule)) {\n      template = /** @type {?HTMLTemplateElement} */ (\n          DomModule.import(is, 'template'));\n      // Under strictTemplatePolicy, require any element with an `is`\n      // specified to have a dom-module\n      if (strictTemplatePolicy && !template) {\n        throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${is}`);\n      }\n    }\n    return template;\n  }\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @unrestricted\n   * @implements {Polymer_ElementMixin}\n   * @extends {polymerElementBase}\n   */\n  class PolymerElement extends polymerElementBase {\n\n    /**\n     * Current Polymer version in Semver notation.\n     * @type {string} Semver notation of the current version of Polymer.\n     * @nocollapse\n     */\n    static get polymerElementVersion() {\n      return version;\n    }\n\n    /**\n     * Override of PropertiesMixin _finalizeClass to create observers and\n     * find the template.\n     * @return {void}\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _finalizeClass() {\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      polymerElementBase._finalizeClass.call(this);\n      const observers = ownObservers(this);\n      if (observers) {\n        this.createObservers(observers, this._properties);\n      }\n      this._prepareTemplate();\n    }\n\n    /** @nocollapse */\n    static _prepareTemplate() {\n      // note: create \"working\" template that is finalized at instance time\n      let template = /** @type {PolymerElementConstructor} */ (this).template;\n      if (template) {\n        if (typeof template === 'string') {\n          console.error('template getter must return HTMLTemplateElement');\n          template = null;\n        } else if (!legacyOptimizations) {\n          template = template.cloneNode(true);\n        }\n      }\n\n      /** @override */\n      this.prototype._template = template;\n    }\n\n    /**\n     * Override of PropertiesChanged createProperties to create accessors\n     * and property effects for all of the properties.\n     * @param {!Object} props .\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createProperties(props) {\n      for (let p in props) {\n        createPropertyFromConfig(\n            /** @type {?} */ (this.prototype), p, props[p], props);\n      }\n    }\n\n    /**\n     * Creates observers for the given `observers` array.\n     * Leverages `PropertyEffects` to create observers.\n     * @param {Object} observers Array of observer descriptors for\n     *   this class\n     * @param {Object} dynamicFns Object containing keys for any properties\n     *   that are functions and should trigger the effect when the function\n     *   reference is changed\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createObservers(observers, dynamicFns) {\n      const proto = this.prototype;\n      for (let i=0; i < observers.length; i++) {\n        proto._createMethodObserver(observers[i], dynamicFns);\n      }\n    }\n\n    /**\n     * Returns the template that will be stamped into this element's shadow root.\n     *\n     * If a `static get is()` getter is defined, the default implementation will\n     * return the first `<template>` in a `dom-module` whose `id` matches this\n     * element's `is` (note that a `_template` property on the class prototype\n     * takes precedence over the `dom-module` template, to maintain legacy\n     * element semantics; a subclass will subsequently fall back to its super\n     * class template if neither a `prototype._template` or a `dom-module` for\n     * the class's `is` was found).\n     *\n     * Users may override this getter to return an arbitrary template\n     * (in which case the `is` getter is unnecessary). The template returned\n     * must be an `HTMLTemplateElement`.\n     *\n     * Note that when subclassing, if the super class overrode the default\n     * implementation and the subclass would like to provide an alternate\n     * template via a `dom-module`, it should override this getter and\n     * return `DomModule.import(this.is, 'template')`.\n     *\n     * If a subclass would like to modify the super class template, it should\n     * clone it rather than modify it in place.  If the getter does expensive\n     * work such as cloning/modifying a template, it should memoize the\n     * template for maximum performance:\n     *\n     *   let memoizedTemplate;\n     *   class MySubClass extends MySuperClass {\n     *     static get template() {\n     *       if (!memoizedTemplate) {\n     *         memoizedTemplate = super.template.cloneNode(true);\n     *         let subContent = document.createElement('div');\n     *         subContent.textContent = 'This came from MySubClass';\n     *         memoizedTemplate.content.appendChild(subContent);\n     *       }\n     *       return memoizedTemplate;\n     *     }\n     *   }\n     *\n     * @return {!HTMLTemplateElement|string} Template to be stamped\n     * @nocollapse\n     */\n    static get template() {\n      // Explanation of template-related properties:\n      // - constructor.template (this getter): the template for the class.\n      //     This can come from the prototype (for legacy elements), from a\n      //     dom-module, or from the super class's template (or can be overridden\n      //     altogether by the user)\n      // - constructor._template: memoized version of constructor.template\n      // - prototype._template: working template for the element, which will be\n      //     parsed and modified in place. It is a cloned version of\n      //     constructor.template, saved in _finalizeClass(). Note that before\n      //     this getter is called, for legacy elements this could be from a\n      //     _template field on the info object passed to Polymer(), a behavior,\n      //     or set in registered(); once the static getter runs, a clone of it\n      //     will overwrite it on the prototype as the working template.\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('_template', this))) {\n        let protoTemplate = this.prototype.hasOwnProperty(\n          JSCompiler_renameProperty('_template', this.prototype)) ?\n          this.prototype._template : undefined;\n        // Accept a function for the legacy Polymer({_template:...}) field for\n        // lazy parsing\n        if (typeof protoTemplate === 'function') {\n          protoTemplate = protoTemplate();\n        }\n        this._template =\n          // If user has put template on prototype (e.g. in legacy via registered\n          // callback or info object), prefer that first. Note that `null` is\n          // used as a sentinel to indicate \"no template\" and can be used to\n          // override a super template, whereas `undefined` is used as a\n          // sentinel to mean \"fall-back to default template lookup\" via\n          // dom-module and/or super.template.\n          protoTemplate !== undefined ? protoTemplate :\n          // Look in dom-module associated with this element's is\n          ((this.hasOwnProperty(JSCompiler_renameProperty('is', this)) &&\n          (getTemplateFromDomModule(/** @type {PolymerElementConstructor}*/ (this).is))) ||\n          // Next look for superclass template (call the super impl this\n          // way so that `this` points to the superclass)\n          Object.getPrototypeOf(/** @type {PolymerElementConstructor}*/ (this).prototype).constructor.template);\n      }\n      return this._template;\n    }\n\n    /**\n     * Set the template.\n     *\n     * @param {!HTMLTemplateElement|string} value Template to set.\n     * @nocollapse\n     */\n    static set template(value) {\n      this._template = value;\n    }\n\n    /**\n     * Path matching the url from which the element was imported.\n     *\n     * This path is used to resolve url's in template style cssText.\n     * The `importPath` property is also set on element instances and can be\n     * used to create bindings relative to the import path.\n     *\n     * For elements defined in ES modules, users should implement\n     * `static get importMeta() { return import.meta; }`, and the default\n     * implementation of `importPath` will  return `import.meta.url`'s path.\n     * For elements defined in HTML imports, this getter will return the path\n     * to the document containing a `dom-module` element matching this\n     * element's static `is` property.\n     *\n     * Note, this path should contain a trailing `/`.\n     *\n     * @return {string} The import path for this element class\n     * @suppress {missingProperties}\n     * @nocollapse\n     */\n    static get importPath() {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('_importPath', this))) {\n        const meta = this.importMeta;\n        if (meta) {\n          this._importPath = pathFromUrl(meta.url);\n        } else {\n          const module = DomModule.import(/** @type {PolymerElementConstructor} */ (this).is);\n          this._importPath = (module && module.assetpath) ||\n            Object.getPrototypeOf(/** @type {PolymerElementConstructor}*/ (this).prototype).constructor.importPath;\n        }\n      }\n      return this._importPath;\n    }\n\n    constructor() {\n      super();\n      /** @type {HTMLTemplateElement} */\n      this._template;\n      /** @type {string} */\n      this._importPath;\n      /** @type {string} */\n      this.rootPath;\n      /** @type {string} */\n      this.importPath;\n      /** @type {StampedTemplate | HTMLElement | ShadowRoot} */\n      this.root;\n      /** @type {!Object<string, !Element>} */\n      this.$;\n    }\n\n    /**\n     * Overrides the default `PropertyAccessors` to ensure class\n     * metaprogramming related to property accessors and effects has\n     * completed (calls `finalize`).\n     *\n     * It also initializes any property defaults provided via `value` in\n     * `properties` metadata.\n     *\n     * @return {void}\n     * @override\n     * @suppress {invalidCasts,missingProperties} go/missingfnprops\n     */\n    _initializeProperties() {\n      this.constructor.finalize();\n      // note: finalize template when we have access to `localName` to\n      // avoid dependence on `is` for polyfilling styling.\n      this.constructor._finalizeTemplate(/** @type {!HTMLElement} */(this).localName);\n      super._initializeProperties();\n      // set path defaults\n      this.rootPath = rootPath;\n      this.importPath = this.constructor.importPath;\n      // apply property defaults...\n      let p$ = propertyDefaults(this.constructor);\n      if (!p$) {\n        return;\n      }\n      for (let p in p$) {\n        let info = p$[p];\n        if (this._canApplyPropertyDefault(p)) {\n          let value = typeof info.value == 'function' ?\n            info.value.call(this) :\n            info.value;\n          // Set via `_setProperty` if there is an accessor, to enable\n          // initializing readOnly property defaults\n          if (this._hasAccessor(p)) {\n            this._setPendingProperty(p, value, true);\n          } else {\n            this[p] = value;\n          }\n        }\n      }\n    }\n\n    /**\n     * Determines if a property dfeault can be applied. For example, this\n     * prevents a default from being applied when a property that has no\n     * accessor is overridden by its host before upgrade (e.g. via a binding).\n     * @override\n     * @param {string} property Name of the property\n     * @return {boolean} Returns true if the property default can be applied.\n     */\n    _canApplyPropertyDefault(property) {\n      return !this.hasOwnProperty(property);\n    }\n\n    /**\n     * Gather style text for a style element in the template.\n     *\n     * @param {string} cssText Text containing styling to process\n     * @param {string} baseURI Base URI to rebase CSS paths against\n     * @return {string} The processed CSS text\n     * @protected\n     * @nocollapse\n     */\n    static _processStyleText(cssText, baseURI) {\n      return resolveCss(cssText, baseURI);\n    }\n\n    /**\n    * Configures an element `proto` to function with a given `template`.\n    * The element name `is` and extends `ext` must be specified for ShadyCSS\n    * style scoping.\n    *\n    * @param {string} is Tag name (or type extension name) for this element\n    * @return {void}\n    * @protected\n    * @nocollapse\n    */\n    static _finalizeTemplate(is) {\n      /** @const {HTMLTemplateElement} */\n      const template = this.prototype._template;\n      if (template && !template.__polymerFinalized) {\n        template.__polymerFinalized = true;\n        const importPath = this.importPath;\n        const baseURI = importPath ? resolveUrl(importPath) : '';\n        // e.g. support `include=\"module-name\"`, and ShadyCSS\n        processElementStyles(this, template, is, baseURI);\n        this.prototype._bindTemplate(template);\n      }\n    }\n\n    /**\n     * Provides a default implementation of the standard Custom Elements\n     * `connectedCallback`.\n     *\n     * The default implementation enables the property effects system and\n     * flushes any pending properties, and updates shimmed CSS properties\n     * when using the ShadyCSS scoping/custom properties polyfill.\n     *\n     * @override\n     * @suppress {missingProperties, invalidCasts} Super may or may not\n     *     implement the callback\n     * @return {void}\n     */\n    connectedCallback() {\n      if (window.ShadyCSS && this._template) {\n        window.ShadyCSS.styleElement(/** @type {!HTMLElement} */(this));\n      }\n      super.connectedCallback();\n    }\n\n    /**\n     * Stamps the element template.\n     *\n     * @return {void}\n     * @override\n     */\n    ready() {\n      if (this._template) {\n        this.root = this._stampTemplate(this._template);\n        this.$ = this.root.$;\n      }\n      super.ready();\n    }\n\n    /**\n     * Implements `PropertyEffects`'s `_readyClients` call. Attaches\n     * element dom by calling `_attachDom` with the dom stamped from the\n     * element's template via `_stampTemplate`. Note that this allows\n     * client dom to be attached to the element prior to any observers\n     * running.\n     *\n     * @return {void}\n     * @override\n     */\n    _readyClients() {\n      if (this._template) {\n        this.root = this._attachDom(/** @type {StampedTemplate} */(this.root));\n      }\n      // The super._readyClients here sets the clients initialized flag.\n      // We must wait to do this until after client dom is created/attached\n      // so that this flag can be checked to prevent notifications fired\n      // during this process from being handled before clients are ready.\n      super._readyClients();\n    }\n\n\n    /**\n     * Attaches an element's stamped dom to itself. By default,\n     * this method creates a `shadowRoot` and adds the dom to it.\n     * However, this method may be overridden to allow an element\n     * to put its dom in another location.\n     *\n     * @override\n     * @throws {Error}\n     * @suppress {missingReturn}\n     * @param {StampedTemplate} dom to attach to the element.\n     * @return {ShadowRoot} node to which the dom has been attached.\n     */\n    _attachDom(dom) {\n      const n = wrap(this);\n      if (n.attachShadow) {\n        if (dom) {\n          if (!n.shadowRoot) {\n            n.attachShadow({mode: 'open', shadyUpgradeFragment: dom});\n            n.shadowRoot.appendChild(dom);\n            // When `adoptedStyleSheets` is supported a stylesheet is made\n            // available on the element constructor.\n            if (this.constructor._styleSheet) {\n              n.shadowRoot.adoptedStyleSheets = [this.constructor._styleSheet];\n            }\n          }\n          if (syncInitialRender && window.ShadyDOM) {\n            window.ShadyDOM.flushInitial(n.shadowRoot);\n          }\n          return n.shadowRoot;\n        }\n        return null;\n      } else {\n        throw new Error('ShadowDOM not available. ' +\n          // TODO(sorvell): move to compile-time conditional when supported\n        'PolymerElement can create dom as children instead of in ' +\n        'ShadowDOM by setting `this.root = this;\\` before \\`ready\\`.');\n      }\n    }\n\n    /**\n     * When using the ShadyCSS scoping and custom property shim, causes all\n     * shimmed styles in this element (and its subtree) to be updated\n     * based on current custom property values.\n     *\n     * The optional parameter overrides inline custom property styles with an\n     * object of properties where the keys are CSS properties, and the values\n     * are strings.\n     *\n     * Example: `this.updateStyles({'--color': 'blue'})`\n     *\n     * These properties are retained unless a value of `null` is set.\n     *\n     * Note: This function does not support updating CSS mixins.\n     * You can not dynamically change the value of an `@apply`.\n     *\n     * @override\n     * @param {Object=} properties Bag of custom property key/values to\n     *   apply to this element.\n     * @return {void}\n     * @suppress {invalidCasts}\n     */\n    updateStyles(properties) {\n      if (window.ShadyCSS) {\n        window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */(this), properties);\n      }\n    }\n\n    /**\n     * Rewrites a given URL relative to a base URL. The base URL defaults to\n     * the original location of the document containing the `dom-module` for\n     * this element. This method will return the same URL before and after\n     * bundling.\n     *\n     * Note that this function performs no resolution for URLs that start\n     * with `/` (absolute URLs) or `#` (hash identifiers).  For general purpose\n     * URL resolution, use `window.URL`.\n     *\n     * @override\n     * @param {string} url URL to resolve.\n     * @param {string=} base Optional base URL to resolve against, defaults\n     * to the element's `importPath`\n     * @return {string} Rewritten URL relative to base\n     */\n    resolveUrl(url, base) {\n      if (!base && this.importPath) {\n        base = resolveUrl(this.importPath);\n      }\n      return resolveUrl(url, base);\n    }\n\n    /**\n     * Overrides `PropertyEffects` to add map of dynamic functions on\n     * template info, for consumption by `PropertyEffects` template binding\n     * code. This map determines which method templates should have accessors\n     * created for them.\n     *\n     * @param {!HTMLTemplateElement} template Template\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} .\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateContent(template, templateInfo, nodeInfo) {\n      templateInfo.dynamicFns = templateInfo.dynamicFns || this._properties;\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      return polymerElementBase._parseTemplateContent.call(\n        this, template, templateInfo, nodeInfo);\n    }\n\n    /**\n     * Overrides `PropertyEffects` to warn on use of undeclared properties in\n     * template.\n     *\n     * @param {Object} templateInfo Template metadata to add effect to\n     * @param {string} prop Property that should trigger the effect\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _addTemplatePropertyEffect(templateInfo, prop, effect) {\n      // Warn if properties are used in template without being declared.\n      // Properties must be listed in `properties` to be included in\n      // `observedAttributes` since CE V1 reads that at registration time, and\n      // since we want to keep template parsing lazy, we can't automatically\n      // add undeclared properties used in templates to `observedAttributes`.\n      // The warning is only enabled in `legacyOptimizations` mode, since\n      // we don't want to spam existing users who might have adopted the\n      // shorthand when attribute deserialization is not important.\n      if (legacyWarnings && !(prop in this._properties) &&\n          // Methods used in templates with no dependencies (or only literal\n          // dependencies) become accessors with template effects; ignore these\n          !(effect.info.part.signature && effect.info.part.signature.static) &&\n          // Warnings for bindings added to nested templates are handled by\n          // templatizer so ignore both the host-to-template bindings\n          // (`hostProp`) and TemplateInstance-to-child bindings\n          // (`nestedTemplate`)\n          !effect.info.part.hostProp && !templateInfo.nestedTemplate) {\n        console.warn(`Property '${prop}' used in template but not declared in 'properties'; ` +\n          `attribute will not be observed.`);\n      }\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      return polymerElementBase._addTemplatePropertyEffect.call(\n        this, templateInfo, prop, effect);\n    }\n\n  }\n\n  return PolymerElement;\n});\n\n/**\n * When using the ShadyCSS scoping and custom property shim, causes all\n * shimmed `styles` (via `custom-style`) in the document (and its subtree)\n * to be updated based on current custom property values.\n *\n * The optional parameter overrides inline custom property styles with an\n * object of properties where the keys are CSS properties, and the values\n * are strings.\n *\n * Example: `updateStyles({'--color': 'blue'})`\n *\n * These properties are retained unless a value of `null` is set.\n *\n * @param {Object=} props Bag of custom property key/values to\n *   apply to the document.\n * @return {void}\n */\nexport const updateStyles = function(props) {\n  if (window.ShadyCSS) {\n    window.ShadyCSS.styleDocument(props);\n  }\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n/**\n * Our TrustedTypePolicy for HTML which is declared using the Polymer html\n * template tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n *\n * @type {!TrustedTypePolicy|undefined}\n */\nconst policy = window.trustedTypes &&\n    trustedTypes.createPolicy('polymer-html-literal', {createHTML: (s) => s});\n\n/**\n * Class representing a static string value which can be used to filter\n * strings by asseting that they have been created via this class. The\n * `value` property returns the string passed to the constructor.\n */\nclass LiteralString {\n  /**\n   * @param {!ITemplateArray} strings Constant parts of tagged template literal\n   * @param {!Array<*>} values Variable parts of tagged template literal\n   */\n  constructor(strings, values) {\n    assertValidTemplateStringParameters(strings, values);\n    const string = values.reduce(\n        (acc, v, idx) => acc + literalValue(v) + strings[idx + 1], strings[0]);\n    /** @type {string} */\n    this.value = string.toString();\n  }\n  /**\n   * @return {string} LiteralString string value\n   * @override\n   */\n  toString() {\n    return this.value;\n  }\n}\n\n/**\n * @param {*} value Object to stringify into HTML\n * @return {string} HTML stringified form of `obj`\n */\nfunction literalValue(value) {\n  if (value instanceof LiteralString) {\n    return /** @type {!LiteralString} */(value).value;\n  } else {\n    throw new Error(\n        `non-literal value passed to Polymer's htmlLiteral function: ${value}`\n    );\n  }\n}\n\n/**\n * @param {*} value Object to stringify into HTML\n * @return {string} HTML stringified form of `obj`\n */\nfunction htmlValue(value) {\n  if (value instanceof HTMLTemplateElement) {\n    // This might be an mXSS risk  mainly in the case where this template\n    // contains untrusted content that was believed to be sanitized.\n    // However we can't just use the XMLSerializer here because it misencodes\n    // `>` characters inside style tags.\n    // For an example of an actual case that hit this encoding issue,\n    // see b/198592167\n    return /** @type {!HTMLTemplateElement } */(value).innerHTML;\n  } else if (value instanceof LiteralString) {\n    return literalValue(value);\n  } else {\n    throw new Error(\n        `non-template value passed to Polymer's html function: ${value}`);\n  }\n}\n\n/**\n * A template literal tag that creates an HTML <template> element from the\n * contents of the string.\n *\n * This allows you to write a Polymer Template in JavaScript.\n *\n * Templates can be composed by interpolating `HTMLTemplateElement`s in\n * expressions in the JavaScript template literal. The nested template's\n * `innerHTML` is included in the containing template.  The only other\n * values allowed in expressions are those returned from `htmlLiteral`\n * which ensures only literal values from JS source ever reach the HTML, to\n * guard against XSS risks.\n *\n * All other values are disallowed in expressions to help prevent XSS\n * attacks; however, `htmlLiteral` can be used to compose static\n * string values into templates. This is useful to compose strings into\n * places that do not accept html, like the css text of a `style`\n * element.\n *\n * Example:\n *\n *     static get template() {\n *       return html`\n *         <style>:host{ content:\"...\" }</style>\n *         <div class=\"shadowed\">${this.partialTemplate}</div>\n *         ${super.template}\n *       `;\n *     }\n *     static get partialTemplate() { return html`<span>Partial!</span>`; }\n *\n * @param {!ITemplateArray} strings Constant parts of tagged template literal\n * @param {...*} values Variable parts of tagged template literal\n * @return {!HTMLTemplateElement} Constructed HTMLTemplateElement\n */\nexport const html = function html(strings, ...values) {\n  assertValidTemplateStringParameters(strings, values);\n  const template =\n      /** @type {!HTMLTemplateElement} */ (document.createElement('template'));\n  let value = values.reduce(\n      (acc, v, idx) => acc + htmlValue(v) + strings[idx + 1], strings[0]);\n  if (policy) {\n    value = policy.createHTML(value);\n  }\n  template.innerHTML = value;\n  return template;\n};\n\n/**\n * @param {!ITemplateArray} strings Constant parts of tagged template literal\n * @param {!Array<*>} values Array of values from quasis\n */\nconst assertValidTemplateStringParameters = (strings, values) => {\n  // Note: if/when https://github.com/tc39/proposal-array-is-template-object\n  // is standardized, use that instead when available, as it can perform an\n  // unforgable check (though of course, the function itself can be forged).\n  if (!Array.isArray(strings) || !Array.isArray(strings.raw) ||\n      (values.length !== strings.length - 1)) {\n    // This is either caused by a browser bug, a compiler bug, or someone\n    // calling the html template tag function as a regular function.\n    //\n    throw new TypeError('Invalid call to the html template tag');\n  }\n};\n\n/**\n * An html literal tag that can be used with `html` to compose.\n * a literal string.\n *\n * Example:\n *\n *     static get template() {\n *       return html`\n *         <style>\n *           :host { display: block; }\n *           ${this.styleTemplate()}\n *         </style>\n *         <div class=\"shadowed\">${staticValue}</div>\n *         ${super.template}\n *       `;\n *     }\n *     static get styleTemplate() {\n *        return htmlLiteral`.shadowed { background: gray; }`;\n *     }\n *\n * @param {!ITemplateArray} strings Constant parts of tagged template literal\n * @param {...*} values Variable parts of tagged template literal\n * @return {!LiteralString} Constructed literal string\n */\nexport const htmlLiteral = function(strings, ...values) {\n  return new LiteralString(strings, values);\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nimport { ElementMixin, version } from './lib/mixins/element-mixin.js';\nexport { html } from './lib/utils/html-tag.js';\n\nexport { version };\n\n/**\n * Base class that provides the core API for Polymer's meta-programming\n * features including template stamping, data-binding, attribute deserialization,\n * and property change observation.\n *\n * @customElement\n * @polymer\n * @constructor\n * @implements {Polymer_ElementMixin}\n * @extends HTMLElement\n * @appliesMixin ElementMixin\n * @summary Custom element base class that provides the core API for Polymer's\n *   key meta-programming features including template stamping, data-binding,\n *   attribute deserialization, and property change observation\n */\nexport const PolymerElement = ElementMixin(HTMLElement);\n","const DEV_MODE_CODE_REGEXP =\n  /\\/\\*[\\*!]\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\n\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients)\n      .map(key => FlowClients[key])\n      .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e)\n    }\n  }\n\n  return callback(args);\n}\n\n// A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\nwindow['Vaadin'] = window['Vaadin'] || {};\n\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\nexport const runIfDevelopmentMode = function(callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}\n","/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n/*\n\nThis script gathers usage statistics from the application running in development mode.\n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport { runIfDevelopmentMode } from '@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js';\n\nfunction maybeGatherAndSendStats() {\n  /*! vaadin-dev-mode:start\n  (function () {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n};\n\nvar StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n\n    this.now = new Date().getTime();\n    this.logger = logger;\n  }\n\n  createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n\n          jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n\n          return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n\n      types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n\n      var previousStats = JSON.stringify(storedStats);\n\n      this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n\n      var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n\n      var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n}();\n\nvar StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n\n    this.key = key;\n  }\n\n  createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n\n      return empty;\n    }\n  }]);\n  return StatisticsStorage;\n}();\n\nvar StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n\n    this.url = url;\n    this.logger = logger;\n  }\n\n  createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n\n      if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n}();\n\nvar StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n\n    this.id = id;\n  }\n\n  createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n}();\n\nvar UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n\n    this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n\n    this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n\n  createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n\n      if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n\n      if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n\n      if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n\n      this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n\n      // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.2';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n}();\n\ntry {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n} catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n}\n\n}());\n\n  vaadin-dev-mode:end **/\n}\n\nexport const usageStatistics = function() {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @fileoverview\n *\n * This module provides a number of strategies for enqueuing asynchronous\n * tasks. Each sub-module provides a standard `run(fn)` interface that returns a\n * handle, and a `cancel(handle)` interface for canceling async tasks before\n * they run.\n *\n * @summary Module that provides a number of strategies for enqueuing\n * asynchronous tasks.\n */\n\nlet microtaskCurrHandle = 0;\nlet microtaskLastHandle = 0;\nconst microtaskCallbacks = [];\nlet microtaskScheduled = false;\n\nfunction microtaskFlush() {\n  microtaskScheduled = false;\n  const len = microtaskCallbacks.length;\n  for (let i = 0; i < len; i++) {\n    const cb = microtaskCallbacks[i];\n    if (cb) {\n      try {\n        cb();\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        });\n      }\n    }\n  }\n  microtaskCallbacks.splice(0, len);\n  microtaskLastHandle += len;\n}\n\n/**\n * Async interface wrapper around `setTimeout`.\n *\n * @namespace\n * @summary Async interface wrapper around `setTimeout`.\n */\nconst timeOut = {\n  /**\n   * Returns a sub-module with the async interface providing the provided\n   * delay.\n   *\n   * @memberof timeOut\n   * @param {number=} delay Time to wait before calling callbacks in ms\n   * @return {!AsyncInterface} An async timeout interface\n   */\n  after(delay) {\n    return {\n      run(fn) {\n        return window.setTimeout(fn, delay);\n      },\n      cancel(handle) {\n        window.clearTimeout(handle);\n      },\n    };\n  },\n  /**\n   * Enqueues a function called in the next task.\n   *\n   * @memberof timeOut\n   * @param {!Function} fn Callback to run\n   * @param {number=} delay Delay in milliseconds\n   * @return {number} Handle used for canceling task\n   */\n  run(fn, delay) {\n    return window.setTimeout(fn, delay);\n  },\n  /**\n   * Cancels a previously enqueued `timeOut` callback.\n   *\n   * @memberof timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.clearTimeout(handle);\n  },\n};\nexport { timeOut };\n\n/**\n * Async interface wrapper around `requestAnimationFrame`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestAnimationFrame`.\n */\nconst animationFrame = {\n  /**\n   * Enqueues a function called at `requestAnimationFrame` timing.\n   *\n   * @memberof animationFrame\n   * @param {function(number):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestAnimationFrame(fn);\n  },\n  /**\n   * Cancels a previously enqueued `animationFrame` callback.\n   *\n   * @memberof animationFrame\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelAnimationFrame(handle);\n  },\n};\nexport { animationFrame };\n\n/**\n * Async interface wrapper around `requestIdleCallback`.  Falls back to\n * `setTimeout` on browsers that do not support `requestIdleCallback`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestIdleCallback`.\n */\nconst idlePeriod = {\n  /**\n   * Enqueues a function called at `requestIdleCallback` timing.\n   *\n   * @memberof idlePeriod\n   * @param {function(!IdleDeadline):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestIdleCallback ? window.requestIdleCallback(fn) : window.setTimeout(fn, 16);\n  },\n  /**\n   * Cancels a previously enqueued `idlePeriod` callback.\n   *\n   * @memberof idlePeriod\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    if (window.cancelIdleCallback) {\n      window.cancelIdleCallback(handle);\n    } else {\n      window.clearTimeout(handle);\n    }\n  },\n};\nexport { idlePeriod };\n\n/**\n * Async interface for enqueuing callbacks that run at microtask timing.\n *\n * @namespace\n * @summary Async interface for enqueuing callbacks that run at microtask\n *   timing.\n */\nconst microTask = {\n  /**\n   * Enqueues a function called at microtask timing.\n   *\n   * @memberof microTask\n   * @param {!Function=} callback Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(callback) {\n    if (!microtaskScheduled) {\n      microtaskScheduled = true;\n      queueMicrotask(() => microtaskFlush());\n    }\n    microtaskCallbacks.push(callback);\n    const result = microtaskCurrHandle;\n    microtaskCurrHandle += 1;\n    return result;\n  },\n\n  /**\n   * Cancels a previously enqueued `microTask` callback.\n   *\n   * @memberof microTask\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    const idx = handle - microtaskLastHandle;\n    if (idx >= 0) {\n      if (!microtaskCallbacks[idx]) {\n        throw new Error(`invalid async handle: ${handle}`);\n      }\n      microtaskCallbacks[idx] = null;\n    }\n  },\n};\nexport { microTask };\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nconst debouncerQueue = new Set();\n\n/**\n * @summary Collapse multiple callbacks into one invocation after a timer.\n */\nexport class Debouncer {\n  /**\n   * Creates a debouncer if no debouncer is passed as a parameter\n   * or it cancels an active debouncer otherwise. The following\n   * example shows how a debouncer can be called multiple times within a\n   * microtask and \"debounced\" such that the provided callback function is\n   * called once. Add this method to a custom element:\n   *\n   * ```js\n   * import {microTask} from '@vaadin/component-base/src/async.js';\n   * import {Debouncer} from '@vaadin/component-base/src/debounce.js';\n   * // ...\n   *\n   * _debounceWork() {\n   *   this._debounceJob = Debouncer.debounce(this._debounceJob,\n   *       microTask, () => this._doWork());\n   * }\n   * ```\n   *\n   * If the `_debounceWork` method is called multiple times within the same\n   * microtask, the `_doWork` function will be called only once at the next\n   * microtask checkpoint.\n   *\n   * Note: In testing it is often convenient to avoid asynchrony. To accomplish\n   * this with a debouncer, you can use `enqueueDebouncer` and\n   * `flush`. For example, extend the above example by adding\n   * `enqueueDebouncer(this._debounceJob)` at the end of the\n   * `_debounceWork` method. Then in a test, call `flush` to ensure\n   * the debouncer has completed.\n   *\n   * @param {Debouncer?} debouncer Debouncer object.\n   * @param {!AsyncInterface} asyncModule Object with Async interface\n   * @param {function()} callback Callback to run.\n   * @return {!Debouncer} Returns a debouncer object.\n   */\n  static debounce(debouncer, asyncModule, callback) {\n    if (debouncer instanceof Debouncer) {\n      // Cancel the async callback, but leave in debouncerQueue if it was\n      // enqueued, to maintain 1.x flush order\n      debouncer._cancelAsync();\n    } else {\n      debouncer = new Debouncer();\n    }\n    debouncer.setConfig(asyncModule, callback);\n    return debouncer;\n  }\n\n  constructor() {\n    this._asyncModule = null;\n    this._callback = null;\n    this._timer = null;\n  }\n\n  /**\n   * Sets the scheduler; that is, a module with the Async interface,\n   * a callback and optional arguments to be passed to the run function\n   * from the async module.\n   *\n   * @param {!AsyncInterface} asyncModule Object with Async interface.\n   * @param {function()} callback Callback to run.\n   * @return {void}\n   */\n  setConfig(asyncModule, callback) {\n    this._asyncModule = asyncModule;\n    this._callback = callback;\n    this._timer = this._asyncModule.run(() => {\n      this._timer = null;\n      debouncerQueue.delete(this);\n      this._callback();\n    });\n  }\n\n  /**\n   * Cancels an active debouncer and returns a reference to itself.\n   *\n   * @return {void}\n   */\n  cancel() {\n    if (this.isActive()) {\n      this._cancelAsync();\n      // Canceling a debouncer removes its spot from the flush queue,\n      // so if a debouncer is manually canceled and re-debounced, it\n      // will reset its flush order (this is a very minor difference from 1.x)\n      // Re-debouncing via the `debounce` API retains the 1.x FIFO flush order\n      debouncerQueue.delete(this);\n    }\n  }\n\n  /**\n   * Cancels a debouncer's async callback.\n   *\n   * @return {void}\n   */\n  _cancelAsync() {\n    if (this.isActive()) {\n      this._asyncModule.cancel(/** @type {number} */ (this._timer));\n      this._timer = null;\n    }\n  }\n\n  /**\n   * Flushes an active debouncer and returns a reference to itself.\n   *\n   * @return {void}\n   */\n  flush() {\n    if (this.isActive()) {\n      this.cancel();\n      this._callback();\n    }\n  }\n\n  /**\n   * Returns true if the debouncer is active.\n   *\n   * @return {boolean} True if active.\n   */\n  isActive() {\n    return this._timer != null;\n  }\n}\n\n/**\n * Adds a `Debouncer` to a list of globally flushable tasks.\n *\n * @param {!Debouncer} debouncer Debouncer to enqueue\n * @return {void}\n */\nexport function enqueueDebouncer(debouncer) {\n  debouncerQueue.add(debouncer);\n}\n\n/**\n * Flushes any enqueued debouncers\n *\n * @return {boolean} Returns whether any debouncers were flushed\n */\nexport function flushDebouncers() {\n  const didFlush = Boolean(debouncerQueue.size);\n  // If new debouncers are added while flushing, Set.forEach will ensure\n  // newly added ones are also flushed\n  debouncerQueue.forEach((debouncer) => {\n    try {\n      debouncer.flush();\n    } catch (e) {\n      setTimeout(() => {\n        throw e;\n      });\n    }\n  });\n  return didFlush;\n}\n\nexport const flush = () => {\n  let debouncers;\n  do {\n    debouncers = flushDebouncers();\n  } while (debouncers);\n};\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Array of Vaadin custom element classes that have been subscribed to the dir changes.\n */\nconst directionSubscribers = [];\n\nfunction alignDirs(element, documentDir, elementDir = element.getAttribute('dir')) {\n  if (documentDir) {\n    element.setAttribute('dir', documentDir);\n  } else if (elementDir != null) {\n    element.removeAttribute('dir');\n  }\n}\n\nfunction getDocumentDir() {\n  return document.documentElement.getAttribute('dir');\n}\n\nfunction directionUpdater() {\n  const documentDir = getDocumentDir();\n  directionSubscribers.forEach((element) => {\n    alignDirs(element, documentDir);\n  });\n}\n\nconst directionObserver = new MutationObserver(directionUpdater);\ndirectionObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['dir'] });\n\n/**\n * A mixin to handle `dir` attribute based on the one set on the `<html>` element.\n *\n * @polymerMixin\n */\nexport const DirMixin = (superClass) =>\n  class VaadinDirMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * @protected\n         */\n        dir: {\n          type: String,\n          value: '',\n          reflectToAttribute: true,\n          converter: {\n            fromAttribute: (attr) => {\n              return !attr ? '' : attr;\n            },\n            toAttribute: (prop) => {\n              return prop === '' ? null : prop;\n            },\n          },\n        },\n      };\n    }\n\n    /**\n     * @return {boolean}\n     * @protected\n     */\n    get __isRTL() {\n      return this.getAttribute('dir') === 'rtl';\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      if (!this.hasAttribute('dir') || this.__restoreSubscription) {\n        this.__subscribe();\n        alignDirs(this, getDocumentDir(), null);\n      }\n    }\n\n    /** @protected */\n    attributeChangedCallback(name, oldValue, newValue) {\n      super.attributeChangedCallback(name, oldValue, newValue);\n      if (name !== 'dir') {\n        return;\n      }\n\n      const documentDir = getDocumentDir();\n\n      // New value equals to the document direction and the element is not subscribed to the changes\n      const newValueEqlDocDir = newValue === documentDir && directionSubscribers.indexOf(this) === -1;\n      // Value was emptied and the element is not subscribed to the changes\n      const newValueEmptied = !newValue && oldValue && directionSubscribers.indexOf(this) === -1;\n      // New value is different and the old equals to document direction and the element is not subscribed to the changes\n      const newDiffValue = newValue !== documentDir && oldValue === documentDir;\n\n      if (newValueEqlDocDir || newValueEmptied) {\n        this.__subscribe();\n        alignDirs(this, documentDir, newValue);\n      } else if (newDiffValue) {\n        this.__unsubscribe();\n      }\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.__restoreSubscription = directionSubscribers.includes(this);\n      this.__unsubscribe();\n    }\n\n    /** @protected */\n    _valueToNodeAttribute(node, value, attribute) {\n      // Override default Polymer attribute reflection to match native behavior of HTMLElement.dir property\n      // If the property contains an empty string then it should not create an empty attribute\n      if (attribute === 'dir' && value === '' && !node.hasAttribute('dir')) {\n        return;\n      }\n      super._valueToNodeAttribute(node, value, attribute);\n    }\n\n    /** @protected */\n    _attributeToProperty(attribute, value, type) {\n      // Override default Polymer attribute reflection to match native behavior of HTMLElement.dir property\n      // If the attribute is removed, then the dir property should contain an empty string instead of null\n      if (attribute === 'dir' && !value) {\n        this.dir = '';\n      } else {\n        super._attributeToProperty(attribute, value, type);\n      }\n    }\n\n    /** @private */\n    __subscribe() {\n      if (!directionSubscribers.includes(this)) {\n        directionSubscribers.push(this);\n      }\n    }\n\n    /** @private */\n    __unsubscribe() {\n      if (directionSubscribers.includes(this)) {\n        directionSubscribers.splice(directionSubscribers.indexOf(this), 1);\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { setCancelSyntheticClickEvents } from '@polymer/polymer/lib/utils/settings.js';\nimport { usageStatistics } from '@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js';\nimport { idlePeriod } from './async.js';\nimport { Debouncer, enqueueDebouncer } from './debounce.js';\nimport { DirMixin } from './dir-mixin.js';\n\n// This setting affects the legacy Polymer gestures which get activated\n// once you import any iron component e.g iron-icon.\n// It has to be explicitly disabled to prevent click issues in iOS + VoiceOver\n// for buttons that are based on `[role=button]` e.g vaadin-button.\nsetCancelSyntheticClickEvents(false);\n\nif (!window.Vaadin) {\n  window.Vaadin = {};\n}\n\n/**\n * Array of Vaadin custom element classes that have been finalized.\n */\nif (!window.Vaadin.registrations) {\n  window.Vaadin.registrations = [];\n}\n\nif (!window.Vaadin.developmentModeCallback) {\n  window.Vaadin.developmentModeCallback = {};\n}\n\nwindow.Vaadin.developmentModeCallback['vaadin-usage-statistics'] = function () {\n  usageStatistics();\n};\n\nlet statsJob;\n\nconst registered = new Set();\n\n/**\n * @polymerMixin\n * @mixes DirMixin\n */\nexport const ElementMixin = (superClass) =>\n  class VaadinElementMixin extends DirMixin(superClass) {\n    /** @protected */\n    static finalize() {\n      super.finalize();\n\n      const { is } = this;\n\n      // Registers a class prototype for telemetry purposes.\n      if (is && !registered.has(is)) {\n        window.Vaadin.registrations.push(this);\n        registered.add(is);\n\n        if (window.Vaadin.developmentModeCallback) {\n          statsJob = Debouncer.debounce(statsJob, idlePeriod, () => {\n            window.Vaadin.developmentModeCallback['vaadin-usage-statistics']();\n          });\n          enqueueDebouncer(statsJob);\n        }\n      }\n    }\n\n    constructor() {\n      super();\n\n      if (document.doctype === null) {\n        console.warn(\n          'Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.',\n        );\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Returns an array of ancestor root nodes for the given node.\n *\n * A root node is either a document node or a document fragment node (Shadow Root).\n * The array is collected by a bottom-up DOM traversing that starts with the given node\n * and involves both the light DOM and ancestor shadow DOM trees.\n *\n * @param {Node} node\n * @return {Node[]}\n */\nexport function getAncestorRootNodes(node) {\n  const result = [];\n\n  while (node) {\n    if (node.nodeType === Node.DOCUMENT_NODE) {\n      result.push(node);\n      break;\n    }\n\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      result.push(node);\n      node = node.host;\n      continue;\n    }\n\n    if (node.assignedSlot) {\n      node = node.assignedSlot;\n      continue;\n    }\n\n    node = node.parentNode;\n  }\n\n  return result;\n}\n\n/**\n * Returns the list of flattened elements for the given `node`.\n * This list consists of a node's children and, for any children that are\n * `<slot>` elements, the expanded flattened list of `assignedElements`.\n *\n * @param {Node} node\n * @return {Element[]}\n */\nexport function getFlattenedElements(node) {\n  const result = [];\n  let elements;\n  if (node.localName === 'slot') {\n    elements = node.assignedElements();\n  } else {\n    result.push(node);\n    elements = [...node.children];\n  }\n  elements.forEach((elem) => result.push(...getFlattenedElements(elem)));\n  return result;\n}\n\n/**\n * Traverses the given node and its parents, including those that are across\n * the shadow root boundaries, until it finds a node that matches the selector.\n *\n * @param {string} selector The CSS selector to match against\n * @param {Node} node The starting node for the traversal\n * @return {Node | null} The closest matching element, or null if no match is found\n */\nexport function getClosestElement(selector, node) {\n  if (!node) {\n    return null;\n  }\n\n  return node.closest(selector) || getClosestElement(selector, node.getRootNode().host);\n}\n\n/**\n * Takes a string with values separated by space and returns a set the values\n *\n * @param {string} value\n * @return {Set<string>}\n */\nexport function deserializeAttributeValue(value) {\n  if (!value) {\n    return new Set();\n  }\n\n  return new Set(value.split(' '));\n}\n\n/**\n * Takes a set of string values and returns a string with values separated by space\n *\n * @param {Set<string>} values\n * @return {string}\n */\nexport function serializeAttributeValue(values) {\n  return values ? [...values].join(' ') : '';\n}\n\n/**\n * Adds a value to an attribute containing space-delimited values.\n *\n * @param {HTMLElement} element\n * @param {string} attr\n * @param {string} value\n */\nexport function addValueToAttribute(element, attr, value) {\n  const values = deserializeAttributeValue(element.getAttribute(attr));\n  values.add(value);\n  element.setAttribute(attr, serializeAttributeValue(values));\n}\n\n/**\n * Removes a value from an attribute containing space-delimited values.\n * If the value is the last one, the whole attribute is removed.\n *\n * @param {HTMLElement} element\n * @param {string} attr\n * @param {string} value\n */\nexport function removeValueFromAttribute(element, attr, value) {\n  const values = deserializeAttributeValue(element.getAttribute(attr));\n  values.delete(value);\n  if (values.size === 0) {\n    element.removeAttribute(attr);\n    return;\n  }\n  element.setAttribute(attr, serializeAttributeValue(values));\n}\n\n/**\n * Returns true if the given node is an empty text node, false otherwise.\n *\n * @param {Node} node\n * @return {boolean}\n */\nexport function isEmptyTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE && node.textContent.trim() === '';\n}\n","/**\n * @license\n * Copyright (c) 2023 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * A helper for observing slot changes.\n */\nexport class SlotObserver {\n  constructor(slot, callback) {\n    /** @type HTMLSlotElement */\n    this.slot = slot;\n\n    /** @type Function */\n    this.callback = callback;\n\n    /** @type {Node[]} */\n    this._storedNodes = [];\n\n    this._connected = false;\n    this._scheduled = false;\n\n    this._boundSchedule = () => {\n      this._schedule();\n    };\n\n    this.connect();\n    this._schedule();\n  }\n\n  /**\n   * Activates an observer. This method is automatically called when\n   * a `SlotObserver` is created. It should only be called to  re-activate\n   * an observer that has been deactivated via the `disconnect` method.\n   */\n  connect() {\n    this.slot.addEventListener('slotchange', this._boundSchedule);\n    this._connected = true;\n  }\n\n  /**\n   * Deactivates the observer. After calling this method the observer callback\n   * will not be called when changes to slotted nodes occur. The `connect` method\n   * may be subsequently called to reactivate the observer.\n   */\n  disconnect() {\n    this.slot.removeEventListener('slotchange', this._boundSchedule);\n    this._connected = false;\n  }\n\n  /** @private */\n  _schedule() {\n    if (!this._scheduled) {\n      this._scheduled = true;\n\n      queueMicrotask(() => {\n        this.flush();\n      });\n    }\n  }\n\n  /**\n   * Run the observer callback synchronously.\n   */\n  flush() {\n    if (!this._connected) {\n      return;\n    }\n\n    this._scheduled = false;\n\n    this._processNodes();\n  }\n\n  /** @private */\n  _processNodes() {\n    const currentNodes = this.slot.assignedNodes({ flatten: true });\n\n    let addedNodes = [];\n    const removedNodes = [];\n    const movedNodes = [];\n\n    if (currentNodes.length) {\n      addedNodes = currentNodes.filter((node) => !this._storedNodes.includes(node));\n    }\n\n    if (this._storedNodes.length) {\n      this._storedNodes.forEach((node, index) => {\n        const idx = currentNodes.indexOf(node);\n        if (idx === -1) {\n          removedNodes.push(node);\n        } else if (idx !== index) {\n          movedNodes.push(node);\n        }\n      });\n    }\n\n    if (addedNodes.length || removedNodes.length || movedNodes.length) {\n      this.callback({ addedNodes, currentNodes, movedNodes, removedNodes });\n    }\n\n    this._storedNodes = currentNodes;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nlet uniqueId = 0;\n\n/**\n * Resets the unique id counter.\n *\n * @return {void}\n */\nexport function resetUniqueId() {\n  uniqueId = 0;\n}\n\n/**\n * Returns a unique integer id.\n *\n * @return {number}\n */\nexport function generateUniqueId() {\n  // eslint-disable-next-line no-plusplus\n  return uniqueId++;\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isEmptyTextNode } from './dom-utils.js';\nimport { SlotObserver } from './slot-observer.js';\nimport { generateUniqueId } from './unique-id-utils.js';\n\n/**\n * A controller for providing content to slot element and observing changes.\n */\nexport class SlotController extends EventTarget {\n  /**\n   * Ensure that every instance has unique ID.\n   *\n   * @param {HTMLElement} host\n   * @param {string} slotName\n   * @return {string}\n   * @protected\n   */\n  static generateId(host, prefix = 'default') {\n    return `${prefix}-${host.localName}-${generateUniqueId()}`;\n  }\n\n  constructor(host, slotName, tagName, config = {}) {\n    super();\n\n    const { initializer, multiple, observe, useUniqueId, uniqueIdPrefix } = config;\n\n    this.host = host;\n    this.slotName = slotName;\n    this.tagName = tagName;\n    this.observe = typeof observe === 'boolean' ? observe : true;\n    this.multiple = typeof multiple === 'boolean' ? multiple : false;\n    this.slotInitializer = initializer;\n\n    if (multiple) {\n      this.nodes = [];\n    }\n\n    // Only generate the default ID if requested by the controller.\n    if (useUniqueId) {\n      this.defaultId = this.constructor.generateId(host, uniqueIdPrefix || slotName);\n    }\n  }\n\n  hostConnected() {\n    if (!this.initialized) {\n      if (this.multiple) {\n        this.initMultiple();\n      } else {\n        this.initSingle();\n      }\n\n      if (this.observe) {\n        this.observeSlot();\n      }\n\n      this.initialized = true;\n    }\n  }\n\n  /** @protected */\n  initSingle() {\n    let node = this.getSlotChild();\n\n    if (!node) {\n      node = this.attachDefaultNode();\n      this.initNode(node);\n    } else {\n      this.node = node;\n      this.initAddedNode(node);\n    }\n  }\n\n  /** @protected */\n  initMultiple() {\n    const children = this.getSlotChildren();\n\n    if (children.length === 0) {\n      const defaultNode = this.attachDefaultNode();\n      if (defaultNode) {\n        this.nodes = [defaultNode];\n        this.initNode(defaultNode);\n      }\n    } else {\n      this.nodes = children;\n      children.forEach((node) => {\n        this.initAddedNode(node);\n      });\n    }\n  }\n\n  /**\n   * Create and attach default node using the provided tag name, if any.\n   * @return {Node | undefined}\n   * @protected\n   */\n  attachDefaultNode() {\n    const { host, slotName, tagName } = this;\n\n    // Check if the node was created previously and if so, reuse it.\n    let node = this.defaultNode;\n\n    // Tag name is optional, sometimes we don't init default content.\n    if (!node && tagName) {\n      node = document.createElement(tagName);\n      if (node instanceof Element) {\n        if (slotName !== '') {\n          node.setAttribute('slot', slotName);\n        }\n        this.defaultNode = node;\n      }\n    }\n\n    if (node) {\n      this.node = node;\n      host.appendChild(node);\n    }\n\n    return node;\n  }\n\n  /**\n   * Return the list of nodes matching the slot managed by the controller.\n   * @return {Node}\n   */\n  getSlotChildren() {\n    const { slotName } = this;\n    return Array.from(this.host.childNodes).filter((node) => {\n      // Either an element (any slot) or a text node (only un-named slot).\n      return (\n        (node.nodeType === Node.ELEMENT_NODE && node.slot === slotName) ||\n        (node.nodeType === Node.TEXT_NODE && node.textContent.trim() && slotName === '')\n      );\n    });\n  }\n\n  /**\n   * Return a reference to the node managed by the controller.\n   * @return {Node}\n   */\n  getSlotChild() {\n    return this.getSlotChildren()[0];\n  }\n\n  /**\n   * Run `slotInitializer` for the node managed by the controller.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  initNode(node) {\n    const { slotInitializer } = this;\n    // Don't try to bind `this` to initializer (normally it's arrow function).\n    // Instead, pass the host as a first argument to access component's state.\n    if (slotInitializer) {\n      slotInitializer(node, this.host);\n    }\n  }\n\n  /**\n   * Override to initialize the newly added custom node.\n   *\n   * @param {Node} _node\n   * @protected\n   */\n  initCustomNode(_node) {}\n\n  /**\n   * Override to teardown slotted node when it's removed.\n   *\n   * @param {Node} _node\n   * @protected\n   */\n  teardownNode(_node) {}\n\n  /**\n   * Run both `initCustomNode` and `initNode` for a custom slotted node.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  initAddedNode(node) {\n    if (node !== this.defaultNode) {\n      this.initCustomNode(node);\n      this.initNode(node);\n    }\n  }\n\n  /**\n   * Setup the observer to manage slot content changes.\n   * @protected\n   */\n  observeSlot() {\n    const { slotName } = this;\n    const selector = slotName === '' ? 'slot:not([name])' : `slot[name=${slotName}]`;\n    const slot = this.host.shadowRoot.querySelector(selector);\n\n    this.__slotObserver = new SlotObserver(slot, ({ addedNodes, removedNodes }) => {\n      const current = this.multiple ? this.nodes : [this.node];\n\n      // Calling `slot.assignedNodes()` includes whitespace text nodes in case of default slot:\n      // unlike comment nodes, they are not filtered out. So we need to manually ignore them.\n      const newNodes = addedNodes.filter((node) => !isEmptyTextNode(node) && !current.includes(node));\n\n      if (removedNodes.length) {\n        this.nodes = current.filter((node) => !removedNodes.includes(node));\n\n        removedNodes.forEach((node) => {\n          this.teardownNode(node);\n        });\n      }\n\n      if (newNodes && newNodes.length > 0) {\n        if (this.multiple) {\n          // Remove default node if exists\n          if (this.defaultNode) {\n            this.defaultNode.remove();\n          }\n          this.nodes = [...current, ...newNodes].filter((node) => node !== this.defaultNode);\n          newNodes.forEach((node) => {\n            this.initAddedNode(node);\n          });\n        } else {\n          // Remove previous node if exists\n          if (this.node) {\n            this.node.remove();\n          }\n          this.node = newNodes[0];\n          this.initAddedNode(this.node);\n        }\n      }\n    });\n  }\n}\n","/**\n * @license\n * Copyright (c) 2022 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotController } from './slot-controller.js';\n\n/**\n * A controller that manages the slotted tooltip element.\n */\nexport class TooltipController extends SlotController {\n  constructor(host) {\n    // Do not provide slot factory to create tooltip lazily.\n    super(host, 'tooltip');\n\n    this.setTarget(host);\n  }\n\n  /**\n   * Override to initialize the newly added custom tooltip.\n   *\n   * @param {Node} tooltipNode\n   * @protected\n   * @override\n   */\n  initCustomNode(tooltipNode) {\n    tooltipNode.target = this.target;\n\n    if (this.ariaTarget !== undefined) {\n      tooltipNode.ariaTarget = this.ariaTarget;\n    }\n\n    if (this.context !== undefined) {\n      tooltipNode.context = this.context;\n    }\n\n    if (this.manual !== undefined) {\n      tooltipNode.manual = this.manual;\n    }\n\n    if (this.opened !== undefined) {\n      tooltipNode.opened = this.opened;\n    }\n\n    if (this.position !== undefined) {\n      tooltipNode._position = this.position;\n    }\n\n    if (this.shouldShow !== undefined) {\n      tooltipNode.shouldShow = this.shouldShow;\n    }\n\n    this.__notifyChange();\n  }\n\n  /**\n   * Override to notify the host when the tooltip is removed.\n   *\n   * @param {Node} tooltipNode\n   * @protected\n   * @override\n   */\n  teardownNode() {\n    this.__notifyChange();\n  }\n\n  /**\n   * Set an HTML element for linking with the tooltip overlay\n   * via `aria-describedby` attribute used by screen readers.\n   * @param {HTMLElement} ariaTarget\n   */\n  setAriaTarget(ariaTarget) {\n    this.ariaTarget = ariaTarget;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.ariaTarget = ariaTarget;\n    }\n  }\n\n  /**\n   * Set a context object to be used by generator.\n   * @param {object} context\n   */\n  setContext(context) {\n    this.context = context;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.context = context;\n    }\n  }\n\n  /**\n   * Toggle manual state on the slotted tooltip.\n   * @param {boolean} manual\n   */\n  setManual(manual) {\n    this.manual = manual;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.manual = manual;\n    }\n  }\n\n  /**\n   * Toggle opened state on the slotted tooltip.\n   * @param {boolean} opened\n   */\n  setOpened(opened) {\n    this.opened = opened;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.opened = opened;\n    }\n  }\n\n  /**\n   * Set default position for the slotted tooltip.\n   * This can be overridden by setting the position\n   * using corresponding property or attribute.\n   * @param {string} position\n   */\n  setPosition(position) {\n    this.position = position;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode._position = position;\n    }\n  }\n\n  /**\n   * Set function used to detect whether to show\n   * the tooltip based on a condition.\n   * @param {Function} shouldShow\n   */\n  setShouldShow(shouldShow) {\n    this.shouldShow = shouldShow;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.shouldShow = shouldShow;\n    }\n  }\n\n  /**\n   * Set an HTML element to attach the tooltip to.\n   * @param {HTMLElement} target\n   */\n  setTarget(target) {\n    this.target = target;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.target = target;\n    }\n  }\n\n  /** @private */\n  __notifyChange() {\n    this.dispatchEvent(new CustomEvent('tooltip-changed', { detail: { node: this.node } }));\n  }\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable @typescript-eslint/no-use-before-define */\n\n/**\n * @fileoverview\n *\n * Module for adding listeners to a node for the following normalized\n * cross-platform \"gesture\" events:\n * - `down` - mouse or touch went down\n * - `up` - mouse or touch went up\n * - `tap` - mouse click or finger tap\n * - `track` - mouse drag or touch move\n *\n * @summary Module for adding cross-platform gesture event listeners.\n */\n\nimport { microTask } from './async.js';\n\nconst passiveTouchGestures = false;\nconst wrap = (node) => node;\n\n// Detect native touch action support\nconst HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';\nconst GESTURE_KEY = '__polymerGestures';\nconst HANDLED_OBJ = '__polymerGesturesHandled';\nconst TOUCH_ACTION = '__polymerGesturesTouchAction';\n// Radius for tap and track\nconst TAP_DISTANCE = 25;\nconst TRACK_DISTANCE = 5;\n// Number of last N track positions to keep\nconst TRACK_LENGTH = 2;\n\nconst MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'click'];\n// An array of bitmask values for mapping MouseEvent.which to MouseEvent.buttons\nconst MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];\nconst MOUSE_HAS_BUTTONS = (function () {\n  try {\n    return new MouseEvent('test', { buttons: 1 }).buttons === 1;\n  } catch (_) {\n    return false;\n  }\n})();\n\n/**\n * @param {string} name Possible mouse event name\n * @return {boolean} true if mouse event, false if not\n */\nfunction isMouseEvent(name) {\n  return MOUSE_EVENTS.indexOf(name) > -1;\n}\n\n/* eslint no-empty: [\"error\", { \"allowEmptyCatch\": true }] */\n// check for passive event listeners\nlet supportsPassive = false;\n(function () {\n  try {\n    const opts = Object.defineProperty({}, 'passive', {\n      // eslint-disable-next-line getter-return\n      get() {\n        supportsPassive = true;\n      },\n    });\n    window.addEventListener('test', null, opts);\n    window.removeEventListener('test', null, opts);\n  } catch (_) {}\n})();\n\n/**\n * Generate settings for event listeners, dependant on `passiveTouchGestures`\n *\n * @param {string} eventName Event name to determine if `{passive}` option is\n *   needed\n * @return {{passive: boolean} | undefined} Options to use for addEventListener\n *   and removeEventListener\n */\nfunction PASSIVE_TOUCH(eventName) {\n  if (isMouseEvent(eventName) || eventName === 'touchend') {\n    return;\n  }\n  if (HAS_NATIVE_TA && supportsPassive && passiveTouchGestures) {\n    return { passive: true };\n  }\n}\n\n// Check for touch-only devices\nconst IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/u);\n\n// Defined at https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n/** @type {!Object<boolean>} */\nconst canBeDisabled = {\n  button: true,\n  command: true,\n  fieldset: true,\n  input: true,\n  keygen: true,\n  optgroup: true,\n  option: true,\n  select: true,\n  textarea: true,\n};\n\n/**\n * @param {MouseEvent} ev event to test for left mouse button down\n * @return {boolean} has left mouse button down\n */\nfunction hasLeftMouseButton(ev) {\n  const type = ev.type;\n  // Exit early if the event is not a mouse event\n  if (!isMouseEvent(type)) {\n    return false;\n  }\n  // Ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)\n  // instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)\n  if (type === 'mousemove') {\n    // Allow undefined for testing events\n    let buttons = ev.buttons === undefined ? 1 : ev.buttons;\n    if (ev instanceof window.MouseEvent && !MOUSE_HAS_BUTTONS) {\n      buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;\n    }\n    // Buttons is a bitmask, check that the left button bit is set (1)\n    return Boolean(buttons & 1);\n  }\n  // Allow undefined for testing events\n  const button = ev.button === undefined ? 0 : ev.button;\n  // Ev.button is 0 in mousedown/mouseup/click for left button activation\n  return button === 0;\n}\n\nfunction isSyntheticClick(ev) {\n  if (ev.type === 'click') {\n    // Ev.detail is 0 for HTMLElement.click in most browsers\n    if (ev.detail === 0) {\n      return true;\n    }\n    // In the worst case, check that the x/y position of the click is within\n    // the bounding box of the target of the event\n    // Thanks IE 10 >:(\n    const t = _findOriginalTarget(ev);\n    // Make sure the target of the event is an element so we can use getBoundingClientRect,\n    // if not, just assume it is a synthetic click\n    if (!t.nodeType || /** @type {Element} */ (t).nodeType !== Node.ELEMENT_NODE) {\n      return true;\n    }\n    const bcr = /** @type {Element} */ (t).getBoundingClientRect();\n    // Use page x/y to account for scrolling\n    const x = ev.pageX,\n      y = ev.pageY;\n    // Ev is a synthetic click if the position is outside the bounding box of the target\n    return !(x >= bcr.left && x <= bcr.right && y >= bcr.top && y <= bcr.bottom);\n  }\n  return false;\n}\n\nconst POINTERSTATE = {\n  mouse: {\n    target: null,\n    mouseIgnoreJob: null,\n  },\n  touch: {\n    x: 0,\n    y: 0,\n    id: -1,\n    scrollDecided: false,\n  },\n};\n\nfunction firstTouchAction(ev) {\n  let ta = 'auto';\n  const path = getComposedPath(ev);\n  for (let i = 0, n; i < path.length; i++) {\n    n = path[i];\n    if (n[TOUCH_ACTION]) {\n      ta = n[TOUCH_ACTION];\n      break;\n    }\n  }\n  return ta;\n}\n\nfunction trackDocument(stateObj, movefn, upfn) {\n  stateObj.movefn = movefn;\n  stateObj.upfn = upfn;\n  document.addEventListener('mousemove', movefn);\n  document.addEventListener('mouseup', upfn);\n}\n\nfunction untrackDocument(stateObj) {\n  document.removeEventListener('mousemove', stateObj.movefn);\n  document.removeEventListener('mouseup', stateObj.upfn);\n  stateObj.movefn = null;\n  stateObj.upfn = null;\n}\n\n/**\n * Returns the composedPath for the given event.\n * @param {Event} event to process\n * @return {!Array<!EventTarget>} Path of the event\n */\nconst getComposedPath =\n  window.ShadyDOM && window.ShadyDOM.noPatch\n    ? window.ShadyDOM.composedPath\n    : (event) => (event.composedPath && event.composedPath()) || [];\n\n/** @type {!Object<string, !GestureRecognizer>} */\nexport const gestures = {};\n\n/** @type {!Array<!GestureRecognizer>} */\nexport const recognizers = [];\n\n/**\n * Finds the element rendered on the screen at the provided coordinates.\n *\n * Similar to `document.elementFromPoint`, but pierces through\n * shadow roots.\n *\n * @param {number} x Horizontal pixel coordinate\n * @param {number} y Vertical pixel coordinate\n * @return {Element} Returns the deepest shadowRoot inclusive element\n * found at the screen position given.\n */\nexport function deepTargetFind(x, y) {\n  let node = document.elementFromPoint(x, y);\n  let next = node;\n  // This code path is only taken when native ShadowDOM is used\n  // if there is a shadowroot, it may have a node at x/y\n  // if there is not a shadowroot, exit the loop\n  while (next && next.shadowRoot && !window.ShadyDOM) {\n    // If there is a node at x/y in the shadowroot, look deeper\n    const oldNext = next;\n    next = next.shadowRoot.elementFromPoint(x, y);\n    // On Safari, elementFromPoint may return the shadowRoot host\n    if (oldNext === next) {\n      break;\n    }\n    if (next) {\n      node = next;\n    }\n  }\n  return node;\n}\n\n/**\n * A cheaper check than ev.composedPath()[0];\n *\n * @private\n * @param {Event|Touch} ev Event.\n * @return {EventTarget} Returns the event target.\n */\nfunction _findOriginalTarget(ev) {\n  const path = getComposedPath(/** @type {?Event} */ (ev));\n  // It shouldn't be, but sometimes path is empty (window on Safari).\n  return path.length > 0 ? path[0] : ev.target;\n}\n\n/**\n * @private\n * @param {Event} ev Event.\n * @return {void}\n */\nfunction _handleNative(ev) {\n  const type = ev.type;\n  const node = ev.currentTarget;\n  const gobj = node[GESTURE_KEY];\n  if (!gobj) {\n    return;\n  }\n  const gs = gobj[type];\n  if (!gs) {\n    return;\n  }\n  if (!ev[HANDLED_OBJ]) {\n    ev[HANDLED_OBJ] = {};\n    if (type.startsWith('touch')) {\n      const t = ev.changedTouches[0];\n      if (type === 'touchstart') {\n        // Only handle the first finger\n        if (ev.touches.length === 1) {\n          POINTERSTATE.touch.id = t.identifier;\n        }\n      }\n      if (POINTERSTATE.touch.id !== t.identifier) {\n        return;\n      }\n      if (!HAS_NATIVE_TA) {\n        if (type === 'touchstart' || type === 'touchmove') {\n          _handleTouchAction(ev);\n        }\n      }\n    }\n  }\n  const handled = ev[HANDLED_OBJ];\n  // Used to ignore synthetic mouse events\n  if (handled.skip) {\n    return;\n  }\n  // Reset recognizer state\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    if (gs[r.name] && !handled[r.name]) {\n      if (r.flow && r.flow.start.indexOf(ev.type) > -1 && r.reset) {\n        r.reset();\n      }\n    }\n  }\n  // Enforce gesture recognizer order\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    if (gs[r.name] && !handled[r.name]) {\n      handled[r.name] = true;\n      r[type](ev);\n    }\n  }\n}\n\n/**\n * @private\n * @param {TouchEvent} ev Event.\n * @return {void}\n */\nfunction _handleTouchAction(ev) {\n  const t = ev.changedTouches[0];\n  const type = ev.type;\n  if (type === 'touchstart') {\n    POINTERSTATE.touch.x = t.clientX;\n    POINTERSTATE.touch.y = t.clientY;\n    POINTERSTATE.touch.scrollDecided = false;\n  } else if (type === 'touchmove') {\n    if (POINTERSTATE.touch.scrollDecided) {\n      return;\n    }\n    POINTERSTATE.touch.scrollDecided = true;\n    const ta = firstTouchAction(ev);\n    let shouldPrevent = false;\n    const dx = Math.abs(POINTERSTATE.touch.x - t.clientX);\n    const dy = Math.abs(POINTERSTATE.touch.y - t.clientY);\n    if (!ev.cancelable) {\n      // Scrolling is happening\n    } else if (ta === 'none') {\n      shouldPrevent = true;\n    } else if (ta === 'pan-x') {\n      shouldPrevent = dy > dx;\n    } else if (ta === 'pan-y') {\n      shouldPrevent = dx > dy;\n    }\n    if (shouldPrevent) {\n      ev.preventDefault();\n    } else {\n      prevent('track');\n    }\n  }\n}\n\n/**\n * Adds an event listener to a node for the given gesture type.\n *\n * @param {!EventTarget} node Node to add listener on\n * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`\n * @param {!function(!Event):void} handler Event listener function to call\n * @return {boolean} Returns true if a gesture event listener was added.\n */\nexport function addListener(node, evType, handler) {\n  if (gestures[evType]) {\n    _add(node, evType, handler);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Removes an event listener from a node for the given gesture type.\n *\n * @param {!EventTarget} node Node to remove listener from\n * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`\n * @param {!function(!Event):void} handler Event listener function previously passed to\n *  `addListener`.\n * @return {boolean} Returns true if a gesture event listener was removed.\n */\nexport function removeListener(node, evType, handler) {\n  if (gestures[evType]) {\n    _remove(node, evType, handler);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Automate the event listeners for the native events\n *\n * @private\n * @param {!EventTarget} node Node on which to add the event.\n * @param {string} evType Event type to add.\n * @param {function(!Event)} handler Event handler function.\n * @return {void}\n */\nfunction _add(node, evType, handler) {\n  const recognizer = gestures[evType];\n  const deps = recognizer.deps;\n  const name = recognizer.name;\n  let gobj = node[GESTURE_KEY];\n  if (!gobj) {\n    node[GESTURE_KEY] = gobj = {};\n  }\n  for (let i = 0, dep, gd; i < deps.length; i++) {\n    dep = deps[i];\n    // Don't add mouse handlers on iOS because they cause gray selection overlays\n    if (IS_TOUCH_ONLY && isMouseEvent(dep) && dep !== 'click') {\n      continue;\n    }\n    gd = gobj[dep];\n    if (!gd) {\n      gobj[dep] = gd = { _count: 0 };\n    }\n    if (gd._count === 0) {\n      node.addEventListener(dep, _handleNative, PASSIVE_TOUCH(dep));\n    }\n    gd[name] = (gd[name] || 0) + 1;\n    gd._count = (gd._count || 0) + 1;\n  }\n  node.addEventListener(evType, handler);\n  if (recognizer.touchAction) {\n    setTouchAction(node, recognizer.touchAction);\n  }\n}\n\n/**\n * Automate event listener removal for native events\n *\n * @private\n * @param {!EventTarget} node Node on which to remove the event.\n * @param {string} evType Event type to remove.\n * @param {function(!Event): void} handler Event handler function.\n * @return {void}\n */\nfunction _remove(node, evType, handler) {\n  const recognizer = gestures[evType];\n  const deps = recognizer.deps;\n  const name = recognizer.name;\n  const gobj = node[GESTURE_KEY];\n  if (gobj) {\n    for (let i = 0, dep, gd; i < deps.length; i++) {\n      dep = deps[i];\n      gd = gobj[dep];\n      if (gd && gd[name]) {\n        gd[name] = (gd[name] || 1) - 1;\n        gd._count = (gd._count || 1) - 1;\n        if (gd._count === 0) {\n          node.removeEventListener(dep, _handleNative, PASSIVE_TOUCH(dep));\n        }\n      }\n    }\n  }\n  node.removeEventListener(evType, handler);\n}\n\n/**\n * Registers a new gesture event recognizer for adding new custom\n * gesture event types.\n *\n * @param {!GestureRecognizer} recog Gesture recognizer descriptor\n * @return {void}\n */\nexport function register(recog) {\n  recognizers.push(recog);\n  recog.emits.forEach((emit) => {\n    gestures[emit] = recog;\n  });\n}\n\n/**\n * @private\n * @param {string} evName Event name.\n * @return {Object} Returns the gesture for the given event name.\n */\nfunction _findRecognizerByEvent(evName) {\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    for (let j = 0, n; j < r.emits.length; j++) {\n      n = r.emits[j];\n      if (n === evName) {\n        return r;\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Sets scrolling direction on node.\n *\n * This value is checked on first move, thus it should be called prior to\n * adding event listeners.\n *\n * @param {!EventTarget} node Node to set touch action setting on\n * @param {string} value Touch action value\n * @return {void}\n */\nexport function setTouchAction(node, value) {\n  if (HAS_NATIVE_TA && node instanceof HTMLElement) {\n    // NOTE: add touchAction async so that events can be added in\n    // custom element constructors. Otherwise we run afoul of custom\n    // elements restriction against settings attributes (style) in the\n    // constructor.\n    microTask.run(() => {\n      node.style.touchAction = value;\n    });\n  }\n  node[TOUCH_ACTION] = value;\n}\n\n/**\n * Dispatches an event on the `target` element of `type` with the given\n * `detail`.\n * @private\n * @param {!EventTarget} target The element on which to fire an event.\n * @param {string} type The type of event to fire.\n * @param {!Object=} detail The detail object to populate on the event.\n * @return {void}\n */\nfunction _fire(target, type, detail) {\n  const ev = new Event(type, { bubbles: true, cancelable: true, composed: true });\n  ev.detail = detail;\n  wrap(/** @type {!Node} */ (target)).dispatchEvent(ev);\n  // Forward `preventDefault` in a clean way\n  if (ev.defaultPrevented) {\n    const preventer = detail.preventer || detail.sourceEvent;\n    if (preventer && preventer.preventDefault) {\n      preventer.preventDefault();\n    }\n  }\n}\n\n/**\n * Prevents the dispatch and default action of the given event name.\n *\n * @param {string} evName Event name.\n * @return {void}\n */\nexport function prevent(evName) {\n  const recognizer = _findRecognizerByEvent(evName);\n  if (recognizer.info) {\n    recognizer.info.prevent = true;\n  }\n}\n\nregister({\n  name: 'downup',\n  deps: ['mousedown', 'touchstart', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['mouseup', 'touchend'],\n  },\n  emits: ['down', 'up'],\n\n  info: {\n    movefn: null,\n    upfn: null,\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @return {void}\n   */\n  reset() {\n    untrackDocument(this.info);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  mousedown(e) {\n    if (!hasLeftMouseButton(e)) {\n      return;\n    }\n    const t = _findOriginalTarget(e);\n    const self = this;\n    const movefn = (e) => {\n      if (!hasLeftMouseButton(e)) {\n        downupFire('up', t, e);\n        untrackDocument(self.info);\n      }\n    };\n    const upfn = (e) => {\n      if (hasLeftMouseButton(e)) {\n        downupFire('up', t, e);\n      }\n      untrackDocument(self.info);\n    };\n    trackDocument(this.info, movefn, upfn);\n    downupFire('down', t, e);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchstart(e) {\n    downupFire('down', _findOriginalTarget(e), e.changedTouches[0], e);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchend(e) {\n    downupFire('up', _findOriginalTarget(e), e.changedTouches[0], e);\n  },\n});\n\n/**\n * @param {string} type\n * @param {EventTarget} target\n * @param {Event|Touch} event\n * @param {Event=} preventer\n * @return {void}\n */\nfunction downupFire(type, target, event, preventer) {\n  if (!target) {\n    return;\n  }\n  _fire(target, type, {\n    x: event.clientX,\n    y: event.clientY,\n    sourceEvent: event,\n    preventer,\n    prevent(e) {\n      return prevent(e);\n    },\n  });\n}\n\nregister({\n  name: 'track',\n  touchAction: 'none',\n  deps: ['mousedown', 'touchstart', 'touchmove', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['mouseup', 'touchend'],\n  },\n  emits: ['track'],\n\n  info: {\n    x: 0,\n    y: 0,\n    state: 'start',\n    started: false,\n    moves: [],\n    /** @this {GestureInfo} */\n    addMove(move) {\n      if (this.moves.length > TRACK_LENGTH) {\n        this.moves.shift();\n      }\n      this.moves.push(move);\n    },\n    movefn: null,\n    upfn: null,\n    prevent: false,\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @return {void}\n   */\n  reset() {\n    this.info.state = 'start';\n    this.info.started = false;\n    this.info.moves = [];\n    this.info.x = 0;\n    this.info.y = 0;\n    this.info.prevent = false;\n    untrackDocument(this.info);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  mousedown(e) {\n    if (!hasLeftMouseButton(e)) {\n      return;\n    }\n    const t = _findOriginalTarget(e);\n    const self = this;\n    const movefn = (e) => {\n      const x = e.clientX,\n        y = e.clientY;\n      if (trackHasMovedEnough(self.info, x, y)) {\n        // First move is 'start', subsequent moves are 'move', mouseup is 'end'\n        self.info.state = self.info.started ? (e.type === 'mouseup' ? 'end' : 'track') : 'start';\n        if (self.info.state === 'start') {\n          // If and only if tracking, always prevent tap\n          prevent('tap');\n        }\n        self.info.addMove({ x, y });\n        if (!hasLeftMouseButton(e)) {\n          // Always fire \"end\"\n          self.info.state = 'end';\n          untrackDocument(self.info);\n        }\n        if (t) {\n          trackFire(self.info, t, e);\n        }\n        self.info.started = true;\n      }\n    };\n    const upfn = (e) => {\n      if (self.info.started) {\n        movefn(e);\n      }\n\n      // Remove the temporary listeners\n      untrackDocument(self.info);\n    };\n    // Add temporary document listeners as mouse retargets\n    trackDocument(this.info, movefn, upfn);\n    this.info.x = e.clientX;\n    this.info.y = e.clientY;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchstart(e) {\n    const ct = e.changedTouches[0];\n    this.info.x = ct.clientX;\n    this.info.y = ct.clientY;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchmove(e) {\n    const t = _findOriginalTarget(e);\n    const ct = e.changedTouches[0];\n    const x = ct.clientX,\n      y = ct.clientY;\n    if (trackHasMovedEnough(this.info, x, y)) {\n      if (this.info.state === 'start') {\n        // If and only if tracking, always prevent tap\n        prevent('tap');\n      }\n      this.info.addMove({ x, y });\n      trackFire(this.info, t, ct);\n      this.info.state = 'track';\n      this.info.started = true;\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchend(e) {\n    const t = _findOriginalTarget(e);\n    const ct = e.changedTouches[0];\n    // Only trackend if track was started and not aborted\n    if (this.info.started) {\n      // Reset started state on up\n      this.info.state = 'end';\n      this.info.addMove({ x: ct.clientX, y: ct.clientY });\n      trackFire(this.info, t, ct);\n    }\n  },\n});\n\n/**\n * @param {!GestureInfo} info\n * @param {number} x\n * @param {number} y\n * @return {boolean}\n */\nfunction trackHasMovedEnough(info, x, y) {\n  if (info.prevent) {\n    return false;\n  }\n  if (info.started) {\n    return true;\n  }\n  const dx = Math.abs(info.x - x);\n  const dy = Math.abs(info.y - y);\n  return dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE;\n}\n\n/**\n * @param {!GestureInfo} info\n * @param {?EventTarget} target\n * @param {Touch} touch\n * @return {void}\n */\nfunction trackFire(info, target, touch) {\n  if (!target) {\n    return;\n  }\n  const secondlast = info.moves[info.moves.length - 2];\n  const lastmove = info.moves[info.moves.length - 1];\n  const dx = lastmove.x - info.x;\n  const dy = lastmove.y - info.y;\n  let ddx,\n    ddy = 0;\n  if (secondlast) {\n    ddx = lastmove.x - secondlast.x;\n    ddy = lastmove.y - secondlast.y;\n  }\n  _fire(target, 'track', {\n    state: info.state,\n    x: touch.clientX,\n    y: touch.clientY,\n    dx,\n    dy,\n    ddx,\n    ddy,\n    sourceEvent: touch,\n    hover() {\n      return deepTargetFind(touch.clientX, touch.clientY);\n    },\n  });\n}\n\nregister({\n  name: 'tap',\n  deps: ['mousedown', 'click', 'touchstart', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['click', 'touchend'],\n  },\n  emits: ['tap'],\n  info: {\n    x: NaN,\n    y: NaN,\n    prevent: false,\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @return {void}\n   */\n  reset() {\n    this.info.x = NaN;\n    this.info.y = NaN;\n    this.info.prevent = false;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  mousedown(e) {\n    if (hasLeftMouseButton(e)) {\n      this.info.x = e.clientX;\n      this.info.y = e.clientY;\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  click(e) {\n    if (hasLeftMouseButton(e)) {\n      trackForward(this.info, e);\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchstart(e) {\n    const touch = e.changedTouches[0];\n    this.info.x = touch.clientX;\n    this.info.y = touch.clientY;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchend(e) {\n    trackForward(this.info, e.changedTouches[0], e);\n  },\n});\n\n/**\n * @param {!GestureInfo} info\n * @param {Event | Touch} e\n * @param {Event=} preventer\n * @return {void}\n */\nfunction trackForward(info, e, preventer) {\n  const dx = Math.abs(e.clientX - info.x);\n  const dy = Math.abs(e.clientY - info.y);\n  // Find original target from `preventer` for TouchEvents, or `e` for MouseEvents\n  const t = _findOriginalTarget(preventer || e);\n  if (!t || (canBeDisabled[/** @type {!HTMLElement} */ (t).localName] && t.hasAttribute('disabled'))) {\n    return;\n  }\n  // Dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`\n  if (isNaN(dx) || isNaN(dy) || (dx <= TAP_DISTANCE && dy <= TAP_DISTANCE) || isSyntheticClick(e)) {\n    // Prevent taps from being generated if an event has canceled them\n    if (!info.prevent) {\n      _fire(t, 'tap', {\n        x: e.clientX,\n        y: e.clientY,\n        sourceEvent: e,\n        preventer,\n      });\n    }\n  }\n}\n","const appliedClassMixins = new WeakMap();\n\n/** Vefify if the Mixin was previously applyed\n * @private\n * @param {function} mixin      Mixin being applyed\n * @param {object} superClass   Class receiving the new mixin\n * @returns {boolean}\n */\nfunction wasMixinPreviouslyApplied(mixin, superClass) {\n  let klass = superClass;\n  while (klass) {\n    if (appliedClassMixins.get(klass) === mixin) {\n      return true;\n    }\n    klass = Object.getPrototypeOf(klass);\n  }\n  return false;\n}\n\n/** Apply each mixin in the chain to make sure they are not applied more than once to the final class.\n * @export\n * @param {function} mixin      Mixin to be applyed\n * @returns {object}            Mixed class with mixin applied\n */\nexport function dedupeMixin(mixin) {\n  return superClass => {\n    if (wasMixinPreviouslyApplied(mixin, superClass)) {\n      return superClass;\n    }\n    const mixedClass = mixin(superClass);\n    appliedClassMixins.set(mixedClass, mixin);\n    return mixedClass;\n  };\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * A mixin to provide disabled property for field components.\n *\n * @polymerMixin\n */\nexport const DisabledMixin = dedupeMixin(\n  (superclass) =>\n    class DisabledMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * If true, the user cannot interact with this element.\n           */\n          disabled: {\n            type: Boolean,\n            value: false,\n            observer: '_disabledChanged',\n            reflectToAttribute: true,\n            sync: true,\n          },\n        };\n      }\n\n      /**\n       * @param {boolean} disabled\n       * @protected\n       */\n      _disabledChanged(disabled) {\n        this._setAriaDisabled(disabled);\n      }\n\n      /**\n       * @param {boolean} disabled\n       * @protected\n       */\n      _setAriaDisabled(disabled) {\n        if (disabled) {\n          this.setAttribute('aria-disabled', 'true');\n        } else {\n          this.removeAttribute('aria-disabled');\n        }\n      }\n\n      /**\n       * Overrides the default element `click` method in order to prevent\n       * firing the `click` event when the element is disabled.\n       * @protected\n       * @override\n       */\n      click() {\n        if (!this.disabled) {\n          super.click();\n        }\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * A mixin that manages keyboard handling.\n * The mixin subscribes to the keyboard events while an actual implementation\n * for the event handlers is left to the client (a component or another mixin).\n *\n * @polymerMixin\n */\nexport const KeyboardMixin = dedupeMixin(\n  (superclass) =>\n    class KeyboardMixinClass extends superclass {\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this.addEventListener('keydown', (event) => {\n          this._onKeyDown(event);\n        });\n\n        this.addEventListener('keyup', (event) => {\n          this._onKeyUp(event);\n        });\n      }\n\n      /**\n       * A handler for the `keydown` event. By default, it calls\n       * separate methods for handling \"Enter\" and \"Escape\" keys.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} event\n       * @protected\n       */\n      _onKeyDown(event) {\n        switch (event.key) {\n          case 'Enter':\n            this._onEnter(event);\n            break;\n          case 'Escape':\n            this._onEscape(event);\n            break;\n          default:\n            break;\n        }\n      }\n\n      /**\n       * A handler for the `keyup` event. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} _event\n       * @protected\n       */\n      _onKeyUp(_event) {\n        // To be implemented.\n      }\n\n      /**\n       * A handler for the \"Enter\" key. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} _event\n       * @protected\n       */\n      _onEnter(_event) {\n        // To be implemented.\n      }\n\n      /**\n       * A handler for the \"Escape\" key. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} _event\n       * @protected\n       */\n      _onEscape(_event) {\n        // To be implemented.\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\nimport { DisabledMixin } from './disabled-mixin.js';\nimport { KeyboardMixin } from './keyboard-mixin.js';\n\n/**\n * A mixin to toggle the `active` attribute.\n *\n * The attribute is set whenever the user activates the element by a pointer\n * or presses an activation key on the element from the keyboard.\n *\n * The attribute is removed as soon as the element is deactivated\n * by the pointer or by releasing the activation key.\n *\n * @polymerMixin\n * @mixes DisabledMixin\n * @mixes KeyboardMixin\n */\nexport const ActiveMixin = (superclass) =>\n  class ActiveMixinClass extends DisabledMixin(KeyboardMixin(superclass)) {\n    /**\n     * An array of activation keys.\n     *\n     * See possible values here:\n     * https://developer.mozilla.org/ru/docs/Web/API/KeyboardEvent/key/Key_Values\n     *\n     * @protected\n     * @return {!Array<!string>}\n     */\n    get _activeKeys() {\n      return [' '];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      addListener(this, 'down', (event) => {\n        if (this._shouldSetActive(event)) {\n          this._setActive(true);\n        }\n      });\n\n      addListener(this, 'up', () => {\n        this._setActive(false);\n      });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      // When the element is disconnecting from the DOM at the moment being active,\n      // the `active` attribute needs to be manually removed from the element.\n      // Otherwise, it will preserve on the element until the element is activated once again.\n      // The case reproduces for `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n      this._setActive(false);\n    }\n\n    /**\n     * @param {KeyboardEvent | MouseEvent} _event\n     * @protected\n     */\n    _shouldSetActive(_event) {\n      return !this.disabled;\n    }\n\n    /**\n     * Sets the `active` attribute on the element if an activation key is pressed.\n     *\n     * @param {KeyboardEvent} event\n     * @protected\n     * @override\n     */\n    _onKeyDown(event) {\n      super._onKeyDown(event);\n\n      if (this._shouldSetActive(event) && this._activeKeys.includes(event.key)) {\n        this._setActive(true);\n\n        // Element can become hidden before the `keyup` event, e.g. on button click.\n        // Use document listener to ensure `active` attribute is removed correctly.\n        document.addEventListener(\n          'keyup',\n          (e) => {\n            if (this._activeKeys.includes(e.key)) {\n              this._setActive(false);\n            }\n          },\n          { once: true },\n        );\n      }\n    }\n\n    /**\n     * Toggles the `active` attribute on the element.\n     *\n     * @param {boolean} active\n     * @protected\n     */\n    _setActive(active) {\n      this.toggleAttribute('active', active);\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n// We consider the keyboard to be active if the window has received a keydown\n// event since the last mousedown event.\nlet keyboardActive = false;\n\n// Listen for top-level keydown and mousedown events.\n// Use capture phase so we detect events even if they're handled.\nwindow.addEventListener(\n  'keydown',\n  () => {\n    keyboardActive = true;\n  },\n  { capture: true },\n);\n\nwindow.addEventListener(\n  'mousedown',\n  () => {\n    keyboardActive = false;\n  },\n  { capture: true },\n);\n\n/**\n * Returns the actually focused element by traversing shadow\n * trees recursively to ensure it's the leaf element.\n *\n * @return {Element}\n */\nexport function getDeepActiveElement() {\n  let host = document.activeElement || document.body;\n  while (host.shadowRoot && host.shadowRoot.activeElement) {\n    host = host.shadowRoot.activeElement;\n  }\n  return host;\n}\n\n/**\n * Returns true if the window has received a keydown\n * event since the last mousedown event.\n *\n * @return {boolean}\n */\nexport function isKeyboardActive() {\n  return keyboardActive;\n}\n\n/**\n * Returns true if the element is hidden directly with `display: none` or `visibility: hidden`,\n * false otherwise.\n *\n * The method doesn't traverse the element's ancestors, it only checks for the CSS properties\n * set directly to or inherited by the element.\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nfunction isElementHiddenDirectly(element) {\n  // Check inline style first to save a re-flow.\n  const style = element.style;\n  if (style.visibility === 'hidden' || style.display === 'none') {\n    return true;\n  }\n\n  const computedStyle = window.getComputedStyle(element);\n  if (computedStyle.visibility === 'hidden' || computedStyle.display === 'none') {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Returns if element `a` has lower tab order compared to element `b`\n * (both elements are assumed to be focusable and tabbable).\n * Elements with tabindex = 0 have lower tab order compared to elements\n * with tabindex > 0.\n * If both have same tabindex, it returns false.\n *\n * @param {HTMLElement} a\n * @param {HTMLElement} b\n * @return {boolean}\n */\nfunction hasLowerTabOrder(a, b) {\n  // Normalize tabIndexes\n  // e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\n  const ati = Math.max(a.tabIndex, 0);\n  const bti = Math.max(b.tabIndex, 0);\n  return ati === 0 || bti === 0 ? bti > ati : ati > bti;\n}\n\n/**\n * Merge sort iterator, merges the two arrays into one, sorted by tabindex.\n *\n * @param {HTMLElement[]} left\n * @param {HTMLElement[]} right\n * @return {HTMLElement[]}\n */\nfunction mergeSortByTabIndex(left, right) {\n  const result = [];\n  while (left.length > 0 && right.length > 0) {\n    if (hasLowerTabOrder(left[0], right[0])) {\n      result.push(right.shift());\n    } else {\n      result.push(left.shift());\n    }\n  }\n\n  return result.concat(left, right);\n}\n\n/**\n * Sorts an array of elements by tabindex. Returns a new array.\n *\n * @param {HTMLElement[]} elements\n * @return {HTMLElement[]}\n */\nfunction sortElementsByTabIndex(elements) {\n  // Implement a merge sort as Array.prototype.sort does a non-stable sort\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n  const len = elements.length;\n  if (len < 2) {\n    return elements;\n  }\n  const pivot = Math.ceil(len / 2);\n  const left = sortElementsByTabIndex(elements.slice(0, pivot));\n  const right = sortElementsByTabIndex(elements.slice(pivot));\n\n  return mergeSortByTabIndex(left, right);\n}\n\n/**\n * Returns true if the element is hidden, false otherwise.\n *\n * An element is treated as hidden when any of the following conditions are met:\n * - the element itself or one of its ancestors has `display: none`.\n * - the element has or inherits `visibility: hidden`.\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nexport function isElementHidden(element) {\n  if (element.checkVisibility) {\n    return !element.checkVisibility({ visibilityProperty: true });\n  }\n\n  // TODO: checkVisibility is supported only from Safari 17.4, so we still need to\n  // keep the custom implementation as a fallback for older versions until Vaadin 25:\n\n  // `offsetParent` is `null` when the element itself\n  // or one of its ancestors is hidden with `display: none`.\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n  // However `offsetParent` is also null when the element is using fixed\n  // positioning, so additionally check if the element takes up layout space.\n  if (element.offsetParent === null && element.clientWidth === 0 && element.clientHeight === 0) {\n    return true;\n  }\n\n  return isElementHiddenDirectly(element);\n}\n\n/**\n * Returns true if the element is focusable, otherwise false.\n *\n * The list of focusable elements is taken from http://stackoverflow.com/a/1600194/4228703.\n * However, there isn't a definite list, it's up to the browser.\n * The only standard we have is DOM Level 2 HTML https://www.w3.org/TR/DOM-Level-2-HTML/html.html,\n * according to which the only elements that have a `focus()` method are:\n * - HTMLInputElement\n * - HTMLSelectElement\n * - HTMLTextAreaElement\n * - HTMLAnchorElement\n *\n * This notably omits HTMLButtonElement and HTMLAreaElement.\n * Referring to these tests with tabbables in different browsers\n * http://allyjs.io/data-tables/focusable.html\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nexport function isElementFocusable(element) {\n  // The element cannot be focused if its `tabindex` attribute is set to `-1`.\n  if (element.matches('[tabindex=\"-1\"]')) {\n    return false;\n  }\n\n  // Elements that cannot be focused if they have a `disabled` attribute.\n  if (element.matches('input, select, textarea, button, object')) {\n    return element.matches(':not([disabled])');\n  }\n\n  // Elements that can be focused even if they have a `disabled` attribute.\n  return element.matches('a[href], area[href], iframe, [tabindex], [contentEditable]');\n}\n\n/**\n * Returns true if the element is focused, false otherwise.\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nexport function isElementFocused(element) {\n  return element.getRootNode().activeElement === element;\n}\n\n/**\n * Returns the normalized element tabindex. If not focusable, returns -1.\n * It checks for the attribute \"tabindex\" instead of the element property\n * `tabIndex` since browsers assign different values to it.\n * e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\n *\n * @param {HTMLElement} element\n * @return {number}\n */\nfunction normalizeTabIndex(element) {\n  if (!isElementFocusable(element)) {\n    return -1;\n  }\n\n  const tabIndex = element.getAttribute('tabindex') || 0;\n  return Number(tabIndex);\n}\n\n/**\n * Searches for nodes that are tabbable and adds them to the `result` array.\n * Returns if the `result` array needs to be sorted by tabindex.\n *\n * @param {Node} node The starting point for the search; added to `result` if tabbable.\n * @param {HTMLElement[]} result\n * @return {boolean}\n * @private\n */\nfunction collectFocusableNodes(node, result) {\n  if (node.nodeType !== Node.ELEMENT_NODE || isElementHiddenDirectly(node)) {\n    // Don't traverse children if the node is not an HTML element or not visible.\n    return false;\n  }\n\n  const element = /** @type {HTMLElement} */ (node);\n  const tabIndex = normalizeTabIndex(element);\n  let needsSort = tabIndex > 0;\n  if (tabIndex >= 0) {\n    result.push(element);\n  }\n\n  let children = [];\n  if (element.localName === 'slot') {\n    children = element.assignedNodes({ flatten: true });\n  } else {\n    // Use shadow root if possible, will check for distributed nodes.\n    children = (element.shadowRoot || element).children;\n  }\n  [...children].forEach((child) => {\n    // Ensure method is always invoked to collect focusable children.\n    needsSort = collectFocusableNodes(child, result) || needsSort;\n  });\n  return needsSort;\n}\n\n/**\n * Returns a tab-ordered array of focusable elements for a root element.\n * The resulting array will include the root element if it is focusable.\n *\n * The method traverses nodes in shadow DOM trees too if any.\n *\n * @param {HTMLElement} element\n * @return {HTMLElement[]}\n */\nexport function getFocusableElements(element) {\n  const focusableElements = [];\n  const needsSortByTabIndex = collectFocusableNodes(element, focusableElements);\n  // If there is at least one element with tabindex > 0,\n  // we need to sort the final array by tabindex.\n  if (needsSortByTabIndex) {\n    return sortElementsByTabIndex(focusableElements);\n  }\n  return focusableElements;\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { isKeyboardActive } from './focus-utils.js';\n\n/**\n * A mixin to handle `focused` and `focus-ring` attributes based on focus.\n *\n * @polymerMixin\n */\nexport const FocusMixin = dedupeMixin(\n  (superclass) =>\n    class FocusMixinClass extends superclass {\n      /**\n       * @protected\n       * @return {boolean}\n       */\n      get _keyboardActive() {\n        return isKeyboardActive();\n      }\n\n      /** @protected */\n      ready() {\n        this.addEventListener('focusin', (e) => {\n          if (this._shouldSetFocus(e)) {\n            this._setFocused(true);\n          }\n        });\n\n        this.addEventListener('focusout', (e) => {\n          if (this._shouldRemoveFocus(e)) {\n            this._setFocused(false);\n          }\n        });\n\n        // In super.ready() other 'focusin' and 'focusout' listeners might be\n        // added, so we call it after our own ones to ensure they execute first.\n        // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\n        // input field on iOS after \"Done\" is pressed.\n        super.ready();\n      }\n\n      /** @protected */\n      disconnectedCallback() {\n        super.disconnectedCallback();\n\n        // In non-Chrome browsers, blur does not fire on the element when it is disconnected.\n        // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n        if (this.hasAttribute('focused')) {\n          this._setFocused(false);\n        }\n      }\n\n      /**\n       * Override to change how focused and focus-ring attributes are set.\n       *\n       * @param {boolean} focused\n       * @protected\n       */\n      _setFocused(focused) {\n        this.toggleAttribute('focused', focused);\n\n        // Focus-ring is true when the element was focused from the keyboard.\n        // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\n        this.toggleAttribute('focus-ring', focused && this._keyboardActive);\n      }\n\n      /**\n       * Override to define if the field receives focus based on the event.\n       *\n       * @param {FocusEvent} _event\n       * @return {boolean}\n       * @protected\n       */\n      _shouldSetFocus(_event) {\n        return true;\n      }\n\n      /**\n       * Override to define if the field loses focus based on the event.\n       *\n       * @param {FocusEvent} _event\n       * @return {boolean}\n       * @protected\n       */\n      _shouldRemoveFocus(_event) {\n        return true;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { DisabledMixin } from './disabled-mixin.js';\n\n/**\n * A mixin to toggle the `tabindex` attribute.\n *\n * The attribute is set to -1 whenever the user disables the element\n * and restored with the last known value once the element is enabled.\n *\n * @polymerMixin\n * @mixes DisabledMixin\n */\nexport const TabindexMixin = (superclass) =>\n  class TabindexMixinClass extends DisabledMixin(superclass) {\n    static get properties() {\n      return {\n        /**\n         * Indicates whether the element can be focused and where it participates in sequential keyboard navigation.\n         *\n         * @protected\n         */\n        tabindex: {\n          type: Number,\n          reflectToAttribute: true,\n          observer: '_tabindexChanged',\n          sync: true,\n        },\n\n        /**\n         * Stores the last known tabindex since the element has been disabled.\n         *\n         * @protected\n         */\n        _lastTabIndex: {\n          type: Number,\n        },\n      };\n    }\n\n    /**\n     * When the element gets disabled, the observer saves the last known tabindex\n     * and makes the element not focusable by setting tabindex to -1.\n     * As soon as the element gets enabled, the observer restores the last known tabindex\n     * so that the element can be focusable again.\n     *\n     * @protected\n     * @override\n     */\n    _disabledChanged(disabled, oldDisabled) {\n      super._disabledChanged(disabled, oldDisabled);\n\n      if (this.__shouldAllowFocusWhenDisabled()) {\n        return;\n      }\n\n      if (disabled) {\n        if (this.tabindex !== undefined) {\n          this._lastTabIndex = this.tabindex;\n        }\n        this.setAttribute('tabindex', '-1');\n      } else if (oldDisabled) {\n        if (this._lastTabIndex !== undefined) {\n          this.setAttribute('tabindex', this._lastTabIndex);\n        } else {\n          this.tabindex = undefined;\n        }\n      }\n    }\n\n    /**\n     * When the user has changed tabindex while the element is disabled,\n     * the observer reverts tabindex to -1 and rather saves the new tabindex value to apply it later.\n     * The new value will be applied as soon as the element becomes enabled.\n     *\n     * @protected\n     */\n    _tabindexChanged(tabindex) {\n      if (this.__shouldAllowFocusWhenDisabled()) {\n        return;\n      }\n\n      if (this.disabled && tabindex !== -1) {\n        this._lastTabIndex = tabindex;\n        this.setAttribute('tabindex', '-1');\n      }\n    }\n\n    /**\n     * Overrides the native `focus` method in order to prevent\n     * focusing the element when it is disabled. Note, setting\n     * `tabindex` to -1 does not prevent the element from being\n     * programmatically focusable.\n     *\n     * @protected\n     * @override\n     */\n    focus() {\n      if (!this.disabled || this.__shouldAllowFocusWhenDisabled()) {\n        super.focus();\n      }\n    }\n\n    /**\n     * Returns whether the component should be focusable when disabled.\n     * Returns false by default.\n     *\n     * @private\n     * @return {boolean}\n     */\n    __shouldAllowFocusWhenDisabled() {\n      return false;\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { FocusMixin } from './focus-mixin.js';\nimport { TabindexMixin } from './tabindex-mixin.js';\n\n/**\n * A mixin to forward focus to an element in the light DOM.\n *\n * @polymerMixin\n * @mixes FocusMixin\n * @mixes TabindexMixin\n */\nexport const DelegateFocusMixin = dedupeMixin(\n  (superclass) =>\n    class DelegateFocusMixinClass extends FocusMixin(TabindexMixin(superclass)) {\n      static get properties() {\n        return {\n          /**\n           * Specify that this control should have input focus when the page loads.\n           */\n          autofocus: {\n            type: Boolean,\n          },\n\n          /**\n           * A reference to the focusable element controlled by the mixin.\n           * It can be an input, textarea, button or any element with tabindex > -1.\n           *\n           * Any component implementing this mixin is expected to provide it\n           * by using `this._setFocusElement(input)` Polymer API.\n           *\n           * Toggling `tabindex` attribute on the host element propagates its value to `focusElement`.\n           *\n           * @protected\n           * @type {!HTMLElement}\n           */\n          focusElement: {\n            type: Object,\n            readOnly: true,\n            observer: '_focusElementChanged',\n            sync: true,\n          },\n\n          /**\n           * Override the property from `TabIndexMixin`\n           * to ensure the `tabindex` attribute of the focus element\n           * will be restored to `0` after re-enabling the element.\n           *\n           * @protected\n           * @override\n           */\n          _lastTabIndex: {\n            value: 0,\n          },\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._boundOnBlur = this._onBlur.bind(this);\n        this._boundOnFocus = this._onFocus.bind(this);\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        if (this.autofocus && !this.disabled) {\n          requestAnimationFrame(() => {\n            this.focus();\n            this.setAttribute('focus-ring', '');\n          });\n        }\n      }\n\n      /**\n       * @protected\n       * @override\n       */\n      focus() {\n        if (this.focusElement && !this.disabled) {\n          this.focusElement.focus();\n        }\n      }\n\n      /**\n       * @protected\n       * @override\n       */\n      blur() {\n        if (this.focusElement) {\n          this.focusElement.blur();\n        }\n      }\n\n      /**\n       * @protected\n       * @override\n       */\n      click() {\n        if (this.focusElement && !this.disabled) {\n          this.focusElement.click();\n        }\n      }\n\n      /** @protected */\n      _focusElementChanged(element, oldElement) {\n        if (element) {\n          element.disabled = this.disabled;\n          this._addFocusListeners(element);\n          this.__forwardTabIndex(this.tabindex);\n        } else if (oldElement) {\n          this._removeFocusListeners(oldElement);\n        }\n      }\n\n      /**\n       * @param {HTMLElement} element\n       * @protected\n       */\n      _addFocusListeners(element) {\n        element.addEventListener('blur', this._boundOnBlur);\n        element.addEventListener('focus', this._boundOnFocus);\n      }\n\n      /**\n       * @param {HTMLElement} element\n       * @protected\n       */\n      _removeFocusListeners(element) {\n        element.removeEventListener('blur', this._boundOnBlur);\n        element.removeEventListener('focus', this._boundOnFocus);\n      }\n\n      /**\n       * Focus event does not bubble, so we dispatch it manually\n       * on the host element to support adding focus listeners\n       * when the focusable element is placed in light DOM.\n       * @param {FocusEvent} event\n       * @protected\n       */\n      _onFocus(event) {\n        event.stopPropagation();\n        this.dispatchEvent(new Event('focus'));\n      }\n\n      /**\n       * Blur event does not bubble, so we dispatch it manually\n       * on the host element to support adding blur listeners\n       * when the focusable element is placed in light DOM.\n       * @param {FocusEvent} event\n       * @protected\n       */\n      _onBlur(event) {\n        event.stopPropagation();\n        this.dispatchEvent(new Event('blur'));\n      }\n\n      /**\n       * @param {FocusEvent} event\n       * @return {boolean}\n       * @protected\n       * @override\n       */\n      _shouldSetFocus(event) {\n        return event.target === this.focusElement;\n      }\n\n      /**\n       * @param {FocusEvent} event\n       * @return {boolean}\n       * @protected\n       * @override\n       */\n      _shouldRemoveFocus(event) {\n        return event.target === this.focusElement;\n      }\n\n      /**\n       * @param {boolean} disabled\n       * @param {boolean} oldDisabled\n       * @protected\n       * @override\n       */\n      _disabledChanged(disabled, oldDisabled) {\n        super._disabledChanged(disabled, oldDisabled);\n\n        if (this.focusElement) {\n          this.focusElement.disabled = disabled;\n        }\n\n        if (disabled) {\n          this.blur();\n        }\n      }\n\n      /**\n       * Override an observer from `TabindexMixin`.\n       * Do not call super to remove tabindex attribute\n       * from the host after it has been forwarded.\n       * @param {string} tabindex\n       * @protected\n       * @override\n       */\n      _tabindexChanged(tabindex) {\n        this.__forwardTabIndex(tabindex);\n      }\n\n      /** @private */\n      __forwardTabIndex(tabindex) {\n        if (tabindex !== undefined && this.focusElement) {\n          this.focusElement.tabIndex = tabindex;\n\n          // Preserve tabindex=\"-1\" on the host element\n          if (tabindex !== -1) {\n            this.tabindex = undefined;\n          }\n        }\n\n        if (this.disabled && tabindex) {\n          // If tabindex attribute was changed while component was disabled\n          if (tabindex !== -1) {\n            this._lastTabIndex = tabindex;\n          }\n          this.tabindex = undefined;\n        }\n\n        // Lit does not remove attribute when setting property to undefined\n        if (tabindex === undefined && this.hasAttribute('tabindex')) {\n          this.removeAttribute('tabindex');\n        }\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\nconst stylesMap = new WeakMap();\n\n/**\n * Get all the styles inserted into root.\n * @param {DocumentOrShadowRoot} root\n * @return {Set<string>}\n */\nfunction getRootStyles(root) {\n  if (!stylesMap.has(root)) {\n    stylesMap.set(root, new Set());\n  }\n\n  return stylesMap.get(root);\n}\n\n/**\n * Insert styles into the root.\n * @param {string} styles\n * @param {DocumentOrShadowRoot} root\n */\nfunction insertStyles(styles, root) {\n  const style = document.createElement('style');\n  style.textContent = styles;\n\n  if (root === document) {\n    document.head.appendChild(style);\n  } else {\n    root.insertBefore(style, root.firstChild);\n  }\n}\n\n/**\n * Mixin to insert styles into the outer scope to handle slotted components.\n * This is useful e.g. to hide native `<input type=\"number\">` controls.\n *\n * @polymerMixin\n */\nexport const SlotStylesMixin = dedupeMixin(\n  (superclass) =>\n    class SlotStylesMixinClass extends superclass {\n      /**\n       * List of styles to insert into root.\n       * @protected\n       */\n      get slotStyles() {\n        return [];\n      }\n\n      /** @protected */\n      connectedCallback() {\n        super.connectedCallback();\n\n        this.__applySlotStyles();\n      }\n\n      /** @private */\n      __applySlotStyles() {\n        const root = this.getRootNode();\n        const rootStyles = getRootStyles(root);\n\n        this.slotStyles.forEach((styles) => {\n          if (!rootStyles.has(styles)) {\n            insertStyles(styles, root);\n            rootStyles.add(styles);\n          }\n        });\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * A mixin to delegate properties and attributes to a target element.\n *\n * @polymerMixin\n */\nexport const DelegateStateMixin = dedupeMixin(\n  (superclass) =>\n    class DelegateStateMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * A target element to which attributes and properties are delegated.\n           * @protected\n           */\n          stateTarget: {\n            type: Object,\n            observer: '_stateTargetChanged',\n          },\n        };\n      }\n\n      /**\n       * An array of the host attributes to delegate to the target element.\n       */\n      static get delegateAttrs() {\n        return [];\n      }\n\n      /**\n       * An array of the host properties to delegate to the target element.\n       */\n      static get delegateProps() {\n        return [];\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this._createDelegateAttrsObserver();\n        this._createDelegatePropsObserver();\n      }\n\n      /** @protected */\n      _stateTargetChanged(target) {\n        if (target) {\n          this._ensureAttrsDelegated();\n          this._ensurePropsDelegated();\n        }\n      }\n\n      /** @protected */\n      _createDelegateAttrsObserver() {\n        this._createMethodObserver(`_delegateAttrsChanged(${this.constructor.delegateAttrs.join(', ')})`);\n      }\n\n      /** @protected */\n      _createDelegatePropsObserver() {\n        this._createMethodObserver(`_delegatePropsChanged(${this.constructor.delegateProps.join(', ')})`);\n      }\n\n      /** @protected */\n      _ensureAttrsDelegated() {\n        this.constructor.delegateAttrs.forEach((name) => {\n          this._delegateAttribute(name, this[name]);\n        });\n      }\n\n      /** @protected */\n      _ensurePropsDelegated() {\n        this.constructor.delegateProps.forEach((name) => {\n          this._delegateProperty(name, this[name]);\n        });\n      }\n\n      /** @protected */\n      _delegateAttrsChanged(...values) {\n        this.constructor.delegateAttrs.forEach((name, index) => {\n          this._delegateAttribute(name, values[index]);\n        });\n      }\n\n      /** @protected */\n      _delegatePropsChanged(...values) {\n        this.constructor.delegateProps.forEach((name, index) => {\n          this._delegateProperty(name, values[index]);\n        });\n      }\n\n      /** @protected */\n      _delegateAttribute(name, value) {\n        if (!this.stateTarget) {\n          return;\n        }\n\n        if (name === 'invalid') {\n          this._delegateAttribute('aria-invalid', value ? 'true' : false);\n        }\n\n        if (typeof value === 'boolean') {\n          this.stateTarget.toggleAttribute(name, value);\n        } else if (value) {\n          this.stateTarget.setAttribute(name, value);\n        } else {\n          this.stateTarget.removeAttribute(name);\n        }\n      }\n\n      /** @protected */\n      _delegateProperty(name, value) {\n        if (!this.stateTarget) {\n          return;\n        }\n\n        this.stateTarget[name] = value;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * A mixin to store the reference to an input element\n * and add input and change event listeners to it.\n *\n * @polymerMixin\n */\nexport const InputMixin = dedupeMixin(\n  (superclass) =>\n    class InputMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * A reference to the input element controlled by the mixin.\n           * Any component implementing this mixin is expected to provide it\n           * by using `this._setInputElement(input)` Polymer API.\n           *\n           * A typical case is using `InputController` that does this automatically.\n           * However, the input element does not have to always be native <input>:\n           * as an example, <vaadin-combo-box-light> accepts other components.\n           *\n           * @protected\n           * @type {!HTMLElement}\n           */\n          inputElement: {\n            type: Object,\n            readOnly: true,\n            observer: '_inputElementChanged',\n            sync: true,\n          },\n\n          /**\n           * String used to define input type.\n           * @protected\n           */\n          type: {\n            type: String,\n            readOnly: true,\n          },\n\n          /**\n           * The value of the field.\n           */\n          value: {\n            type: String,\n            value: '',\n            observer: '_valueChanged',\n            notify: true,\n            sync: true,\n          },\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._boundOnInput = this._onInput.bind(this);\n        this._boundOnChange = this._onChange.bind(this);\n      }\n\n      /**\n       * Indicates whether the value is different from the default one.\n       * Override if the `value` property has a type other than `string`.\n       *\n       * @protected\n       */\n      get _hasValue() {\n        return this.value != null && this.value !== '';\n      }\n\n      /**\n       * A property for accessing the input element's value.\n       *\n       * Override this getter if the property is different from the default `value` one.\n       *\n       * @protected\n       * @return {string}\n       */\n      get _inputElementValueProperty() {\n        return 'value';\n      }\n\n      /**\n       * The input element's value.\n       *\n       * @protected\n       * @return {string}\n       */\n      get _inputElementValue() {\n        return this.inputElement ? this.inputElement[this._inputElementValueProperty] : undefined;\n      }\n\n      /**\n       * The input element's value.\n       *\n       * @protected\n       */\n      set _inputElementValue(value) {\n        if (this.inputElement) {\n          this.inputElement[this._inputElementValueProperty] = value;\n        }\n      }\n\n      /**\n       * Clear the value of the field.\n       */\n      clear() {\n        this.value = '';\n\n        // Clear the input immediately without waiting for the observer.\n        // Otherwise, when using Lit, the old value would be restored.\n        this._inputElementValue = '';\n      }\n\n      /**\n       * Add event listeners to the input element instance.\n       * Override this method to add custom listeners.\n       * @param {!HTMLElement} input\n       * @protected\n       */\n      _addInputListeners(input) {\n        input.addEventListener('input', this._boundOnInput);\n        input.addEventListener('change', this._boundOnChange);\n      }\n\n      /**\n       * Remove event listeners from the input element instance.\n       * @param {!HTMLElement} input\n       * @protected\n       */\n      _removeInputListeners(input) {\n        input.removeEventListener('input', this._boundOnInput);\n        input.removeEventListener('change', this._boundOnChange);\n      }\n\n      /**\n       * A method to forward the value property set on the field\n       * programmatically back to the input element value.\n       * Override this method to perform additional checks,\n       * for example to skip this in certain conditions.\n       * @param {string} value\n       * @protected\n       */\n      _forwardInputValue(value) {\n        // Value might be set before an input element is initialized.\n        // This case should be handled separately by a component that\n        // implements this mixin, for example in `connectedCallback`.\n        if (!this.inputElement) {\n          return;\n        }\n\n        this._inputElementValue = value != null ? value : '';\n      }\n\n      /**\n       * @param {HTMLElement | undefined} input\n       * @param {HTMLElement | undefined} oldInput\n       * @protected\n       */\n      _inputElementChanged(input, oldInput) {\n        if (input) {\n          this._addInputListeners(input);\n        } else if (oldInput) {\n          this._removeInputListeners(oldInput);\n        }\n      }\n\n      /**\n       * An input event listener used to update the field value.\n       *\n       * @param {Event} event\n       * @protected\n       */\n      _onInput(event) {\n        // In the case a custom web component is passed as `inputElement`,\n        // the actual native input element, on which the event occurred,\n        // can be inside shadow trees.\n        const target = event.composedPath()[0];\n        // Ignore fake input events e.g. used by clear button.\n        this.__userInput = event.isTrusted;\n        this.value = target.value;\n        this.__userInput = false;\n      }\n\n      /**\n       * A change event listener.\n       * Override this method with an actual implementation.\n       * @param {Event} _event\n       * @protected\n       */\n      _onChange(_event) {}\n\n      /**\n       * Toggle the has-value attribute based on the value property.\n       *\n       * @param {boolean} hasValue\n       * @protected\n       */\n      _toggleHasValue(hasValue) {\n        this.toggleAttribute('has-value', hasValue);\n      }\n\n      /**\n       * Observer called when a value property changes.\n       * @param {string | undefined} newVal\n       * @param {string | undefined} oldVal\n       * @protected\n       */\n      _valueChanged(newVal, oldVal) {\n        this._toggleHasValue(this._hasValue);\n\n        // Setting initial value to empty string, do nothing.\n        if (newVal === '' && oldVal === undefined) {\n          return;\n        }\n\n        // Value is set by the user, no need to sync it back to input.\n        if (this.__userInput) {\n          return;\n        }\n\n        // Setting a value programmatically, sync it to input element.\n        this._forwardInputValue(newVal);\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { DisabledMixin } from '@vaadin/a11y-base/src/disabled-mixin.js';\nimport { DelegateStateMixin } from '@vaadin/component-base/src/delegate-state-mixin.js';\nimport { InputMixin } from './input-mixin.js';\n\n/**\n * A mixin to manage the checked state.\n *\n * @polymerMixin\n * @mixes DelegateStateMixin\n * @mixes DisabledMixin\n * @mixes InputMixin\n */\nexport const CheckedMixin = dedupeMixin(\n  (superclass) =>\n    class CheckedMixinClass extends DelegateStateMixin(DisabledMixin(InputMixin(superclass))) {\n      static get properties() {\n        return {\n          /**\n           * True if the element is checked.\n           * @type {boolean}\n           */\n          checked: {\n            type: Boolean,\n            value: false,\n            notify: true,\n            reflectToAttribute: true,\n            sync: true,\n          },\n        };\n      }\n\n      static get delegateProps() {\n        return [...super.delegateProps, 'checked'];\n      }\n\n      /**\n       * @param {Event} event\n       * @protected\n       * @override\n       */\n      _onChange(event) {\n        const input = event.target;\n\n        this._toggleChecked(input.checked);\n      }\n\n      /** @protected */\n      _toggleChecked(checked) {\n        this.checked = checked;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2023 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport {\n  addValueToAttribute,\n  deserializeAttributeValue,\n  removeValueFromAttribute,\n  serializeAttributeValue,\n} from '@vaadin/component-base/src/dom-utils.js';\n\nconst attributeToTargets = new Map();\n\n/**\n * Gets or creates a Set with the stored values for each element controlled by this helper\n *\n * @param {string} attr the attribute name used as key in the map\n *\n * @returns {WeakMap<HTMLElement, Set<string>} a weak map with the stored values for the elements being controlled by the helper\n */\nfunction getAttrMap(attr) {\n  if (!attributeToTargets.has(attr)) {\n    attributeToTargets.set(attr, new WeakMap());\n  }\n  return attributeToTargets.get(attr);\n}\n\n/**\n * Cleans the values set on the attribute to the given element.\n * It also stores the current values in the map, if `storeValue` is `true`.\n *\n * @param {HTMLElement} target\n * @param {string} attr the attribute to be cleared\n * @param {boolean} storeValue whether or not the current value of the attribute should be stored on the map\n * @returns\n */\nfunction cleanAriaIDReference(target, attr) {\n  if (!target) {\n    return;\n  }\n\n  target.removeAttribute(attr);\n}\n\n/**\n * Storing values of the accessible attributes in a Set inside of the WeakMap.\n *\n * @param {HTMLElement} target\n * @param {string} attr the attribute to be stored\n */\nfunction storeAriaIDReference(target, attr) {\n  if (!target || !attr) {\n    return;\n  }\n  const attributeMap = getAttrMap(attr);\n  if (attributeMap.has(target)) {\n    return;\n  }\n  const values = deserializeAttributeValue(target.getAttribute(attr));\n  attributeMap.set(target, new Set(values));\n}\n\n/**\n * Restores the generated values of the attribute to the given element.\n *\n * @param {HTMLElement} target\n * @param {string} attr\n */\nexport function restoreGeneratedAriaIDReference(target, attr) {\n  if (!target || !attr) {\n    return;\n  }\n  const attributeMap = getAttrMap(attr);\n  const values = attributeMap.get(target);\n  if (!values || values.size === 0) {\n    target.removeAttribute(attr);\n  } else {\n    addValueToAttribute(target, attr, serializeAttributeValue(values));\n  }\n  attributeMap.delete(target);\n}\n\n/**\n * Sets a new ID reference for a target element and an ARIA attribute.\n *\n * @typedef {Object} AriaIdReferenceConfig\n * @property {string | null | undefined} newId\n * @property {string | null | undefined} oldId\n * @property {boolean | null | undefined} fromUser\n * @param {HTMLElement} target\n * @param {string} attr\n * @param {AriaIdReferenceConfig | null | undefined} config\n * @param config.newId The new ARIA ID reference to set. If `null`, the attribute is removed,\n * and `config.fromUser` is true, any stored values are restored. If there are stored values\n * and `config.fromUser` is `false`, then `config.newId` is added to the stored values set.\n * @param config.oldId The ARIA ID reference to be removed from the attribute. If there are\n * stored values and `config.fromUser` is `false`, then `config.oldId` is removed from the\n * stored values set.\n * @param config.fromUser Indicates whether the function is called by the user or internally.\n * When `config.fromUser` is called with `true` for the first time, the function will clear\n * and store the attribute value for the given element.\n */\nexport function setAriaIDReference(target, attr, config = { newId: null, oldId: null, fromUser: false }) {\n  if (!target || !attr) {\n    return;\n  }\n\n  const { newId, oldId, fromUser } = config;\n\n  const attributeMap = getAttrMap(attr);\n  const storedValues = attributeMap.get(target);\n\n  if (!fromUser && !!storedValues) {\n    // If there's any stored values, it means the attribute is being handled by the user\n    // Replace the \"oldId\" with \"newId\" on the stored values set and leave\n    oldId && storedValues.delete(oldId);\n    newId && storedValues.add(newId);\n    return;\n  }\n\n  if (fromUser) {\n    if (!storedValues) {\n      // If it's called from user and there's no stored values for the attribute,\n      // then store the current value\n      storeAriaIDReference(target, attr);\n    } else if (!newId) {\n      // If called from user with newId == null, it means the attribute will no longer\n      // be in control of the user and the stored values should be restored\n      // Removing the entry on the map for this target\n      attributeMap.delete(target);\n    }\n\n    // If it's from user, then clear the attribute value before setting newId\n    cleanAriaIDReference(target, attr);\n  }\n\n  removeValueFromAttribute(target, attr, oldId);\n\n  const attributeValue = !newId ? serializeAttributeValue(storedValues) : newId;\n  if (attributeValue) {\n    addValueToAttribute(target, attr, attributeValue);\n  }\n}\n\n/**\n * Removes the {@link attr | attribute} value of the given {@link target} element.\n * It also stores the current value, if no stored values are present.\n *\n * @param {HTMLElement} target\n * @param {string} attr\n */\nexport function removeAriaIDReference(target, attr) {\n  storeAriaIDReference(target, attr);\n  cleanAriaIDReference(target, attr);\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { removeAriaIDReference, restoreGeneratedAriaIDReference, setAriaIDReference } from './aria-id-reference.js';\n\n/**\n * A controller for managing ARIA attributes for a field element:\n * either the component itself or slotted `<input>` element.\n */\nexport class FieldAriaController {\n  constructor(host) {\n    this.host = host;\n    this.__required = false;\n  }\n\n  /**\n   * Sets a target element to which ARIA attributes are added.\n   *\n   * @param {HTMLElement} target\n   */\n  setTarget(target) {\n    this.__target = target;\n    this.__setAriaRequiredAttribute(this.__required);\n    // We need to make sure that value in __labelId is stored\n    this.__setLabelIdToAriaAttribute(this.__labelId, this.__labelId);\n    if (this.__labelIdFromUser != null) {\n      this.__setLabelIdToAriaAttribute(this.__labelIdFromUser, this.__labelIdFromUser, true);\n    }\n    this.__setErrorIdToAriaAttribute(this.__errorId);\n    this.__setHelperIdToAriaAttribute(this.__helperId);\n    this.setAriaLabel(this.__label);\n  }\n\n  /**\n   * Toggles the `aria-required` attribute on the target element\n   * if the target is the host component (e.g. a field group).\n   * Otherwise, it does nothing.\n   *\n   * @param {boolean} required\n   */\n  setRequired(required) {\n    this.__setAriaRequiredAttribute(required);\n    this.__required = required;\n  }\n\n  /**\n   * Defines the `aria-label` attribute of the target element.\n   *\n   * To remove the attribute, pass `null` as `label`.\n   *\n   * @param {string | null | undefined} label\n   */\n  setAriaLabel(label) {\n    this.__setAriaLabelToAttribute(label);\n    this.__label = label;\n  }\n\n  /**\n   * Links the target element with a slotted label element\n   * via the target's attribute `aria-labelledby`.\n   *\n   * To unlink the previous slotted label element, pass `null` as `labelId`.\n   *\n   * @param {string | null} labelId\n   */\n  setLabelId(labelId, fromUser = false) {\n    const oldLabelId = fromUser ? this.__labelIdFromUser : this.__labelId;\n    this.__setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser);\n    if (fromUser) {\n      this.__labelIdFromUser = labelId;\n    } else {\n      this.__labelId = labelId;\n    }\n  }\n\n  /**\n   * Links the target element with a slotted error element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted error element, pass `null` as `errorId`.\n   *\n   * @param {string | null} errorId\n   */\n  setErrorId(errorId) {\n    this.__setErrorIdToAriaAttribute(errorId, this.__errorId);\n    this.__errorId = errorId;\n  }\n\n  /**\n   * Links the target element with a slotted helper element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted helper element, pass `null` as `helperId`.\n   *\n   * @param {string | null} helperId\n   */\n  setHelperId(helperId) {\n    this.__setHelperIdToAriaAttribute(helperId, this.__helperId);\n    this.__helperId = helperId;\n  }\n\n  /**\n   * @param {string | null | undefined} label\n   * @private\n   * */\n  __setAriaLabelToAttribute(label) {\n    if (!this.__target) {\n      return;\n    }\n    if (label) {\n      removeAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.setAttribute('aria-label', label);\n    } else if (this.__label) {\n      restoreGeneratedAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.removeAttribute('aria-label');\n    }\n  }\n\n  /**\n   * @param {string | null | undefined} labelId\n   * @param {string | null | undefined} oldLabelId\n   * @param {boolean | null | undefined} fromUser\n   * @private\n   */\n  __setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser) {\n    setAriaIDReference(this.__target, 'aria-labelledby', { newId: labelId, oldId: oldLabelId, fromUser });\n  }\n\n  /**\n   * @param {string | null | undefined} errorId\n   * @param {string | null | undefined} oldErrorId\n   * @private\n   */\n  __setErrorIdToAriaAttribute(errorId, oldErrorId) {\n    setAriaIDReference(this.__target, 'aria-describedby', { newId: errorId, oldId: oldErrorId, fromUser: false });\n  }\n\n  /**\n   * @param {string | null | undefined} helperId\n   * @param {string | null | undefined} oldHelperId\n   * @private\n   */\n  __setHelperIdToAriaAttribute(helperId, oldHelperId) {\n    setAriaIDReference(this.__target, 'aria-describedby', { newId: helperId, oldId: oldHelperId, fromUser: false });\n  }\n\n  /**\n   * @param {boolean} required\n   * @private\n   */\n  __setAriaRequiredAttribute(required) {\n    if (!this.__target) {\n      return;\n    }\n\n    if (['input', 'textarea'].includes(this.__target.localName)) {\n      // Native <input> or <textarea>, required is enough\n      return;\n    }\n\n    if (required) {\n      this.__target.setAttribute('aria-required', 'true');\n    } else {\n      this.__target.removeAttribute('aria-required');\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * @typedef ReactiveController\n * @type {import('lit').ReactiveController}\n */\n\n/**\n * A mixin for connecting controllers to the element.\n *\n * @polymerMixin\n */\nexport const ControllerMixin = dedupeMixin((superClass) => {\n  // If the superclass extends from LitElement,\n  // use its own controllers implementation.\n  if (typeof superClass.prototype.addController === 'function') {\n    return superClass;\n  }\n\n  return class ControllerMixinClass extends superClass {\n    constructor() {\n      super();\n\n      /**\n       * @type {Set<ReactiveController>}\n       */\n      this.__controllers = new Set();\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      this.__controllers.forEach((c) => {\n        if (c.hostConnected) {\n          c.hostConnected();\n        }\n      });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      this.__controllers.forEach((c) => {\n        if (c.hostDisconnected) {\n          c.hostDisconnected();\n        }\n      });\n    }\n\n    /**\n     * Registers a controller to participate in the element update cycle.\n     *\n     * @param {ReactiveController} controller\n     * @protected\n     */\n    addController(controller) {\n      this.__controllers.add(controller);\n      // Call hostConnected if a controller is added after the element is attached.\n      if (this.$ !== undefined && this.isConnected && controller.hostConnected) {\n        controller.hostConnected();\n      }\n    }\n\n    /**\n     * Removes a controller from the element.\n     *\n     * @param {ReactiveController} controller\n     * @protected\n     */\n    removeController(controller) {\n      this.__controllers.delete(controller);\n    }\n  };\n});\n","/**\n * @license\n * Copyright (c) 2022 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { animationFrame } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\n\nconst region = document.createElement('div');\n\nregion.style.position = 'fixed';\nregion.style.clip = 'rect(0px, 0px, 0px, 0px)';\nregion.setAttribute('aria-live', 'polite');\n\ndocument.body.appendChild(region);\n\nlet alertDebouncer;\n/**\n * Cause a text string to be announced by screen readers.\n *\n * @param {string} text The text that should be announced by the screen reader.\n * @param {{mode?: string, timeout?: number}} options Additional options.\n */\nexport function announce(text, options = {}) {\n  const mode = options.mode || 'polite';\n  const timeout = options.timeout === undefined ? 150 : options.timeout;\n\n  if (mode === 'alert') {\n    region.removeAttribute('aria-live');\n    region.removeAttribute('role');\n    alertDebouncer = Debouncer.debounce(alertDebouncer, animationFrame, () => {\n      region.setAttribute('role', 'alert');\n    });\n  } else {\n    if (alertDebouncer) {\n      alertDebouncer.cancel();\n    }\n    region.removeAttribute('role');\n    region.setAttribute('aria-live', mode);\n  }\n\n  region.textContent = '';\n\n  setTimeout(() => {\n    region.textContent = text;\n  }, timeout);\n}\n","/**\n * @license\n * Copyright (c) 2022 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotController } from './slot-controller.js';\n\n/**\n * A controller that observes slotted element mutations, especially ID attribute\n * and the text content, and fires an event to notify host element about those.\n */\nexport class SlotChildObserveController extends SlotController {\n  constructor(host, slot, tagName, config = {}) {\n    super(host, slot, tagName, { ...config, useUniqueId: true });\n  }\n\n  /**\n   * Override to initialize the newly added custom node.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initCustomNode(node) {\n    this.__updateNodeId(node);\n    this.__notifyChange(node);\n  }\n\n  /**\n   * Override to notify the controller host about removal of\n   * the custom node, and to apply the default one if needed.\n   *\n   * @param {Node} _node\n   * @protected\n   * @override\n   */\n  teardownNode(_node) {\n    const node = this.getSlotChild();\n\n    // Custom node is added to the slot\n    if (node && node !== this.defaultNode) {\n      this.__notifyChange(node);\n    } else {\n      this.restoreDefaultNode();\n      this.updateDefaultNode(this.node);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotMixin`\n   * to set ID attribute on the default node.\n   *\n   * @return {Node}\n   * @protected\n   * @override\n   */\n  attachDefaultNode() {\n    const node = super.attachDefaultNode();\n\n    if (node) {\n      this.__updateNodeId(node);\n    }\n\n    return node;\n  }\n\n  /**\n   * Override to restore default node when a custom one is removed.\n   *\n   * @protected\n   */\n  restoreDefaultNode() {\n    // To be implemented\n  }\n\n  /**\n   * Override to update default node text on property change.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  updateDefaultNode(node) {\n    this.__notifyChange(node);\n  }\n\n  /**\n   * Setup the mutation observer on the node to update ID and notify host.\n   * Node doesn't get observed automatically until this method is called.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  observeNode(node) {\n    // Stop observing the previous node, if any.\n    if (this.__nodeObserver) {\n      this.__nodeObserver.disconnect();\n    }\n\n    this.__nodeObserver = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        const target = mutation.target;\n\n        // Ensure the mutation target is the currently connected node\n        // to ignore async mutations dispatched for removed element.\n        const isCurrentNodeMutation = target === this.node;\n\n        if (mutation.type === 'attributes') {\n          // We use attributeFilter to only observe ID mutation,\n          // no need to check for attribute name separately.\n          if (isCurrentNodeMutation) {\n            this.__updateNodeId(target);\n          }\n        } else if (isCurrentNodeMutation || target.parentElement === this.node) {\n          // Node text content has changed.\n          this.__notifyChange(this.node);\n        }\n      });\n    });\n\n    // Observe changes to node ID attribute, text content and children.\n    this.__nodeObserver.observe(node, {\n      attributes: true,\n      attributeFilter: ['id'],\n      childList: true,\n      subtree: true,\n      characterData: true,\n    });\n  }\n\n  /**\n   * Returns true if a node is an HTML element with children,\n   * or is a defined custom element, or has non-empty text.\n   *\n   * @param {Node} node\n   * @return {boolean}\n   * @private\n   */\n  __hasContent(node) {\n    if (!node) {\n      return false;\n    }\n\n    return (\n      (node.nodeType === Node.ELEMENT_NODE && (customElements.get(node.localName) || node.children.length > 0)) ||\n      (node.textContent && node.textContent.trim() !== '')\n    );\n  }\n\n  /**\n   * Fire an event to notify the controller host about node changes.\n   *\n   * @param {Node} node\n   * @private\n   */\n  __notifyChange(node) {\n    this.dispatchEvent(\n      new CustomEvent('slot-content-changed', {\n        detail: { hasContent: this.__hasContent(node), node },\n      }),\n    );\n  }\n\n  /**\n   * Set default ID on the node in case it is an HTML element.\n   *\n   * @param {Node} node\n   * @private\n   */\n  __updateNodeId(node) {\n    // When in multiple mode, only set ID attribute on the element in default slot.\n    const isFirstNode = !this.nodes || node === this.nodes[0];\n    if (node.nodeType === Node.ELEMENT_NODE && (!this.multiple || isFirstNode) && !node.id) {\n      node.id = this.defaultId;\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { announce } from '@vaadin/a11y-base/src/announce.js';\nimport { SlotChildObserveController } from '@vaadin/component-base/src/slot-child-observe-controller.js';\n\n/**\n * A controller that manages the error message node content.\n */\nexport class ErrorController extends SlotChildObserveController {\n  constructor(host) {\n    super(host, 'error-message', 'div');\n  }\n\n  /**\n   * Set the error message element text content.\n   *\n   * @param {string} errorMessage\n   */\n  setErrorMessage(errorMessage) {\n    this.errorMessage = errorMessage;\n\n    this.updateDefaultNode(this.node);\n  }\n\n  /**\n   * Set invalid state for detecting whether to show error message.\n   *\n   * @param {boolean} invalid\n   */\n  setInvalid(invalid) {\n    this.invalid = invalid;\n\n    this.updateDefaultNode(this.node);\n  }\n\n  /**\n   * Override method inherited from `SlotController` to not run\n   * initializer on the custom slotted node unnecessarily.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initAddedNode(node) {\n    if (node !== this.defaultNode) {\n      // There is no need to run `initNode`.\n      this.initCustomNode(node);\n    }\n  }\n\n  /**\n   * Override to initialize the newly added default error message.\n   *\n   * @param {Node} errorNode\n   * @protected\n   * @override\n   */\n  initNode(errorNode) {\n    this.updateDefaultNode(errorNode);\n  }\n\n  /**\n   * Override to initialize the newly added custom error message.\n   *\n   * @param {Node} errorNode\n   * @protected\n   * @override\n   */\n  initCustomNode(errorNode) {\n    // Save the custom error message content on the host.\n    if (errorNode.textContent && !this.errorMessage) {\n      this.errorMessage = errorNode.textContent.trim();\n    }\n\n    // Notify the host about custom node.\n    super.initCustomNode(errorNode);\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to restore the default error message element.\n   *\n   * @protected\n   * @override\n   */\n  restoreDefaultNode() {\n    this.attachDefaultNode();\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to update the error message text and hidden state.\n   *\n   * Note: unlike with other controllers, this method is\n   * called for both default and custom error message.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  updateDefaultNode(errorNode) {\n    const { errorMessage, invalid } = this;\n    const hasError = Boolean(invalid && errorMessage && errorMessage.trim() !== '');\n\n    if (errorNode) {\n      errorNode.textContent = hasError ? errorMessage : '';\n      errorNode.hidden = !hasError;\n\n      if (hasError) {\n        // Assertive mode ensures VoiceOver reads\n        // the error message on commit with Enter.\n        announce(errorMessage, { mode: 'assertive' });\n      }\n    }\n\n    // Notify the host after update.\n    super.updateDefaultNode(errorNode);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotChildObserveController } from '@vaadin/component-base/src/slot-child-observe-controller.js';\n\n/**\n * A controller that manages the helper node content.\n */\nexport class HelperController extends SlotChildObserveController {\n  constructor(host) {\n    // Do not provide tag name, as we create helper lazily.\n    super(host, 'helper', null);\n  }\n\n  /**\n   * Set helper text based on corresponding host property.\n   *\n   * @param {string} helperText\n   */\n  setHelperText(helperText) {\n    this.helperText = helperText;\n\n    // Restore the default helper, if needed.\n    const helperNode = this.getSlotChild();\n    if (!helperNode) {\n      this.restoreDefaultNode();\n    }\n\n    // When default helper is used, update it.\n    if (this.node === this.defaultNode) {\n      this.updateDefaultNode(this.node);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to create the default helper element lazily as needed.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  restoreDefaultNode() {\n    const { helperText } = this;\n\n    // No helper yet, create one.\n    if (helperText && helperText.trim() !== '') {\n      this.tagName = 'div';\n\n      const helperNode = this.attachDefaultNode();\n\n      // Observe the default node.\n      this.observeNode(helperNode);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to update the default helper element text content.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  updateDefaultNode(node) {\n    if (node) {\n      node.textContent = this.helperText;\n    }\n\n    // Notify the host after update.\n    super.updateDefaultNode(node);\n  }\n\n  /**\n   * Override to observe the newly added custom node.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initCustomNode(node) {\n    // Notify the host about a custom slotted helper.\n    super.initCustomNode(node);\n\n    this.observeNode(node);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotChildObserveController } from '@vaadin/component-base/src/slot-child-observe-controller.js';\n\n/**\n * A controller to manage the label element.\n */\nexport class LabelController extends SlotChildObserveController {\n  constructor(host) {\n    super(host, 'label', 'label');\n  }\n\n  /**\n   * Set label based on corresponding host property.\n   *\n   * @param {string} label\n   */\n  setLabel(label) {\n    this.label = label;\n\n    // Restore the default label, if needed.\n    const labelNode = this.getSlotChild();\n    if (!labelNode) {\n      this.restoreDefaultNode();\n    }\n\n    // When default label is used, update it.\n    if (this.node === this.defaultNode) {\n      this.updateDefaultNode(this.node);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to restore and observe the default label element.\n   *\n   * @protected\n   * @override\n   */\n  restoreDefaultNode() {\n    const { label } = this;\n\n    // Restore the default label.\n    if (label && label.trim() !== '') {\n      const labelNode = this.attachDefaultNode();\n\n      // Observe the default label.\n      this.observeNode(labelNode);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to update the default label element text content.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  updateDefaultNode(node) {\n    if (node) {\n      node.textContent = this.label;\n    }\n\n    // Notify the host after update.\n    super.updateDefaultNode(node);\n  }\n\n  /**\n   * Override to observe the newly added custom node.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initCustomNode(node) {\n    // Notify the host about adding a custom node.\n    super.initCustomNode(node);\n\n    this.observeNode(node);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\nimport { LabelController } from './label-controller.js';\n\n/**\n * A mixin to provide label via corresponding property or named slot.\n *\n * @polymerMixin\n * @mixes ControllerMixin\n */\nexport const LabelMixin = dedupeMixin(\n  (superclass) =>\n    class LabelMixinClass extends ControllerMixin(superclass) {\n      static get properties() {\n        return {\n          /**\n           * The label text for the input node.\n           * When no light dom defined via [slot=label], this value will be used.\n           */\n          label: {\n            type: String,\n            observer: '_labelChanged',\n          },\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._labelController = new LabelController(this);\n\n        this._labelController.addEventListener('slot-content-changed', (event) => {\n          this.toggleAttribute('has-label', event.detail.hasContent);\n        });\n      }\n\n      /** @protected */\n      get _labelId() {\n        const node = this._labelNode;\n        return node && node.id;\n      }\n\n      /** @protected */\n      get _labelNode() {\n        return this._labelController.node;\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this.addController(this._labelController);\n      }\n\n      /** @protected */\n      _labelChanged(label) {\n        this._labelController.setLabel(label);\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupeMixin } from '@open-wc/dedupe-mixin';\n\n/**\n * A mixin to provide required state and validation logic.\n *\n * @polymerMixin\n */\nexport const ValidateMixin = dedupeMixin(\n  (superclass) =>\n    class ValidateMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * Set to true when the field is invalid.\n           */\n          invalid: {\n            type: Boolean,\n            reflectToAttribute: true,\n            notify: true,\n            value: false,\n            sync: true,\n          },\n\n          /**\n           * Set to true to enable manual validation mode. This mode disables automatic\n           * constraint validation, allowing you to control the validation process yourself.\n           * You can still trigger constraint validation manually with the `validate()` method\n           * or use `checkValidity()` to assess the component's validity without affecting\n           * the invalid state. In manual validation mode, you can also manipulate\n           * the `invalid` property directly through your application logic without conflicts\n           * with the component's internal validation.\n           *\n           * @attr {boolean} manual-validation\n           */\n          manualValidation: {\n            type: Boolean,\n            value: false,\n          },\n\n          /**\n           * Specifies that the user must fill in a value.\n           */\n          required: {\n            type: Boolean,\n            reflectToAttribute: true,\n            sync: true,\n          },\n        };\n      }\n\n      /**\n       * Validates the field and sets the `invalid` property based on the result.\n       *\n       * The method fires a `validated` event with the result of the validation.\n       *\n       * @return {boolean} True if the value is valid.\n       */\n      validate() {\n        const isValid = this.checkValidity();\n        this._setInvalid(!isValid);\n        this.dispatchEvent(new CustomEvent('validated', { detail: { valid: isValid } }));\n        return isValid;\n      }\n\n      /**\n       * Returns true if the field value satisfies all constraints (if any).\n       *\n       * @return {boolean}\n       */\n      checkValidity() {\n        return !this.required || !!this.value;\n      }\n\n      /**\n       * @param {boolean} invalid\n       * @protected\n       */\n      _setInvalid(invalid) {\n        if (this._shouldSetInvalid(invalid)) {\n          this.invalid = invalid;\n        }\n      }\n\n      /**\n       * Override this method to define whether the given `invalid` state should be set.\n       *\n       * @param {boolean} _invalid\n       * @return {boolean}\n       * @protected\n       */\n      _shouldSetInvalid(_invalid) {\n        return true;\n      }\n\n      /** @protected */\n      _requestValidation() {\n        if (!this.manualValidation) {\n          // eslint-disable-next-line no-restricted-syntax\n          this.validate();\n        }\n      }\n\n      /**\n       * Fired whenever the field is validated.\n       *\n       * @event validated\n       * @param {Object} detail\n       * @param {boolean} detail.valid the result of the validation.\n       */\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { FieldAriaController } from '@vaadin/a11y-base/src/field-aria-controller.js';\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\nimport { ErrorController } from './error-controller.js';\nimport { HelperController } from './helper-controller.js';\nimport { LabelMixin } from './label-mixin.js';\nimport { ValidateMixin } from './validate-mixin.js';\n\n/**\n * A mixin to provide common field logic: label, error message and helper text.\n *\n * @polymerMixin\n * @mixes ControllerMixin\n * @mixes LabelMixin\n * @mixes ValidateMixin\n */\nexport const FieldMixin = (superclass) =>\n  class FieldMixinClass extends ValidateMixin(LabelMixin(ControllerMixin(superclass))) {\n    static get properties() {\n      return {\n        /**\n         * A target element to which ARIA attributes are set.\n         * @protected\n         */\n        ariaTarget: {\n          type: Object,\n          observer: '_ariaTargetChanged',\n        },\n\n        /**\n         * Error to show when the field is invalid.\n         *\n         * @attr {string} error-message\n         */\n        errorMessage: {\n          type: String,\n          observer: '_errorMessageChanged',\n        },\n\n        /**\n         * String used for the helper text.\n         * @attr {string} helper-text\n         */\n        helperText: {\n          type: String,\n          observer: '_helperTextChanged',\n        },\n\n        /**\n         * String used to label the component to screen reader users.\n         * @attr {string} accessible-name\n         */\n        accessibleName: {\n          type: String,\n          observer: '_accessibleNameChanged',\n        },\n\n        /**\n         * Id of the element used as label of the component to screen reader users.\n         * @attr {string} accessible-name-ref\n         */\n        accessibleNameRef: {\n          type: String,\n          observer: '_accessibleNameRefChanged',\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_invalidChanged(invalid)', '_requiredChanged(required)'];\n    }\n\n    constructor() {\n      super();\n\n      this._fieldAriaController = new FieldAriaController(this);\n      this._helperController = new HelperController(this);\n      this._errorController = new ErrorController(this);\n\n      this._errorController.addEventListener('slot-content-changed', (event) => {\n        this.toggleAttribute('has-error-message', event.detail.hasContent);\n      });\n\n      this._labelController.addEventListener('slot-content-changed', (event) => {\n        const { hasContent, node } = event.detail;\n        this.__labelChanged(hasContent, node);\n      });\n\n      this._helperController.addEventListener('slot-content-changed', (event) => {\n        const { hasContent, node } = event.detail;\n        this.toggleAttribute('has-helper', hasContent);\n        this.__helperChanged(hasContent, node);\n      });\n    }\n\n    /**\n     * @protected\n     * @return {HTMLElement}\n     */\n    get _errorNode() {\n      return this._errorController.node;\n    }\n\n    /**\n     * @protected\n     * @return {HTMLElement}\n     */\n    get _helperNode() {\n      return this._helperController.node;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.addController(this._fieldAriaController);\n      this.addController(this._helperController);\n      this.addController(this._errorController);\n    }\n\n    /** @private */\n    __helperChanged(hasHelper, helperNode) {\n      if (hasHelper) {\n        this._fieldAriaController.setHelperId(helperNode.id);\n      } else {\n        this._fieldAriaController.setHelperId(null);\n      }\n    }\n\n    /** @protected */\n    _accessibleNameChanged(accessibleName) {\n      this._fieldAriaController.setAriaLabel(accessibleName);\n    }\n\n    /** @protected */\n    _accessibleNameRefChanged(accessibleNameRef) {\n      this._fieldAriaController.setLabelId(accessibleNameRef, true);\n    }\n\n    /** @private */\n    __labelChanged(hasLabel, labelNode) {\n      // Label ID should be only added when the label content is present.\n      // Otherwise, it may conflict with an `aria-label` attribute possibly added by the user.\n      if (hasLabel) {\n        this._fieldAriaController.setLabelId(labelNode.id);\n      } else {\n        this._fieldAriaController.setLabelId(null);\n      }\n    }\n\n    /**\n     * @param {string | null | undefined} errorMessage\n     * @protected\n     */\n    _errorMessageChanged(errorMessage) {\n      this._errorController.setErrorMessage(errorMessage);\n    }\n\n    /**\n     * @param {string} helperText\n     * @protected\n     */\n    _helperTextChanged(helperText) {\n      this._helperController.setHelperText(helperText);\n    }\n\n    /**\n     * @param {HTMLElement | null | undefined} target\n     * @protected\n     */\n    _ariaTargetChanged(target) {\n      if (target) {\n        this._fieldAriaController.setTarget(target);\n      }\n    }\n\n    /**\n     * @param {boolean} required\n     * @protected\n     */\n    _requiredChanged(required) {\n      this._fieldAriaController.setRequired(required);\n    }\n\n    /**\n     * @param {boolean} invalid\n     * @protected\n     */\n    _invalidChanged(invalid) {\n      this._errorController.setInvalid(invalid);\n\n      // This timeout is needed to prevent NVDA from announcing the error message twice:\n      // 1. Once adding the `[role=alert]` attribute when updating `has-error-message` (OK).\n      // 2. Once linking the error ID with the ARIA target here (unwanted).\n      // Related issue: https://github.com/vaadin/web-components/issues/3061.\n      setTimeout(() => {\n        // Error message ID needs to be dynamically added / removed based on the validity\n        // Otherwise assistive technologies would announce the error, even if we hide it.\n        if (invalid) {\n          const node = this._errorNode;\n          this._fieldAriaController.setErrorId(node && node.id);\n        } else {\n          this._fieldAriaController.setErrorId(null);\n        }\n      });\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotController } from '@vaadin/component-base/src/slot-controller.js';\n\n/**\n * A controller to create and initialize slotted `<input>` element.\n */\nexport class InputController extends SlotController {\n  constructor(host, callback, options = {}) {\n    const { uniqueIdPrefix } = options;\n\n    super(host, 'input', 'input', {\n      initializer: (node, host) => {\n        if (host.value) {\n          node.value = host.value;\n        }\n        if (host.type) {\n          node.setAttribute('type', host.type);\n        }\n\n        // Ensure every instance has unique ID\n        node.id = this.defaultId;\n\n        if (typeof callback === 'function') {\n          callback(node);\n        }\n      },\n      useUniqueId: true,\n      uniqueIdPrefix,\n    });\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * A controller for linking a `<label>` element with an `<input>` element.\n */\nexport class LabelledInputController {\n  constructor(input, labelController) {\n    this.input = input;\n    this.__preventDuplicateLabelClick = this.__preventDuplicateLabelClick.bind(this);\n\n    labelController.addEventListener('slot-content-changed', (event) => {\n      this.__initLabel(event.detail.node);\n    });\n\n    // Initialize the default label element\n    this.__initLabel(labelController.node);\n  }\n\n  /**\n   * @param {HTMLElement} label\n   * @private\n   */\n  __initLabel(label) {\n    if (label) {\n      label.addEventListener('click', this.__preventDuplicateLabelClick);\n\n      if (this.input) {\n        label.setAttribute('for', this.input.id);\n      }\n    }\n  }\n\n  /**\n   * The native platform fires an event for both the click on the label, and also\n   * the subsequent click on the native input element caused by label click.\n   * This results in two click events arriving at the host, but we only want one.\n   * This method prevents the duplicate click and ensures the correct isTrusted event\n   * with the correct event.target arrives at the host.\n   * @private\n   */\n  __preventDuplicateLabelClick() {\n    const inputClickHandler = (e) => {\n      e.stopImmediatePropagation();\n      this.input.removeEventListener('click', inputClickHandler);\n    };\n    this.input.addEventListener('click', inputClickHandler);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { ActiveMixin } from '@vaadin/a11y-base/src/active-mixin.js';\nimport { DelegateFocusMixin } from '@vaadin/a11y-base/src/delegate-focus-mixin.js';\nimport { SlotStylesMixin } from '@vaadin/component-base/src/slot-styles-mixin.js';\nimport { CheckedMixin } from '@vaadin/field-base/src/checked-mixin.js';\nimport { FieldMixin } from '@vaadin/field-base/src/field-mixin.js';\nimport { InputController } from '@vaadin/field-base/src/input-controller.js';\nimport { LabelledInputController } from '@vaadin/field-base/src/labelled-input-controller.js';\n\n/**\n * A mixin providing common checkbox functionality.\n *\n * @polymerMixin\n * @mixes ActiveMixin\n * @mixes CheckedMixin\n * @mixes DelegateFocusMixin\n * @mixes FieldMixin\n * @mixes SlotStylesMixin\n */\nexport const CheckboxMixin = (superclass) =>\n  class CheckboxMixinClass extends SlotStylesMixin(\n    FieldMixin(CheckedMixin(DelegateFocusMixin(ActiveMixin(superclass)))),\n  ) {\n    static get properties() {\n      return {\n        /**\n         * True if the checkbox is in the indeterminate state which means\n         * it is not possible to say whether it is checked or unchecked.\n         * The state is reset once the user switches the checkbox by hand.\n         *\n         * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Indeterminate_state_checkboxes\n         *\n         * @type {boolean}\n         */\n        indeterminate: {\n          type: Boolean,\n          notify: true,\n          value: false,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * The name of the checkbox.\n         *\n         * @type {string}\n         */\n        name: {\n          type: String,\n          value: '',\n        },\n\n        /**\n         * When true, the user cannot modify the value of the checkbox.\n         * The difference between `disabled` and `readonly` is that the\n         * read-only checkbox remains focusable, is announced by screen\n         * readers and its value can be submitted as part of the form.\n         */\n        readonly: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__readonlyChanged(readonly, inputElement)'];\n    }\n\n    /** @override */\n    static get delegateProps() {\n      return [...super.delegateProps, 'indeterminate'];\n    }\n\n    /** @override */\n    static get delegateAttrs() {\n      return [...super.delegateAttrs, 'name', 'invalid', 'required'];\n    }\n\n    constructor() {\n      super();\n\n      this._setType('checkbox');\n\n      this._boundOnInputClick = this._onInputClick.bind(this);\n\n      // Set the string \"on\" as the default value for the checkbox following the HTML specification:\n      // https://html.spec.whatwg.org/multipage/input.html#dom-input-value-default-on\n      this.value = 'on';\n\n      // Set tabindex to 0 by default to not lose focus on click in Safari\n      // See https://github.com/vaadin/web-components/pull/6780\n      this.tabindex = 0;\n    }\n\n    /** @protected */\n    get slotStyles() {\n      const tag = this.localName;\n\n      // Needed to override `opacity: 1` set on `input` by Tailwind CSS.\n      // See https://github.com/vaadin/web-components/issues/8881\n      return [\n        `\n          ${tag} > input[slot='input'] {\n            opacity: 0;\n          }\n        `,\n      ];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.addController(\n        new InputController(this, (input) => {\n          this._setInputElement(input);\n          this._setFocusElement(input);\n          this.stateTarget = input;\n          this.ariaTarget = input;\n        }),\n      );\n      this.addController(new LabelledInputController(this.inputElement, this._labelController));\n\n      this._createMethodObserver('_checkedChanged(checked)');\n    }\n\n    /**\n     * Override method inherited from `ActiveMixin` to prevent setting `active`\n     * attribute when readonly, or when clicking a link placed inside the label,\n     * or when clicking slotted helper or error message element.\n     *\n     * @param {Event} event\n     * @return {boolean}\n     * @protected\n     * @override\n     */\n    _shouldSetActive(event) {\n      if (\n        this.readonly ||\n        event.target.localName === 'a' ||\n        event.target === this._helperNode ||\n        event.target === this._errorNode\n      ) {\n        return false;\n      }\n\n      return super._shouldSetActive(event);\n    }\n\n    /**\n     * Override method inherited from `InputMixin`.\n     * @param {!HTMLElement} input\n     * @protected\n     * @override\n     */\n    _addInputListeners(input) {\n      super._addInputListeners(input);\n\n      input.addEventListener('click', this._boundOnInputClick);\n    }\n\n    /**\n     * Override method inherited from `InputMixin`.\n     * @param {!HTMLElement} input\n     * @protected\n     * @override\n     */\n    _removeInputListeners(input) {\n      super._removeInputListeners(input);\n\n      input.removeEventListener('click', this._boundOnInputClick);\n    }\n\n    /** @private */\n    _onInputClick(event) {\n      // Prevent native checkbox checked change\n      if (this.readonly) {\n        event.preventDefault();\n      }\n    }\n\n    /** @private */\n    __readonlyChanged(readonly, inputElement) {\n      if (!inputElement) {\n        return;\n      }\n\n      // Use aria-readonly since native checkbox doesn't support readonly\n      if (readonly) {\n        inputElement.setAttribute('aria-readonly', 'true');\n      } else {\n        inputElement.removeAttribute('aria-readonly');\n      }\n    }\n\n    /**\n     * Override method inherited from `CheckedMixin` to reset\n     * `indeterminate` state checkbox is toggled by the user.\n     *\n     * @param {boolean} checked\n     * @protected\n     * @override\n     */\n    _toggleChecked(checked) {\n      if (this.indeterminate) {\n        this.indeterminate = false;\n      }\n\n      super._toggleChecked(checked);\n    }\n\n    /**\n     * @override\n     * @return {boolean}\n     */\n    checkValidity() {\n      return !this.required || !!this.checked;\n    }\n\n    /**\n     * Override method inherited from `FocusMixin` to validate on blur.\n     * @param {boolean} focused\n     * @protected\n     */\n    _setFocused(focused) {\n      super._setFocused(focused);\n\n      // Do not validate when focusout is caused by document\n      // losing focus, which happens on browser tab switch.\n      if (!focused && document.hasFocus()) {\n        this._requestValidation();\n      }\n    }\n\n    /** @private */\n    _checkedChanged(checked) {\n      if (checked || this.__oldChecked) {\n        this._requestValidation();\n      }\n\n      this.__oldChecked = checked;\n    }\n\n    /**\n     * Override an observer from `FieldMixin`\n     * to validate when required is removed.\n     *\n     * @protected\n     * @override\n     */\n    _requiredChanged(required) {\n      super._requiredChanged(required);\n\n      if (required === false) {\n        this._requestValidation();\n      }\n    }\n\n    /** @private */\n    _onRequiredIndicatorClick() {\n      this._labelNode.click();\n    }\n\n    /**\n     * Fired when the checkbox is checked or unchecked by the user.\n     *\n     * @event change\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { CheckboxMixin } from './vaadin-checkbox-mixin.js';\nimport { checkboxStyles } from './vaadin-checkbox-styles.js';\n\nregisterStyles('vaadin-checkbox', checkboxStyles, { moduleId: 'vaadin-checkbox-styles' });\n\n/**\n * `<vaadin-checkbox>` is an input field representing a binary choice.\n *\n * ```html\n * <vaadin-checkbox label=\"I accept the terms and conditions\"></vaadin-checkbox>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name            | Description\n * ---------------------|-------------\n * `checkbox`           | The element representing a stylable custom checkbox\n * `label`              | The slotted label element wrapper\n * `helper-text`        | The slotted helper text element wrapper\n * `error-message`      | The slotted error message element wrapper\n * `required-indicator` | The `required` state indicator element\n *\n * The following state attributes are available for styling:\n *\n * Attribute            | Description\n * ---------------------|-------------\n * `active`             | Set when the checkbox is activated with mouse, touch or the keyboard.\n * `checked`            | Set when the checkbox is checked.\n * `disabled`           | Set when the checkbox is disabled.\n * `readonly`           | Set when the checkbox is readonly.\n * `focus-ring`         | Set when the checkbox is focused using the keyboard.\n * `focused`            | Set when the checkbox is focused.\n * `indeterminate`      | Set when the checkbox is in the indeterminate state.\n * `invalid`            | Set when the checkbox is invalid.\n * `has-label`          | Set when the checkbox has a label.\n * `has-helper`         | Set when the checkbox has helper text.\n * `has-error-message`  | Set when the checkbox has an error message.\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\n *\n * @fires {Event} change - Fired when the checkbox is checked or unchecked by the user.\n * @fires {CustomEvent} checked-changed - Fired when the `checked` property changes.\n * @fires {CustomEvent} indeterminate-changed - Fired when the `indeterminate` property changes.\n *\n * @customElement\n * @extends HTMLElement\n * @mixes CheckboxMixin\n * @mixes ThemableMixin\n * @mixes ElementMixin\n */\nexport class Checkbox extends CheckboxMixin(ElementMixin(ThemableMixin(PolymerElement))) {\n  static get is() {\n    return 'vaadin-checkbox';\n  }\n\n  static get template() {\n    return html`\n      <div class=\"vaadin-checkbox-container\">\n        <div part=\"checkbox\" aria-hidden=\"true\"></div>\n        <slot name=\"input\"></slot>\n        <div part=\"label\">\n          <slot name=\"label\"></slot>\n          <div part=\"required-indicator\" on-click=\"_onRequiredIndicatorClick\"></div>\n        </div>\n        <div part=\"helper-text\">\n          <slot name=\"helper\"></slot>\n        </div>\n        <div part=\"error-message\">\n          <slot name=\"error-message\"></slot>\n        </div>\n      </div>\n      <slot name=\"tooltip\"></slot>\n    `;\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n\n    this._tooltipController = new TooltipController(this);\n    this._tooltipController.setAriaTarget(this.inputElement);\n    this.addController(this._tooltipController);\n  }\n}\n\ndefineCustomElement(Checkbox);\n","/**\n * @license\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nexport const checkboxStyles = css`\n  :host {\n    display: inline-block;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host([disabled]) {\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  .vaadin-checkbox-container {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: baseline;\n  }\n\n  [part='checkbox'],\n  ::slotted(input),\n  [part='label'] {\n    grid-row: 1;\n  }\n\n  [part='checkbox'],\n  ::slotted(input) {\n    grid-column: 1;\n  }\n\n  [part='helper-text'],\n  [part='error-message'] {\n    grid-column: 2;\n  }\n\n  :host(:not([has-helper])) [part='helper-text'],\n  :host(:not([has-error-message])) [part='error-message'] {\n    display: none;\n  }\n\n  [part='checkbox'] {\n    width: var(--vaadin-checkbox-size, 1em);\n    height: var(--vaadin-checkbox-size, 1em);\n    --_input-border-width: var(--vaadin-input-field-border-width, 0);\n    --_input-border-color: var(--vaadin-input-field-border-color, transparent);\n    box-shadow: inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);\n  }\n\n  [part='checkbox']::before {\n    display: block;\n    content: '\\\\202F';\n    line-height: var(--vaadin-checkbox-size, 1em);\n    contain: paint;\n  }\n\n  /* visually hidden */\n  ::slotted(input) {\n    cursor: inherit;\n    margin: 0;\n    align-self: stretch;\n    -webkit-appearance: none;\n    width: initial;\n    height: initial;\n  }\n\n  @media (forced-colors: active) {\n    [part='checkbox'] {\n      outline: 1px solid;\n      outline-offset: -1px;\n    }\n\n    :host([disabled]) [part='checkbox'],\n    :host([disabled]) [part='checkbox']::after {\n      outline-color: GrayText;\n    }\n\n    :host(:is([checked], [indeterminate])) [part='checkbox']::after {\n      outline: 1px solid;\n      outline-offset: -1px;\n      border-radius: inherit;\n    }\n\n    :host([focused]) [part='checkbox'],\n    :host([focused]) [part='checkbox']::after {\n      outline-width: 2px;\n    }\n  }\n`;\n","/**!\n * Sortable 1.15.6\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.6\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction matches( /**HTMLElement*/el, /**String*/selector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n  return false;\n}\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\nfunction closest( /**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n  return null;\n}\nvar R_SPACE = /\\s+/g;\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\nfunction css(el, prop, val) {\n  var style = el && el.style;\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n    } while (!selfOnly && (el = el.parentNode));\n  }\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n  return matrixFn && new matrixFn(appliedTransforms);\n}\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n      i = 0,\n      n = list.length;\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n    return list;\n  }\n  return [];\n}\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode;\n\n    // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect();\n\n          // Set relative to edges of padding box of container\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n      } while (container = container.parentNode);\n    }\n  }\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n      scaleX = elMatrix && elMatrix.a,\n      scaleY = elMatrix && elMatrix.d;\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n    elSideVal = getRect(el)[elSide];\n\n  /* jshint boss:true */\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n      visible = void 0;\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n  return false;\n}\n\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n    i = 0,\n    children = el.children;\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n      currentChild++;\n    }\n    i++;\n  }\n  return null;\n}\n\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n  return last || null;\n}\n\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\nfunction index(el, selector) {\n  var index = 0;\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n\n  /* jshint boss:true */\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n  return index;\n}\n\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n    offsetTop = 0,\n    winScroller = getWindowScrollingElement();\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n        scaleX = elMatrix.a,\n        scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n  return [offsetLeft, offsetTop];\n}\n\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n  return -1;\n}\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n  } while (elem = elem.parentNode);\n  return getWindowScrollingElement();\n}\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n  return dst;\n}\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\nvar _throttleTimeout;\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n        _this = this;\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\nfunction getChildContainingRectFromElement(container, options, ghostEl) {\n  var rect = {};\n  Array.from(container.children).forEach(function (child) {\n    var _rect$left, _rect$top, _rect$right, _rect$bottom;\n    if (!closest(child, options.draggable, container, false) || child.animated || child === ghostEl) return;\n    var childRect = getRect(child);\n    rect.left = Math.min((_rect$left = rect.left) !== null && _rect$left !== void 0 ? _rect$left : Infinity, childRect.left);\n    rect.top = Math.min((_rect$top = rect.top) !== null && _rect$top !== void 0 ? _rect$top : Infinity, childRect.top);\n    rect.right = Math.max((_rect$right = rect.right) !== null && _rect$right !== void 0 ? _rect$right : -Infinity, childRect.right);\n    rect.bottom = Math.max((_rect$bottom = rect.bottom) !== null && _rect$bottom !== void 0 ? _rect$bottom : -Infinity, childRect.bottom);\n  });\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n    animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect);\n\n        // If animating: compensate for current animation\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n      var animating = false,\n        animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n          target = state.target,\n          fromRect = target.fromRect,\n          toRect = getRect(target),\n          prevFromRect = target.prevFromRect,\n          prevToRect = target.prevToRect,\n          animatingRect = state.rect,\n          targetMatrix = matrix(target, true);\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n        target.toRect = toRect;\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) &&\n          // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        }\n\n        // if fromRect != toRect: animate\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n          if (!time) {\n            time = _this.options.animation;\n          }\n          _this.animate(target, animatingRect, toRect, time);\n        }\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n          scaleX = elMatrix && elMatrix.a,\n          scaleY = elMatrix && elMatrix.d,\n          translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n          translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\nfunction repaint(target) {\n  return target.offsetWidth;\n}\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n    this.eventCanceled = false;\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return;\n      // Fire global events if it exists in this sortable\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n\n      // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized;\n\n      // Add default options from plugin\n      _extends(defaults, initialized.defaults);\n    });\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return;\n\n      // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n    rootEl = _ref.rootEl,\n    name = _ref.name,\n    targetEl = _ref.targetEl,\n    cloneEl = _ref.cloneEl,\n    toEl = _ref.toEl,\n    fromEl = _ref.fromEl,\n    oldIndex = _ref.oldIndex,\n    newIndex = _ref.newIndex,\n    oldDraggableIndex = _ref.oldDraggableIndex,\n    newDraggableIndex = _ref.newDraggableIndex,\n    originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n    options = sortable.options,\n    onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    originalEvent = _ref.evt,\n    data = _objectWithoutProperties(_ref, _excluded);\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\nvar dragEl,\n  parentEl,\n  ghostEl,\n  rootEl,\n  nextEl,\n  lastDownEl,\n  cloneEl,\n  cloneHidden,\n  oldIndex,\n  newIndex,\n  oldDraggableIndex,\n  newDraggableIndex,\n  activeGroup,\n  putSortable,\n  awaitingDragStarted = false,\n  ignoreNextClick = false,\n  sortables = [],\n  tapEvt,\n  touchEvt,\n  lastDx,\n  lastDy,\n  tapDistanceLeft,\n  tapDistanceTop,\n  moved,\n  lastTarget,\n  lastDirection,\n  pastFirstInvertThresh = false,\n  isCircumstantialInvert = false,\n  targetMoveDistance,\n  // For positioning ghost absolutely\n  ghostRelativeParent,\n  ghostRelativeParentInitialScroll = [],\n  // (left, top)\n\n  _silent = false,\n  savedInputChecked = [];\n\n/** @const */\nvar documentExists = typeof document !== 'undefined',\n  PositionGhostAbsolutely = IOS,\n  CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n  // This will not pass for IE9, because IE9 DnD only works on anchors\n  supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n  supportCssPointerEvents = function () {\n    if (!documentExists) return;\n    // false when <= IE11\n    if (IE11OrLess) {\n      return false;\n    }\n    var el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n  _detectDirection = function _detectDirection(el, options) {\n    var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n    if (elCSS.display === 'flex') {\n      return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n    }\n    if (elCSS.display === 'grid') {\n      return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n    }\n    if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n      var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n      return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n    }\n    return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n  },\n  _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n    var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n    return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n  },\n  /**\r\n   * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n   * @param  {Number} x      X position\r\n   * @param  {Number} y      Y position\r\n   * @return {HTMLElement}   Element of the first found nearest Sortable\r\n   */\n  _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n    var ret;\n    sortables.some(function (sortable) {\n      var threshold = sortable[expando].options.emptyInsertThreshold;\n      if (!threshold || lastChild(sortable)) return;\n      var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n      if (insideHorizontally && insideVertically) {\n        return ret = sortable;\n      }\n    });\n    return ret;\n  },\n  _prepareGroup = function _prepareGroup(options) {\n    function toFn(value, pull) {\n      return function (to, from, dragEl, evt) {\n        var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n        if (value == null && (pull || sameGroup)) {\n          // Default pull value\n          // Default pull and put value if same group\n          return true;\n        } else if (value == null || value === false) {\n          return false;\n        } else if (pull && value === 'clone') {\n          return value;\n        } else if (typeof value === 'function') {\n          return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n        } else {\n          var otherGroup = (pull ? to : from).options.group.name;\n          return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n        }\n      };\n    }\n    var group = {};\n    var originalGroup = options.group;\n    if (!originalGroup || _typeof(originalGroup) != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  },\n  _hideGhostForTarget = function _hideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', 'none');\n    }\n  },\n  _unhideGhostForTarget = function _unhideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', '');\n    }\n  };\n\n// #1184 fix - Prevent click event on fallback if dragged but item not changed position\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n  this.el = el; // root element\n  this.options = options = _extends({}, options);\n\n  // Export instance\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    // Disabled on Safari: #1571; Enabled on Safari IOS: #2244\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && (!Safari || IOS),\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults);\n\n  // Set default options\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n  _prepareGroup(options);\n\n  // Bind all private methods\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  }\n\n  // Setup drag mode\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  }\n\n  // Bind events\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n  sortables.push(this.el);\n\n  // Restore sorting\n  options.store && options.store.get && this.sort(options.store.get(this) || []);\n\n  // Add animation state manager\n  _extends(this, AnimationStateManager());\n}\nSortable.prototype = /** @lends Sortable.prototype */{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart( /** Event|TouchEvent */evt) {\n    if (!evt.cancelable) return;\n    var _this = this,\n      el = this.el,\n      options = this.options,\n      preventOnFilter = options.preventOnFilter,\n      type = evt.type,\n      touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n      target = (touch || evt).target,\n      originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n      filter = options.filter;\n    _saveInputCheckedState(el);\n\n    // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n    if (dragEl) {\n      return;\n    }\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    }\n\n    // cancel dnd if original target is content editable\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    // Safari ignores further event handling after mousedown\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n    target = closest(target, options.draggable, el, false);\n    if (target && target.animated) {\n      return;\n    }\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    }\n\n    // Get the index of the dragged element within its parent\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable);\n\n    // Check filter\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n      if (filter) {\n        preventOnFilter && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    }\n\n    // Prepare `dragstart`\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart( /** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n    var _this = this,\n      el = _this.el,\n      options = _this.options,\n      ownerDocument = el.ownerDocument,\n      dragStartFn;\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n          return;\n        }\n        // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n        _this._disableDelayedDragEvents();\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        }\n\n        // Bind the events: dragstart/dragend\n        _this._triggerDragStart(evt, touch);\n\n        // Drag start event\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        });\n\n        // Chosen item\n        toggleClass(dragEl, options.chosenClass, true);\n      };\n\n      // Disable \"draggable\"\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      if (options.supportPointer) {\n        on(ownerDocument, 'pointerup', _this._onDrop);\n        // Native D&D triggers pointercancel\n        !this.nativeDraggable && on(ownerDocument, 'pointercancel', _this._onDrop);\n      } else {\n        on(ownerDocument, 'mouseup', _this._onDrop);\n        on(ownerDocument, 'touchend', _this._onDrop);\n        on(ownerDocument, 'touchcancel', _this._onDrop);\n      }\n\n      // Make dragEl draggable (must be before delay for FireFox)\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n      pluginEvent('delayStart', this, {\n        evt: evt\n      });\n\n      // Delay is impossible for native DnD in Edge or IE\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n          return;\n        }\n        // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n        if (options.supportPointer) {\n          on(ownerDocument, 'pointerup', _this._disableDelayedDrag);\n          on(ownerDocument, 'pointercancel', _this._disableDelayedDrag);\n        } else {\n          on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n          on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        }\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler( /** TouchEvent|PointerEvent **/e) {\n    var touch = e.touches ? e.touches[0] : e;\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'pointerup', this._disableDelayedDrag);\n    off(ownerDocument, 'pointercancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart( /** Event */evt, /** Touch */touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n    try {\n      if (document.selection) {\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n    awaitingDragStarted = false;\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n      var options = this.options;\n\n      // Apply effect\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost();\n\n      // Drag start event\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n      _hideGhostForTarget();\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n          target = parent; // store last element\n        }\n        /* jshint boss:true */ while (parent = getParentOrHost(parent));\n      }\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove( /**TouchEvent*/evt) {\n    if (tapEvt) {\n      var options = this.options,\n        fallbackTolerance = options.fallbackTolerance,\n        fallbackOffset = options.fallbackOffset,\n        touch = evt.touches ? evt.touches[0] : evt,\n        ghostMatrix = ghostEl && matrix(ghostEl, true),\n        scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n        scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n        relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n        dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n        dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1);\n\n      // only set the status to dragging, when we are actually dragging\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n        this._onDragStart(evt, true);\n      }\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n        rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n        options = this.options;\n\n      // Position absolutely\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl);\n\n      // Set transform-origin\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart( /**Event*/evt, /**boolean*/fallback) {\n    var _this = this;\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n      return;\n    }\n    pluginEvent('setupClone', this);\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n      this._hideClone();\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    }\n\n    // #1143: IFrame support workaround\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n      _this._hideClone();\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true);\n\n    // Set proper drop events\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n      on(document, 'drop', _this);\n\n      // #1276 fix:\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n    window.getSelection().removeAllRanges();\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver( /**Event*/evt) {\n    var el = this.el,\n      target = evt.target,\n      dragRect,\n      targetRect,\n      revert,\n      options = this.options,\n      group = options.group,\n      activeSortable = Sortable.active,\n      isOwner = activeGroup === group,\n      canSort = options.sort,\n      fromSortable = putSortable || activeSortable,\n      vertical,\n      _this = this,\n      completedFired = false;\n    if (_silent) return;\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    }\n\n    // Capture animation state\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n      _this.captureAnimationState();\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    }\n\n    // Return invocation when dragEl is inserted (or completed)\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        }\n\n        // Animation\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      }\n\n      // Null lastTarget if it is not inside a previously swapped element\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      }\n\n      // no bubbling and not fallback\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\n        // Do not detect for empty insert if already inserted\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    }\n\n    // Call when dragEl has been inserted\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n    ignoreNextClick = false;\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n      if (revert) {\n        parentEl = rootEl; // actualization\n        capture();\n        this._hideClone();\n        dragOverEvent('revert');\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n        return completed(true);\n      }\n      var elLastChild = lastChild(el, options.draggable);\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        }\n\n        // if there is a last element, it is the target\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n        if (target) {\n          targetRect = getRect(target);\n        }\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n        target = firstChild;\n        targetRect = getRect(target);\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n          targetBeforeFirstSwap,\n          differentLevel = dragEl.parentNode !== el,\n          differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n          side1 = vertical ? 'top' : 'left',\n          scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n          scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        }\n        // If dragEl is already beside target: Do not insert\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n          after = false;\n        after = direction === 1;\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          }\n\n          // Undo chrome's scroll adjustment (has no effect on other browsers)\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n          parentEl = dragEl.parentNode; // actualization\n\n          // must be done before animation\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n          changed();\n          return completed(true);\n        }\n      }\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'pointercancel', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop( /**Event*/evt) {\n    var el = this.el,\n      options = this.options;\n\n    // Get the index of the dragged element within its parent\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode;\n\n    // Get again after plugin event\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    if (Sortable.eventCanceled) {\n      this._nulling();\n      return;\n    }\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n    _cancelNextTick(this.cloneId);\n    _cancelNextTick(this._dragStartId);\n\n    // Unbind events\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n    this._offMoveEvents();\n    this._offUpEvents();\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n    css(dragEl, 'transform', '');\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n        _disableDraggable(dragEl);\n        dragEl.style['will-change'] = '';\n\n        // Remove classes\n        // ghostClass is added in dragStarted\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n        toggleClass(dragEl, this.options.chosenClass, false);\n\n        // Drag stop event\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            // Remove event\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n\n            // drag from one list and drop into another\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          });\n\n          // Save sorting\n          this.save();\n        }\n      }\n    }\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent( /**Event*/evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n        break;\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n          _globalDragOver(evt);\n        }\n        break;\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n      el,\n      children = this.el.children,\n      i = 0,\n      n = children.length,\n      options = this.options;\n    for (; i < n; i++) {\n      el = children[i];\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n    return order;\n  },\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n      rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    }\n    // Remove draggable attributes\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n    this._onDrop();\n    this._disableDelayedDragEvents();\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n      return;\n    }\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return;\n\n      // show clone at dragEl or original position\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\nfunction _globalDragOver( /**Event*/evt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n  evt.cancelable && evt.preventDefault();\n}\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n    sortable = fromEl[expando],\n    onMoveFn = sortable.options.onMove,\n    retVal;\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n  return retVal;\n}\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\nfunction _unsilent() {\n  _silent = false;\n}\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var firstElRect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX < childContainingRect.left - spacer || evt.clientY < firstElRect.top && evt.clientX < firstElRect.right : evt.clientY < childContainingRect.top - spacer || evt.clientY < firstElRect.bottom && evt.clientX < firstElRect.left;\n}\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var lastElRect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX > childContainingRect.right + spacer || evt.clientY > lastElRect.bottom && evt.clientX > lastElRect.left : evt.clientY > childContainingRect.bottom + spacer || evt.clientX > lastElRect.right && evt.clientY > lastElRect.top;\n}\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n    targetLength = vertical ? targetRect.height : targetRect.width,\n    targetS1 = vertical ? targetRect.top : targetRect.left,\n    targetS2 = vertical ? targetRect.bottom : targetRect.right,\n    invert = false;\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n  invert = invert || invertSwap;\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n  return 0;\n}\n\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n    i = str.length,\n    sum = 0;\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n  return sum.toString(36);\n}\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n}\n\n// Fixed #973:\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n}\n\n// Export utils\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild,\n  expando: expando\n};\n\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\nSortable.get = function (element) {\n  return element[expando];\n};\n\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n};\n\n// Export\nSortable.version = version;\n\nvar autoScrolls = [],\n  scrollEl,\n  scrollRootEl,\n  scrolling = false,\n  lastAutoScrollX,\n  lastAutoScrollY,\n  touchEvt$1,\n  pointerElemChangedInterval;\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    };\n\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n        y = (evt.touches ? evt.touches[0] : evt).clientY,\n        elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt;\n\n      // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback);\n\n        // Listener for pointer element change\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval();\n          // Detect for pointer elem change, emulating native DnD behaviour\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n    y = (evt.touches ? evt.touches[0] : evt).clientY,\n    sens = options.scrollSensitivity,\n    speed = options.scrollSpeed,\n    winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n    scrollCustomFn;\n\n  // New scroll root, set scrollEl\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n  var layersOut = 0;\n  var currentParent = scrollEl;\n  do {\n    var el = currentParent,\n      rect = getRect(el),\n      top = rect.top,\n      bottom = rect.bottom,\n      left = rect.left,\n      right = rect.right,\n      width = rect.width,\n      height = rect.height,\n      canScrollX = void 0,\n      canScrollY = void 0,\n      scrollWidth = el.scrollWidth,\n      scrollHeight = el.scrollHeight,\n      elCSS = css(el),\n      scrollPosX = el.scrollLeft,\n      scrollPosY = el.scrollTop;\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n          }\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    dragEl = _ref.dragEl,\n    activeSortable = _ref.activeSortable,\n    dispatchSortableEvent = _ref.dispatchSortableEvent,\n    hideGhostForTarget = _ref.hideGhostForTarget,\n    unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\nfunction Revert() {}\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n      putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n    this.sortable.animateAll();\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\nfunction Remove() {}\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n      putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n        target = _ref2.target,\n        onMove = _ref2.onMove,\n        activeSortable = _ref2.activeSortable,\n        changed = _ref2.changed,\n        cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n        options = this.options;\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n        putSortable = _ref3.putSortable,\n        dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n    p2 = n2.parentNode,\n    i1,\n    i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n  multiDragClones = [],\n  lastMultiDragSelect,\n  // for selection with modifier key down (SHIFT)\n  multiDragSortable,\n  initialFolding = false,\n  // Initial multi-drag fold when drag started\n  folding = false,\n  // Folding any other time\n  dragStarted = false,\n  dragEl$1,\n  clonesFromRect,\n  clonesHidden;\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n        cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n      sortable._hideClone();\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n        rootEl = _ref3.rootEl,\n        dispatchSortableEvent = _ref3.dispatchSortableEvent,\n        cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n        rootEl = _ref4.rootEl,\n        cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n      var sortable = _ref5.sortable,\n        cloneNowHidden = _ref5.cloneNowHidden,\n        cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      });\n\n      // Sort multi-drag elements\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n\n        sortable.captureAnimationState();\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        }\n\n        // Remove all auxiliary multidrag items from el, if sorting enabled\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n        completed = _ref8.completed,\n        cancel = _ref8.cancel;\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n        rootEl = _ref9.rootEl,\n        sortable = _ref9.sortable,\n        dragRect = _ref9.dragRect;\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n        isOwner = _ref10.isOwner,\n        insertion = _ref10.insertion,\n        activeSortable = _ref10.activeSortable,\n        parentEl = _ref10.parentEl,\n        putSortable = _ref10.putSortable;\n      var options = this.options;\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n        initialFolding = false;\n        // If leaving sort:false root, or already folding - Fold to new location\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute);\n\n            // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        }\n\n        // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n            activeSortable._showClone(sortable);\n\n            // Unfold animation for clones if showing from hidden\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n        isOwner = _ref11.isOwner,\n        activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n        rootEl = _ref12.rootEl,\n        parentEl = _ref12.parentEl,\n        sortable = _ref12.sortable,\n        dispatchSortableEvent = _ref12.dispatchSortableEvent,\n        oldIndex = _ref12.oldIndex,\n        putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n        children = parentEl.children;\n\n      // Multi-drag selection\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n\n          // Modifier activated, select from last to dragEl\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n              currentIndex = index(dragEl$1);\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              (function () {\n                // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                // (but previous selection existed)\n                var n, i;\n                if (currentIndex > lastIndex) {\n                  i = lastIndex;\n                  n = currentIndex;\n                } else {\n                  i = currentIndex;\n                  n = lastIndex + 1;\n                }\n                var filter = options.filter;\n                for (; i < n; i++) {\n                  if (~multiDragElements.indexOf(children[i])) continue;\n                  // Check if element is draggable\n                  if (!closest(children[i], options.draggable, parentEl, false)) continue;\n                  // Check if element is filtered\n                  var filtered = filter && (typeof filter === 'function' ? filter.call(sortable, evt, children[i], sortable) : filter.split(',').some(function (criteria) {\n                    return closest(children[i], criteria.trim(), parentEl, false);\n                  }));\n                  if (filtered) continue;\n                  toggleClass(children[i], options.selectedClass, true);\n                  multiDragElements.push(children[i]);\n                  dispatchEvent({\n                    sortable: sortable,\n                    rootEl: rootEl,\n                    name: 'select',\n                    targetEl: children[i],\n                    originalEvent: evt\n                  });\n                }\n              })();\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      }\n\n      // Multi-drag drop\n      if (dragStarted && this.isMultiDrag) {\n        folding = false;\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n            multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect;\n\n                  // Prepare unfold animation\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            }\n\n            // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n              multiDragIndex++;\n            });\n\n            // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n              if (update) {\n                dispatchSortableEvent('update');\n                dispatchSortableEvent('sort');\n              }\n            }\n          }\n\n          // Must be done after capturing individual rects (scroll bar)\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n        multiDragSortable = toSortable;\n      }\n\n      // Remove clones if necessary\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return;\n\n      // Only deselect if selection is in this sortable\n      if (multiDragSortable !== this.sortable) return;\n\n      // Only deselect if target is not item in this sortable\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return;\n\n      // Only deselect if left click\n      if (evt && evt.button !== 0) return;\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n          multiDragSortable = sortable;\n        }\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n          index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n      var oldIndicies = [],\n        newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        });\n\n        // multiDragElements will already be sorted if folding\n        var newIndex;\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n        return key;\n      }\n    }\n  });\n}\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n","export class Popup {\n  static #currentPopup;\n\n  static render(popup) {\n    Popup.#currentPopup = document.createElement(\"dialog\");\n    if(popup == undefined) return;\n    Popup.#currentPopup.appendChild(popup);\n\n    document.body.appendChild(Popup.#currentPopup);\n    Popup.#addClickOutsideRemove();\n    Popup.#currentPopup.showModal();\n  }\n\n  static remove() {\n    if (Popup.#currentPopup == null || document.body.contains(Popup.#currentPopup) == false) return;\n    \n\n    document.body.removeChild(Popup.#currentPopup);\n  }\n\n  static #addClickOutsideRemove() {\n    Popup.#currentPopup.addEventListener(\"click\", (e) => {\n      const dialogDimensions = Popup.#currentPopup.getBoundingClientRect();\n      if (\n        e.clientX < dialogDimensions.left ||\n        e.clientX > dialogDimensions.right ||\n        e.clientY < dialogDimensions.top ||\n        e.clientY > dialogDimensions.bottom\n      ) {\n        Popup.remove();\n      }\n    });\n  }\n}\n","export class TodoItem {\n  #project;\n  #title;\n  #description;\n  #dueDate;\n  #priority;\n\n  constructor(project, title, description, dueDate, priority) {\n    if(project == null || typeof project.addItem !== \"function\") throw new Error(\"Todo item needs to be assigned a project\");\n\n    this.#project = project;\n    this.#title = title;\n    this.#description = description;\n    this.#dueDate = dueDate;\n    this.#priority = priority;\n\n    this.#project.addItem(this);\n  }\n\n  //getters\n  getProject = () => this.#project;\n  getTitle = () => this.#title;\n  getDescription = () => this.#description;\n  getDueDate = () => this.#dueDate;\n  getPriority = () => this.#priority;\n\n  //setters\n  setProject = (input) => this.#project = project;\n  setTitle = (input) => (this.#title = input);\n  setDescription = (input) => (this.#description = input);\n  setDueDate = (input) => (this.#dueDate = input);\n  setPriority = (input) => (this.#priority = input);\n}\n","import { ProjectManager } from \"./project-manager\";\nimport { Project } from \"./project\";\nimport { TodoItem } from \"./todo-item\";\n\nexport class Storage {\n  static isLoaded = () => localStorage.getItem(\"firstLoad\");\n  static setLoaded = (value) => localStorage.setItem(\"firstLoad\", value);\n\n  static load() {\n    if (Storage.isLoaded() !== \"true\") {\n      Storage.firstLoad();\n      return;\n    }\n\n    console.log(\"normal load\");\n    Storage.#loadManagers();\n    Storage.#loadProjects();\n    Storage.#loadTodos();\n\n  }\n  static #loadManagers() {\n    for (const manager of Storage.#getManagers()) {\n      new ProjectManager(manager.name, manager.key);\n    }\n  }\n\n  static #loadProjects() {\n    for (const project of Storage.#getProjects()) {\n      const manager = ProjectManager.getManager(project.manager);\n      new Project(manager, project.name, project.key);\n    }\n  }\n\n  static #loadTodos(){\n    for (const todo of Storage.#getTodos()){\n        const project = ProjectManager.getProject(todo.project)\n        console.log(todo.dueDate)\n        new TodoItem(project,todo.title, todo.desc,todo.dueDate,todo.prio);\n    }\n  }\n\n  static firstLoad() {\n    console.log(\"first load\");\n    Storage.setLoaded(\"true\");\n\n    const myProjects = new ProjectManager(\"My Projects\");\n    const myProject = new Project(myProjects, \"My Project\");\n    new TodoItem(myProject, \"Click me!\", \"Click checkbox to finish a task\", new Date().toISOString().split(\"T\")[0], 1)\n\n    Storage.setStorage();\n  }\n\n  static setStorage() {\n    const managers = [];\n    const projects = [];\n    const todos = [];\n\n    ProjectManager.getManagers().forEach((manager, managerKey) => {\n      const managerValues = {};\n      managerValues.key = managerKey;\n      managerValues.name = manager.getName();\n\n      managers.push(managerValues);\n\n      manager.getAllProjects().forEach((project, projKey) => {\n        const projectValues = {};\n        projectValues.manager = managerKey;\n        projectValues.name = project.getName();\n        projectValues.key = projKey;\n\n        projects.push(projectValues);\n\n        project.getItems().forEach((todo, todoKey) => {\n          const todoValues = {};\n          todoValues.project = projKey;\n          todoValues.title = todo.getTitle();\n          todoValues.desc = todo.getDescription();\n          todoValues.dueDate = todo.getDueDate();\n          todoValues.prio = todo.getPriority();\n          todos.push(todoValues);\n        });\n      });\n    });\n    localStorage.setItem(\"managers\", JSON.stringify(managers));\n    localStorage.setItem(\"projects\", JSON.stringify(projects));\n    localStorage.setItem(\"todos\", JSON.stringify(todos));\n  }\n\n  static #getManagers = () => JSON.parse(localStorage.getItem(\"managers\"));\n  static #getProjects = () => JSON.parse(localStorage.getItem(\"projects\"));\n  static #getTodos = () => JSON.parse(localStorage.getItem(\"todos\"));\n}\n","import { Popup } from \"./popup\";\nimport { Page } from \"./render-page\";\nimport { Storage } from \"./storage\";\nimport { TodoItem } from \"./todo-item\";\n\nexport function todoPopup(project, key = null) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"todo-popup\");\n\n  const todoTitle = document.createElement(\"p\");\n  todoTitle.textContent = \"Todo Item \";\n  div.appendChild(todoTitle);\n\n  const text = document.createElement(\"p\");\n\n  const title = document.createElement(\"input\");\n  const desc = document.createElement(\"textarea\");\n  const dueDate = document.createElement(\"input\");\n  dueDate.type = \"date\";\n  const prio = document.createElement(\"select\");\n  const saveBtn = document.createElement(\"button\");\n  saveBtn.textContent = \"Save\";\n\n  title.maxLength = \"30\";\n  desc.maxLength = \"250\";\n  dueDate.min = new Date().toISOString().split(\"T\")[0];\n\n  title.placeholder = \"Title...\";\n  desc.placeholder = \"Description...\";\n\n  title.classList.add(\"popup-title\");\n  desc.classList.add(\"popup-desc\");\n  dueDate.classList.add(\"popup-duedate\");\n  prio.classList.add(\"popup-prio\");\n  saveBtn.classList.add(\"popup-save\");\n\n  //prio dropdown\n  const prio1 = document.createElement(\"option\");\n  const prio2 = document.createElement(\"option\");\n  const prio3 = document.createElement(\"option\");\n  prio1.value = \"1\";\n  prio2.value = \"2\";\n  prio3.value = \"3\";\n  prio1.textContent = \"Priority: 1\";\n  prio2.textContent = \"Priority: 2\";\n  prio3.textContent = \"Priority: 3\";\n  prio.appendChild(prio1);\n  prio.appendChild(prio2);\n  prio.appendChild(prio3);\n\n  div.appendChild(title);\n  div.appendChild(desc);\n  div.appendChild(dueDate);\n  div.appendChild(prio);\n  div.appendChild(saveBtn);\n\n  div.appendChild(text);\n\n  //edit todo on save\n  if (key != null) {\n    const todo = project.getItem(key);\n    if(project.getItem(key) == undefined) return undefined;\n    title.value = todo.getTitle();\n    desc.value = todo.getDescription();\n    dueDate.value = todo.getDueDate();\n    prio.value = todo.getPriority();\n\n    saveBtn.addEventListener(\"click\", () => {\n      const todo = project.getItem(key);\n      todo.setTitle(title.value);\n      todo.setDescription(desc.value);\n      todo.setDueDate(dueDate.value);\n      todo.setPriority(prio.value);\n\n      Page.loadPage();\n      Popup.remove();\n      Storage.setStorage();\n    });\n  }\n\n  //create todo on save\n  else {\n    saveBtn.addEventListener(\"click\", () => {\n      new TodoItem(project, title.value, desc.value, dueDate.value, prio.value);\n      console.log(project)\n\n      Popup.remove();\n      Page.loadPage();\n    });\n  }\n\n  return div;\n}\n","import { ProjectManager } from \"./project-manager\";\nimport \"@vaadin/checkbox\";\nimport { opacityAnimation } from \"./opacity-animation\";\nimport Sortable from \"sortablejs\";\nimport { Popup } from \"./popup\";\nimport { todoPopup } from \"./add-todo-popup\";\nimport { Sidebar } from \"./sidebar\";\n\nexport class Page {\n  static #currentPage;\n  static #container = document.querySelector(\"#todo-container\");\n  static #sortableDiv = document.createElement(\"div\");\n  static #managerKey;\n  static #projKey;\n\n  static renderPage(managerKey, projKey) {\n    if (projKey == Page.#currentPage) return;\n    Page.#managerKey = managerKey;\n    Page.#projKey = projKey;\n    Page.loadPage();\n    opacityAnimation(Page.#container, 700);\n  }\n\n  static loadPage() {\n    console.log(\"LOAD\");\n    const project = ProjectManager.getManager(Page.#managerKey).getProject(Page.#projKey);\n    Page.removePage();\n\n    Page.#renderAddTodo(project);\n    Page.#container.appendChild(Page.#sortableDiv);\n    Page.#sortableDiv.classList.add(\"sortable-container\");\n    Page.#currentPage = Page.#projKey;\n\n    const sortable = Sortable.create(Page.#sortableDiv, {\n      animation: 300,\n      onSort(evt) {\n        const order = [];\n        for (const ele of Page.#sortableDiv.children) {\n          order.push(ele.dataset.key);\n        }\n        console.log(Page.#currentPage)\n        ProjectManager.getManager(Page.#managerKey).getProject(Page.#currentPage).setOrder(order);\n      },\n    });\n\n    for (const todoKey of project.getOrder()) {\n      const todo = project.getItem(todoKey);\n      const todoDiv = document.createElement(\"div\");\n      todoDiv.classList.add(\"todo-item\");\n      todoDiv.dataset.key = todoKey;\n\n      const checkBox = document.createElement(\"vaadin-checkbox\");\n      checkBox.type = \"checkbox\";\n      todoDiv.appendChild(checkBox);\n\n      const todoContentDiv = document.createElement(\"div\");\n      todoContentDiv.classList.add(\"todo-item-content\");\n\n      const text = document.createElement(\"h3\");\n      text.textContent = todo.getTitle();\n      todoContentDiv.appendChild(text);\n\n      const dueDate = document.createElement(\"p\");\n      dueDate.textContent = todo.getDueDate();\n      todoContentDiv.appendChild(dueDate);\n\n      todoDiv.appendChild(todoContentDiv);\n      Page.#sortableDiv.appendChild(todoDiv);\n\n      todoDiv.addEventListener(\"click\", () =>\n        Popup.render(todoPopup(project, todoKey))\n      );\n\n      checkBox.addEventListener(\"click\", (event) => {\n        event.stopPropagation();\n        project.removeItem(todoKey)\n      })\n    }\n    Sidebar.updateAmounts();\n  }\n\n  static removePage() {\n    Page.#container.innerHTML = \"\";\n    Page.#sortableDiv.innerHTML = \"\";\n  }\n\n  static #renderAddTodo(project) {\n    const div = document.createElement(\"div\");\n    div.classList.add(\"add-todo-container\");\n\n    const plus = document.createElement(\"p\");\n    plus.textContent = \"+\";\n    div.appendChild(plus);\n\n    const text = document.createElement(\"p\");\n    text.textContent = \"Add todo...\";\n    div.appendChild(text);\n\n    Page.#container.appendChild(div);\n\n    div.addEventListener(\"click\", () => Popup.render(todoPopup(project)));\n  }\n  static getPage = () => Page.#currentPage;\n}\n","export function opacityAnimation(obj, time) {\n    const keyframes = [\n        {opacity : 0},\n        {opacity : 1}\n    ]\n\n    const timing = {\n        duration : time,\n        fill : \"forwards\"\n    }\n\n    obj.animate(keyframes, timing)\n}\n","import { ProjectManager } from \"./project-manager\";\nimport { Page } from \"./render-page\";\nimport { projectPopup } from \"./add-project-popup\";\nimport { Popup } from \"./popup\";\nimport { categoryPopup } from \"./add-category-popup\";\nimport deleteImg from \"./icons/delete.svg\"\n\nexport class Sidebar {\n  static #sidebarDiv = document.querySelector(\"#sidebar\");\n  static #topbarDiv = document.querySelector(\"#sidebar-topbar\");\n  static #username = document.querySelector(\"#topbar-name\");\n  static #closeButton = document.querySelector(\"#close-btn\");\n  static #container = document.querySelector(\"#container\");\n  static #sidebarContent = document.querySelector(\"#sidebar-content\");\n  static #amounts = new Map();\n  static #currentProject;\n  static #currentProjectKey;\n\n  static populateProjects() {\n    Sidebar.#sidebarContent.innerHTML = \"\";\n    Sidebar.#renderAddCategory();\n    \n    ProjectManager.getManagers().forEach((projManager, key) => {\n      //Category title\n      const title = document.createElement(\"h2\");\n      title.textContent = projManager.getName();\n\n      //category Big Div\n      const managerDiv = document.createElement(\"div\");\n      managerDiv.classList.add(\"category\");\n      managerDiv.dataset.key = key;\n\n      //category title Div\n      const categoryDiv = document.createElement(\"div\");\n      categoryDiv.appendChild(title);\n      categoryDiv.classList.add(\"category-title-div\");\n\n      const plusDeleteDiv = document.createElement(\"div\");\n      plusDeleteDiv.classList.add(\"amount-remove-div\");\n\n      const plus = document.createElement(\"p\");\n      plus.textContent = \"+\";\n      plusDeleteDiv.appendChild(plus)\n\n      const deleteCategory = document.createElement(\"img\");\n      deleteCategory.src = deleteImg;\n      plusDeleteDiv.appendChild(deleteCategory)\n\n      categoryDiv.appendChild(plusDeleteDiv);\n\n      plus.addEventListener(\"click\", () => {\n        Popup.render(projectPopup(key));\n      })\n\n      deleteCategory.addEventListener(\"click\", () => {\n        ProjectManager.removeManager(key);\n      })\n\n      managerDiv.appendChild(categoryDiv);\n\n      projManager.getAllProjects().forEach((project, projKey) => {\n        const projectDiv = document.createElement(\"div\");\n        projectDiv.classList.add(\"project-div\");\n        projectDiv.dataset.key = projKey;\n        projectDiv.dataset.managerKey = key;\n        this.#bindProjectOnClick(projectDiv);\n\n        const projectTitle = document.createElement(\"h3\");\n        //Project title\n        projectTitle.textContent = \"# \" + project.getName();\n        projectDiv.appendChild(projectTitle);\n\n        //amount and remove div\n        const amountRemoveDiv = document.createElement(\"div\");\n        amountRemoveDiv.classList.add(\"amount-remove-div\")\n\n        //amount text\n        const amount = document.createElement(\"p\");\n        Sidebar.#amounts.set(amount, project);\n        amountRemoveDiv.appendChild(amount)\n\n        //remove\n        const remove = document.createElement(\"img\");\n        remove.src = deleteImg\n        amountRemoveDiv.appendChild(remove)\n\n        remove.addEventListener(\"click\", (event)=> {\n          projManager.removeProject(projKey);\n          event.stopPropagation();\n        })\n\n        projectDiv.appendChild(amountRemoveDiv);\n\n        managerDiv.appendChild(projectDiv);\n      });\n\n      Sidebar.updateAmounts();\n      Sidebar.#sidebarContent.appendChild(managerDiv);\n    });\n\n    if(Sidebar.#currentProject != null){\n      const key = Sidebar.#currentProjectKey;\n      const proj = document.querySelector('[data-key=\"' + key + '\"]')\n      Sidebar.#setCurrentProject(proj)\n    }\n  }\n\n  static #bindProjectOnClick(project) {\n    project.addEventListener(\"click\", () => {\n      Page.renderPage(project.dataset.managerKey, project.dataset.key);\n      Sidebar.#setCurrentProject(project);\n    });\n  }\n\n  static #setCurrentProject(project) {\n    if (Sidebar.#currentProject != null || Sidebar.#currentProject == project) {\n      Sidebar.#currentProject.style.backgroundColor = null;\n      Sidebar.#currentProject.style.color = window.getComputedStyle(document.body).getPropertyValue(\"--main-text-color\");\n    }\n    Sidebar.#currentProject = project;\n    Sidebar.#currentProjectKey = project.dataset.key;\n    Sidebar.#currentProject.style.backgroundColor = window.getComputedStyle(document.body).getPropertyValue(\"--selected-bg\");\n    Sidebar.#currentProject.style.color = window.getComputedStyle(document.body).getPropertyValue(\"--accent-color\");\n  }\n\n  static updateAmounts() {\n    Sidebar.#amounts.forEach((value, key) => {\n      key.textContent = value.getItemsAmount();\n    });\n  }\n\n  static #renderAddCategory(){\n\n    const div = document.createElement(\"div\");\n    div.classList.add(\"add-todo-container\");\n    div.classList.add(\"category-padding\");\n\n    const plus = document.createElement(\"p\");\n    plus.textContent = \"+\";\n    div.appendChild(plus);\n\n    const text = document.createElement(\"p\");\n    text.textContent = \"Add Category...\";\n    div.appendChild(text);\n\n    Sidebar.#sidebarContent.appendChild(div);\n\n    div.addEventListener(\"click\", () => {Popup.render(categoryPopup())});\n  }\n\n  static removeCurrentProject = () => {\n    Sidebar.#currentProject = null;\n    Sidebar.#currentProjectKey = null;\n  }\n}\n","import { ProjectManager } from \"./project-manager\";\nimport { Project } from \"./project\";\nimport { Sidebar } from \"./sidebar\";\nimport { Popup } from \"./popup\";\nimport { Storage } from \"./storage\";\n\nexport function projectPopup(key) {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"project-popup\");\n\n  const name = document.createElement(\"input\");\n  name.placeholder = \"Project name...\";\n  name.classList.add(\"popup-title\");\n  div.appendChild(name);\n\n  const saveBtn = document.createElement(\"button\");\n  saveBtn.classList.add(\"popup-save\");\n  saveBtn.textContent = \"Save\";\n  div.appendChild(saveBtn);\n\n  saveBtn.addEventListener(\"click\", ()=> {\n    const manager = ProjectManager.getManager(key);\n    new Project(manager, name.value);\n    Sidebar.populateProjects();\n    Popup.remove();\n    Storage.setStorage();\n  })\n\n  return div;\n}\n\n// then make it work prob in mangers\n","import { ProjectManager } from \"./project-manager\";\nimport { Project } from \"./project\";\nimport { Sidebar } from \"./sidebar\";\nimport { Popup } from \"./popup\";\nimport { Storage } from \"./storage\";\n\nexport function categoryPopup() {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"project-popup\");\n\n  const name = document.createElement(\"input\");\n  name.placeholder = \"Category name...\";\n  name.classList.add(\"popup-title\");\n  div.appendChild(name);\n\n  const saveBtn = document.createElement(\"button\");\n  saveBtn.classList.add(\"popup-save\");\n  saveBtn.textContent = \"Save\";\n  div.appendChild(saveBtn);\n\n  saveBtn.addEventListener(\"click\", ()=> {\n    new ProjectManager(name.value);\n    Sidebar.populateProjects();\n    Popup.remove();\n    Storage.setStorage();\n  })\n\n  return div;\n}\n\n// then make it work prob in mangers\n","import { Project } from \"./project.js\";\nimport { Sidebar } from \"./sidebar.js\";\nimport { Page } from \"./render-page.js\";\nimport { Storage } from \"./storage.js\";\n\nexport class ProjectManager {\n    // Can sort projects under different managers\n  static #managers = new Map();\n  #projects;\n  #name;\n  #id;\n\n  constructor(name, key = crypto.randomUUID()) {\n    // this managers projects\n    this.#projects = new Map();\n    this.#name = name;\n    this.#id = key;\n\n    \n    ProjectManager.#managers.set(this.#id, this);\n  }\n\n  addProject(project) {\n    this.#projects.set(project.getId(), project);\n  }\n\n  removeProject(key) {\n    if(key == Page.getPage()){\n      Page.removePage();\n      Sidebar.removeCurrentProject();\n    }\n    \n    this.#projects.delete(key);\n    Sidebar.populateProjects();\n    Storage.setStorage();\n  }\n\n  static removeManager(key){\n    if(ProjectManager.getManager(key).getProject(Page.getPage()) != undefined){\n      Page.removePage();\n      Sidebar.removeCurrentProject();\n    }\n\n    ProjectManager.#managers.delete(key);\n    Sidebar.populateProjects();\n    Storage.setStorage();\n  }\n\n  static getManagers = () => ProjectManager.#managers;\n  static getManager = (key) => ProjectManager.#managers.get(key);\n  static getProject (key){\n      for (const [managerKey, value] of ProjectManager.getManagers()) {\n    const project = value.getProject(key);\n    if (project) {\n      return project; \n    }\n  }\n  return null; \n  }\n  getAllProjects = () => this.#projects;\n  getProject = (key) => this.#projects.get(key);\n  getName = () => this.#name;\n  getId = () => this.#id;\n}\n","import { ProjectManager } from \"./project-manager.js\";\nimport { Page } from \"./render-page.js\";\nimport { TodoItem } from \"./todo-item.js\";\nimport { Storage } from \"./storage.js\";\n\nexport class Project {\n  #items;\n  #name;\n  #projectManager;\n  #order;\n  #id;\n\n  static #removeAnim = null;\n\n  constructor(projectManager, name, key = crypto.randomUUID()) {\n    if(projectManager == null && typeof projectManager.addProject !== \"function\") throw new Error(\"Invalid project manager\")\n\n    this.#projectManager = projectManager;\n    //this projects todo-items\n    this.#items = new Map();\n    //keys of todos in order\n    this.#order = [];\n    this.#name = name;\n    this.#id = key;\n\n    this.#projectManager.addProject(this);\n  }\n\n  addItem(item) {\n    const key = crypto.randomUUID();\n    this.#items.set(key, item);\n    this.#order.push(key);\n    Storage.setStorage();\n  }\n\n  removeItem(key) {\n    this.#items.delete(key);\n    const index = this.#order.indexOf(key);\n    this.#order.splice(index, 1);\n    clearTimeout(Project.#removeAnim)\n    Project.#removeAnim = setTimeout(()=> {\n      Page.loadPage();\n    },500)\n    Storage.setStorage();\n  }\n\n  //getters\n  getItems = () => this.#items;\n  getItem = (key) => this.#items.get(key);\n  getName = () => this.#name;\n  getItemsAmount = () => this.#items.size;\n  getOrder = () => this.#order;\n  getManager = () => this.#projectManager;\n  getId = ()=> this.#id;\n\n  //setters\n  setName = () => this.#name;\n  setOrder = (order) => this.#order = order;\n}\n","  export function toggleWidth(obj, startValue, endValue, animTime) {\n    startValue = parseInt(startValue);\n    endValue = parseInt(endValue);\n\n    const style = window.getComputedStyle(obj);\n    const currWidth = parseInt(style.width);\n    const keyframes = [{ width: currWidth + \"px\" }, { width: endValue + \"px\" }];\n\n    const animPercent = (currWidth - startValue) / (endValue - startValue);\n    const animDuration = animPercent == 0 ? animTime : animPercent * animTime;\n\n    const timing = {\n      duration: animDuration,\n      fill: \"forwards\",\n    };\n\n    obj.animate(keyframes, timing)\n  }","import \"./styles.css\";\nimport { TodoItem } from \"./todo-item.js\";\nimport { Project } from \"./project.js\";\nimport { ProjectManager } from \"./project-manager.js\";\nimport { Sidebar } from \"./sidebar.js\";\nimport { assignSidebarAnimation } from \"./hookupSidebarAnim.js\";\nimport { Storage } from \"./storage.js\";\n\nStorage.load();\n\n\n\nassignSidebarAnimation();\n\nSidebar.populateProjects();\n\n\n//save","  import { toggleWidth } from \"./toggleWidthAnim\";\n  import menuImg from \"./icons/menu.svg\"\n\n  export function assignSidebarAnimation() {\n    let animRef = null;\n\n\n    const animationTime = 200;\n    const sidebar = document.querySelector(\"#sidebar\");\n    const openBtn = document.querySelector(\"#open-btn\");\n    const closeBtn = document.querySelector(\"#close-btn\");\n\n    openBtn.src = menuImg;\n    closeBtn.src = menuImg;\n\n    const sidebarWidth = window\n      .getComputedStyle(document.body)\n      .getPropertyValue(\"--sidebar-width\");\n\n    openBtn.addEventListener(\"click\", () => {\n      toggleWidth(sidebar, \"0\", sidebarWidth, animationTime);\n\n      openBtn.style.transition = \"opacity 0.17s\";\n      openBtn.style.opacity = \"0%\";\n      animRef = setTimeout(() => {\n        animRef = null;\n        openBtn.style.visibility = \"collapse\";\n      }, 500);\n        setTimeout(()=> {\n\n        closeBtn.style.transition = \"opacity 0.4s\";\n        closeBtn.style.opacity = \"100%\";\n        },230)\n    });\n\n    closeBtn.addEventListener(\"click\", () => {\n      clearTimeout(animRef);\n      toggleWidth(sidebar, sidebarWidth, \"0\", animationTime);\n      openBtn.style.visibility = \"visible\";\n      closeBtn.style.transition = \"opacity 0.4s\";\n      closeBtn.style.opacity = \"0%\";\n      setTimeout(() => {\n        openBtn.style.transition = \"opacity 0.5s\";\n        openBtn.style.opacity = \"100%\";\n      }, 200);\n    });\n  }"],"names":["module","exports","styleElement","nonce","setAttribute","stylesInDOM","getIndexByIdentifier","identifier","result","i","length","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","indexByIdentifier","obj","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","push","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","styleSheet","cssText","firstChild","removeChild","appendChild","document","createTextNode","cssWithMappingToString","toString","this","map","content","needLayer","join","modules","dedupe","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","___CSS_LOADER_EXPORT___","element","createElement","setAttributes","attributes","insert","memo","style","target","styleTarget","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","insertStyleElement","styleTagTransform","apply","parentNode","removeStyleElement","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","call","scriptUrl","importScripts","location","currentScript","tagName","toUpperCase","src","scripts","getElementsByTagName","test","replace","p","nc","locals","Vaadin","featureFlags","experimentalMap","defineCustomElement","CustomElement","version","experimental","featureFlagKey","dash","is","split","slice","m","Set","add","size","set","value","forEach","elementClass","customElements","define","clear","defined","definedVersion","console","warn","error","Lumo","HTMLElement","t","ShadowRoot","ShadyCSS","nativeShadow","Document","CSSStyleSheet","s","Symbol","WeakMap","constructor","_$cssResult$","replaceSync","reduce","S","adoptedStyleSheets","litNonce","textContent","c","cssRules","r","getOwnPropertyDescriptor","h","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","trustedTypes","l","emptyScript","reactiveElementPolyfillSupport","u","toAttribute","Boolean","Array","fromAttribute","Number","parse","f","b","attribute","type","String","converter","reflect","useDefault","hasChanged","metadata","litPropertyMetadata","y","addInitializer","_$Ei","observedAttributes","finalize","_$Eh","keys","createProperty","state","create","wrapped","elementProperties","noAccessor","getPropertyDescriptor","requestUpdate","configurable","getPropertyOptions","Map","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","isArray","flat","reverse","unshift","toLowerCase","super","_$Ep","isUpdatePending","hasUpdated","_$Em","_$Ev","_$ES","Promise","enableUpdating","_$AL","_$E_","addController","_$EO","renderRoot","isConnected","hostConnected","removeController","delete","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","connectedCallback","disconnectedCallback","hostDisconnected","attributeChangedCallback","_$AK","_$ET","removeAttribute","_$Ej","hasAttribute","C","_$EP","has","_$Eq","reject","scheduleUpdate","performUpdate","shouldUpdate","willUpdate","hostUpdate","_$EM","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","Math","random","toFixed","createComment","v","_","RegExp","$","_$litType$","strings","values","T","for","E","A","createTreeWalker","P","V","lastIndex","exec","x","startsWith","N","parts","el","currentNode","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","name","ctor","H","I","L","append","indexOf","innerHTML","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","M","_$AV","_$AN","_$AD","_$AM","_$AU","creationScope","importNode","R","nextSibling","z","_$AI","_$Cv","_$AH","_$AA","_$AB","startNode","endNode","_$AR","iterator","O","insertBefore","_$AC","_$AP","setConnected","fill","j","arguments","toggleAttribute","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","render","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","ThemePropertyMixin","superClass","_theme","readOnly","oldValue","newValue","_set_theme","themeRegistry","themableInstances","themableTagNames","classHasThemes","matchesThemeFor","themeFor","some","themeForToken","getCssText","STYLE_ID","updateInstanceStylesOfType","componentClass","ref","instance","deref","component","querySelectorAll","__cssInjectorStyleSheet","baseStyles","themeStyles","getEffectiveStyles","getElementById","template","_template","updateInstanceStyles","updateComponentStyles","getStylesForThis","inheritingTagName","inheritingClass","registerStyles","Infinity","filter","flattenStyles","styleModules","include","hasThemes","themes","__themes","theme","themeStyle","hasMatchingStyle","suppressPostFinalizeStylesWarning","getAllThemes","getIncludePriority","moduleName","includePriority","getIncludedStyles","includedStyles","includeModuleId","includedTheme","find","getThemes","defaultModuleName","sort","themeA","themeB","ThemableMixin","WeakRef","styleEl","addStylesToTemplate","superClassThemes","parent","inheritedThemes","flatMap","lastIndexOf","addLumoGlobalStyles","styleTag","insertAdjacentElement","addGlobalThemeStyles","font","JSCompiler_renameProperty","workingURL","resolveDoc","CSS_URL_RX","ABS_URL","resolveUrl","url","baseURI","URL","pathname","href","implementation","createHTMLDocument","anchor","body","resolveCss","pre","post","pathFromUrl","substring","useShadow","ShadyDOM","supportsAdoptingStyleSheets","nativeCss","sheet","rootPath","Polymer","sanitizeDOMValue","setPassiveTouchGestures","strictTemplatePolicy","allowTemplateFromDomModule","legacyOptimizations","legacyWarnings","syncInitialRender","legacyUndefined","orderedComputed","cancelSyntheticClickEvents","removeNestedTemplates","fastDomIf","suppressTemplateNotifications","legacyNoObservedAttributes","useAdoptedStyleSheetsWithBuiltCSS","dedupeId","MixinFunction","__mixinApplications","__mixinSet","dedupingMixin","mixin","mixinApplications","mixinDedupeId","baseSet","extended","mixinSet","lcModules","setModule","findModule","DomModule","import","selector","old","namespace","register","assetpath","__assetpath","owner","HTMLImports","importForElement","ownerDocument","inst","SHADY_UNSCOPED_ATTR","importModule","styleForImport","importDoc","importCss","stylesFromModules","moduleIds","trim","stylesFromModule","_styles","_stylesFromModuleImports","stylesFromTemplate","e$","self","p$","unscoped","_unscopedStyle","_style","wrap","isPath","path","root","dotIndex","isDescendant","translate","newBase","normalize","args","info","last","caseMap","DASH_TO_CAMEL","CAMEL_TO_DASH","camelToDashCase","camel","microtaskCurrHandle","microtaskLastHandle","microtaskCallbacks","microtaskNodeContent","microtaskScheduled","microtaskNode","MutationObserver","len","cb","setTimeout","observe","characterData","microtask","run","callback","cancel","handle","idx","PropertiesChanged","createProperties","props","proto","_createPropertyAccessor","attributeNameForProperty","property","typeForProperty","_addPropertyToAttributeMap","__dataHasAccessor","assign","_definePropertyAccessor","__dataAttributes","attr","__data","_setPendingProperty","_invalidateProperties","__dataEnabled","__dataReady","__dataInvalid","__dataPending","__dataOld","__dataInstanceProps","__dataCounter","__serializing","_initializeProperties","ready","_flushProperties","_initializeInstanceProperties","_setProperty","_getProperty","ext","changed","_shouldPropertyChange","_isPropertyPending","_enableProperties","changedProps","_shouldPropertiesChange","_propertiesChanged","currentProps","oldProps","_attributeToProperty","_deserializeValue","_propertyToAttribute","_valueToNodeAttribute","node","str","_serializeValue","nativeProperties","isTrustedType","val","isHTML","isScript","isScriptURL","PropertyAccessors","createPropertiesForAttributes","a$","__dataProto","_initializeProtoProperties","_ensureAttribute","Date","outValue","isNaN","model","saveAccessorValue","_hasAccessor","templateExtensions","placeholderBugDetect","placeholderBug","copyAttributeWithTemplateEventPolicy","polymerTemplateEventAttributePolicy","createScript","dest","wrapTemplateExtension","replaceChild","findTemplateNode","nodeInfo","parentInfo","parentIndex","applyIdToMap","applyEventListener","events","_addMethodEventListenerToNode","applyTemplateInfo","parentTemplateInfo","templateInfo","_templateInfo","_parentTemplateInfo","TemplateStamp","_parseTemplate","outerTemplateInfo","nodeInfoList","nestedTemplate","stripWhiteSpace","_parseTemplateContent","_parseTemplateNode","noted","localName","hasInsertionPoint","_parseTemplateNestedTemplate","placeholder","hasPlaceholderBug","fixPlaceholder","_parseTemplateChildNodes","_parseTemplateNodeAttributes","next","Node","TEXT_NODE","childInfo","infoIndex","createDocumentFragment","attrs","from","_parseTemplateNodeAttribute","_contentForTemplate","_stampTemplate","HTMLTemplateElement","decorate","dom","__noInsertionPoint","nodes","nodeList","eventName","methodName","context","handler","_methodHost","detail","createNodeEventHandler","_addEventListenerToNode","_removeEventListenerFromNode","NOOP","TYPES","COMPUTE","REFLECT","NOTIFY","PROPAGATE","OBSERVE","READ_ONLY","COMPUTE_INFO","capitalAttributeRegex","ensureOwnEffectMap","cloneArrays","effects","protoFx","instFx","runEffects","hasPaths","extraArgs","ran","fxs","fx","lastRun","pathMatchesTrigger","trigger","fn","runEffectsForProperty","triggerPath","structured","isAncestor","wildcard","runObserverEffect","method","changedProp","dynamicFn","notifyPath","rootProperty","dispatchNotifyEvent","queueProperty","dispatchEvent","CustomEvent","runNotifyEffect","runReflectEffect","attrName","insertEffect","queue","order","start","end","mid","cmp","methodInfo","enqueueEffectsFor","computeEffects","runComputedEffect","runMethodEffect","computedProp","addBinding","kind","literal","bindings","binding","isCompound","shouldAddListener","event","negate","listenerEvent","listenerNegate","part","compoundIndex","addEffectForBindingPart","dependencies","evaluator","parseArg","_addTemplatePropertyEffect","runBindingEffect","source","__isPropertyEffectsClient","_setPendingPropertyOrPath","_enqueueClient","_evaluateBinding","storage","__dataCompoundStorage","computeBindingValue","_setUnmanagedPropertyToNode","applyBindingValue","setupCompoundStorage","literals","addNotifyListener","fromProp","toPath","fromPath","currentTarget","handleNotification","createMethodEffect","sig","effectFn","static","arg","_addPropertyEffect","_marshalArgs","emptyArray","IDENT","ARGUMENT","bindingRegex","OPEN_BRACKET","literalFromParts","parseMethod","expression","match","argList","rawArg","parseArgs","fc","getArgValue","notifySplices","array","splices","splicesData","indexSplices","_overrideLegacyUndefined","notifySplice","addedCount","removed","object","PropertyEffects","propertyEffectsBase","__dataClientsReady","__dataPendingClients","__dataToNotify","__dataLinkedPaths","__dataHasPaths","__dataHost","__dataTemp","__dataClientsInitialized","__computeEffects","__computeInfo","__reflectEffects","__notifyEffects","__propagateEffects","__observeEffects","__readOnly","__templateInfo","PROPERTY_EFFECT_TYPES","_registerHost","hostStack","effect","_removePropertyEffect","_hasPropertyEffect","_hasReadOnlyEffect","_hasNotifyEffect","_hasReflectEffect","_hasComputedEffect","shouldNotify","isPathNotification","links","link","computeLinkedPaths","propIsPath","prevProps","client","_flushClients","__enableOrFlushClients","_readyClients","clients","setProperties","setReadOnly","notifyProps","ordered","__orderedComputedDeps","curr","counts","total","infoForComputed","computedDeps","dependencyCounts","shift","computedByCurr","getComputedOrder","inputProps","runComputedEffects","_propagatePropertyChanges","notified","runNotifyEffects","_runEffectsForTemplate","baseRunEffects","propertyEffects","linkPaths","to","unlinkPaths","items","ret","pop","hadLength","deleteCount","floor","propPath","_createReadOnlyProperty","protectedSetter","_createPropertyObserver","_createMethodObserver","_createNotifyingProperty","_createReflectedProperty","_createComputedProperty","matches","pathValue","addPropertyEffect","createPropertyObserver","createMethodObserver","createNotifyingProperty","createReadOnlyProperty","createReflectedProperty","createComputedProperty","bindTemplate","_bindTemplate","instanceBinding","wasPreBound","__preBoundTemplateInfo","previous","lastChild","previousSibling","hostProps","setupBindings","_removeBoundDom","_parseBindings","origName","nestedTemplateInfo","isDomIf","isDomRepeat","hostProp","text","customEvent","notifyEvent","colon","signature","dynamicFns","registrations","PropertiesMixin","superPropertiesClass","superCtor","ownProperties","output","normalizeProperties","__ownProperties","_properties","__observedAttributes","__finalized","_finalizeClass","__properties","builtCSS","ElementMixin","polymerElementBase","createPropertyFromConfig","allProps","computed","reflectToAttribute","notify","observer","polymerElementVersion","observers","__ownObservers","createObservers","_prepareTemplate","cloneNode","protoTemplate","importPath","meta","importMeta","_importPath","_finalizeTemplate","__propertyDefaults","propertyDefaults","_canApplyPropertyDefault","_processStyleText","__polymerFinalized","klass","templateStyles","stylesWithImports","linkedStyles","stylesFromModuleImports","firstTemplateChild","firstElementChild","templateStyleIndex","templateStyle","prepareTemplate","_styleSheet","processElementStyles","_attachDom","shadyUpgradeFragment","flushInitial","updateStyles","styleSubtree","policy","LiteralString","assertValidTemplateStringParameters","string","acc","literalValue","html","htmlValue","raw","TypeError","PolymerElement","DEV_MODE_CODE_REGEXP","FlowClients","Flow","uncommentAndRun","log","maybeGatherAndSendStats","developmentMode","localStorage","getItem","hostname","productionMode","isDevelopmentMode","requestAnimationFrame","cancelAnimationFrame","requestIdleCallback","cancelIdleCallback","clearTimeout","queueMicrotask","debouncerQueue","Debouncer","debounce","debouncer","asyncModule","_cancelAsync","setConfig","_asyncModule","_callback","_timer","isActive","flush","directionSubscribers","alignDirs","documentDir","elementDir","getDocumentDir","documentElement","attributeFilter","DirMixin","dir","__isRTL","__restoreSubscription","__subscribe","newValueEqlDocDir","newValueEmptied","newDiffValue","__unsubscribe","includes","statsJob","developmentModeCallback","runIfDevelopmentMode","registered","doctype","deserializeAttributeValue","serializeAttributeValue","addValueToAttribute","SlotObserver","slot","_storedNodes","_connected","_scheduled","_boundSchedule","_schedule","connect","disconnect","_processNodes","currentNodes","assignedNodes","flatten","addedNodes","removedNodes","movedNodes","uniqueId","SlotController","EventTarget","generateId","prefix","slotName","config","initializer","multiple","useUniqueId","uniqueIdPrefix","slotInitializer","defaultId","initialized","initMultiple","initSingle","observeSlot","getSlotChild","initAddedNode","attachDefaultNode","initNode","children","getSlotChildren","defaultNode","Element","ELEMENT_NODE","initCustomNode","_node","teardownNode","__slotObserver","current","newNodes","isEmptyTextNode","TooltipController","setTarget","tooltipNode","ariaTarget","manual","opened","position","_position","shouldShow","__notifyChange","setAriaTarget","setContext","setManual","setOpened","setPosition","setShouldShow","HAS_NATIVE_TA","touchAction","GESTURE_KEY","HANDLED_OBJ","TOUCH_ACTION","MOUSE_EVENTS","MOUSE_WHICH_TO_BUTTONS","MOUSE_HAS_BUTTONS","MouseEvent","buttons","isMouseEvent","supportsPassive","PASSIVE_TOUCH","opts","IS_TOUCH_ONLY","navigator","userAgent","canBeDisabled","button","command","fieldset","input","keygen","optgroup","option","select","textarea","hasLeftMouseButton","ev","which","POINTERSTATE","mouse","mouseIgnoreJob","touch","scrollDecided","trackDocument","stateObj","movefn","upfn","untrackDocument","getComposedPath","noPatch","composedPath","gestures","recognizers","_findOriginalTarget","_handleNative","gobj","gs","changedTouches","touches","clientX","clientY","ta","firstTouchAction","shouldPrevent","dx","abs","dy","cancelable","preventDefault","prevent","_handleTouchAction","handled","skip","flow","reset","addListener","evType","recognizer","deps","dep","gd","_count","setTouchAction","_add","recog","emits","emit","_fire","Event","bubbles","composed","defaultPrevented","preventer","sourceEvent","evName","_findRecognizerByEvent","downupFire","trackHasMovedEnough","started","trackFire","secondlast","moves","lastmove","ddx","ddy","hover","elementFromPoint","oldNext","deepTargetFind","trackForward","bcr","getBoundingClientRect","pageX","pageY","left","right","top","bottom","isSyntheticClick","mousedown","touchstart","touchend","addMove","move","ct","touchmove","NaN","click","appliedClassMixins","dedupeMixin","wasMixinPreviouslyApplied","mixedClass","DisabledMixin","superclass","disabled","sync","_disabledChanged","_setAriaDisabled","KeyboardMixin","_onKeyDown","_onKeyUp","_onEnter","_onEscape","_event","ActiveMixin","_activeKeys","_shouldSetActive","_setActive","active","keyboardActive","FocusMixin","_keyboardActive","_shouldSetFocus","_setFocused","_shouldRemoveFocus","focused","TabindexMixin","tabindex","_lastTabIndex","oldDisabled","__shouldAllowFocusWhenDisabled","_tabindexChanged","focus","DelegateFocusMixin","autofocus","focusElement","_boundOnBlur","_onBlur","bind","_boundOnFocus","_onFocus","blur","_focusElementChanged","oldElement","_addFocusListeners","__forwardTabIndex","_removeFocusListeners","stopPropagation","tabIndex","stylesMap","SlotStylesMixin","slotStyles","__applySlotStyles","getRootNode","rootStyles","getRootStyles","insertStyles","DelegateStateMixin","stateTarget","delegateAttrs","delegateProps","_createDelegateAttrsObserver","_createDelegatePropsObserver","_stateTargetChanged","_ensureAttrsDelegated","_ensurePropsDelegated","_delegateAttribute","_delegateProperty","_delegateAttrsChanged","_delegatePropsChanged","InputMixin","inputElement","_boundOnInput","_onInput","_boundOnChange","_onChange","_hasValue","_inputElementValueProperty","_inputElementValue","_addInputListeners","_removeInputListeners","_forwardInputValue","_inputElementChanged","oldInput","__userInput","isTrusted","_toggleHasValue","hasValue","_valueChanged","newVal","oldVal","CheckedMixin","checked","_toggleChecked","attributeToTargets","getAttrMap","cleanAriaIDReference","storeAriaIDReference","attributeMap","setAriaIDReference","newId","oldId","fromUser","storedValues","removeValueFromAttribute","attributeValue","FieldAriaController","__required","__target","__setAriaRequiredAttribute","__setLabelIdToAriaAttribute","__labelId","__labelIdFromUser","__setErrorIdToAriaAttribute","__errorId","__setHelperIdToAriaAttribute","__helperId","setAriaLabel","__label","setRequired","required","label","__setAriaLabelToAttribute","setLabelId","labelId","oldLabelId","setErrorId","errorId","setHelperId","helperId","restoreGeneratedAriaIDReference","oldErrorId","oldHelperId","ControllerMixin","__controllers","controller","region","alertDebouncer","clip","SlotChildObserveController","__updateNodeId","restoreDefaultNode","updateDefaultNode","observeNode","__nodeObserver","mutations","mutation","isCurrentNodeMutation","parentElement","childList","subtree","__hasContent","hasContent","isFirstNode","ErrorController","setErrorMessage","errorMessage","setInvalid","invalid","errorNode","hasError","hidden","timeout","announce","HelperController","setHelperText","helperText","helperNode","LabelController","setLabel","labelNode","LabelMixin","_labelController","_labelId","_labelNode","_labelChanged","ValidateMixin","manualValidation","validate","isValid","checkValidity","_setInvalid","valid","_shouldSetInvalid","_invalid","_requestValidation","FieldMixin","accessibleName","accessibleNameRef","_fieldAriaController","_helperController","_errorController","__labelChanged","__helperChanged","_errorNode","_helperNode","hasHelper","_accessibleNameChanged","_accessibleNameRefChanged","hasLabel","_errorMessageChanged","_helperTextChanged","_ariaTargetChanged","_requiredChanged","_invalidChanged","InputController","LabelledInputController","labelController","__preventDuplicateLabelClick","__initLabel","inputClickHandler","stopImmediatePropagation","CheckboxMixin","indeterminate","readonly","_setType","_boundOnInputClick","_onInputClick","_setInputElement","_setFocusElement","__readonlyChanged","hasFocus","_checkedChanged","__oldChecked","_onRequiredIndicatorClick","Checkbox","_tooltipController","ownKeys","enumerableOnly","symbols","sym","_objectSpread2","_defineProperty","getOwnPropertyDescriptors","defineProperties","_typeof","writable","_extends","pattern","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","on","off","msMatchesSelector","webkitMatchesSelector","getParentOrHost","closest","ctx","includeCTX","_throttleTimeout","R_SPACE","toggleClass","classList","className","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","getWindowScrollingElement","scrollingElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","elRect","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","includeDragEl","currentChild","display","Sortable","ghost","dragged","draggable","lastElementChild","previousElementSibling","nodeName","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","isRectEqual","rect1","rect2","round","throttle","ms","scrollBy","jQuery","Zepto","getChildContainingRectFromElement","ghostEl","rect","child","_rect$left","_rect$top","_rect$right","_rect$bottom","animated","childRect","min","max","expando","getTime","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","pluginName","pluginEvent","sortable","evt","_this","eventCanceled","eventNameGlobal","initializePlugins","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","_excluded","_ref","originalEvent","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_objectWithoutProperties","dragEl","parentEl","rootEl","nextEl","lastDownEl","cloneEl","cloneHidden","dragStarted","moved","putSortable","activeSortable","oldIndex","oldDraggableIndex","newIndex","newDraggableIndex","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","targetEl","toEl","fromEl","extraEventProperties","onName","charAt","substr","createEvent","initEvent","pullMode","lastPutMode","allEventProperties","activeGroup","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","targetMoveDistance","ghostRelativeParent","awaitingDragStarted","ignoreNextClick","sortables","pastFirstInvertThresh","isCircumstantialInvert","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","touchingSideChild2","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","nearestEmptyInsertDetectEvent","nearest","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_detectNearestEmptySortable","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","animationCallbackId","animationStates","store","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","animation","easing","setData","dataTransfer","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","captureAnimationState","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","arr","indexOfObject","animateAll","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","sqrt","pow","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","offsetWidth","repaint","_onMove","dragRect","targetRect","willInsertAfter","retVal","onMoveFn","onMove","draggedRect","related","relatedRect","_disableDraggable","_unsilent","_generateId","sum","charCodeAt","_nextTick","_cancelNextTick","contains","_getDirection","pointerType","originalTarget","inputs","_saveInputCheckedState","isContentEditable","criteria","_prepareDragStart","dragStartFn","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","_onTouchMove","_onDragStart","selection","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","ghostMatrix","relativeScrollOffset","cssMatrix","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","revert","vertical","isOwner","canSort","fromSortable","completedFired","dragOverEvent","_ignoreWhileAnimating","completed","elLastChild","lastElRect","childContainingRect","_ghostIsLast","firstElRect","_ghostIsFirst","targetBeforeFirstSwap","sibling","differentLevel","differentRowCol","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_dragElInRowColumn","side1","scrolledPastTop","scrollBefore","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","_getSwapDirection","dragIndex","nextElementSibling","after","moveVector","extra","axis","insertion","_showClone","_offMoveEvents","_offUpEvents","clearInterval","save","dropEffect","_globalDragOver","toArray","useAnimation","destroy","utils","extend","dst","nextTick","cancelNextTick","detectDirection","_len","_key","scrollEl","scrollRootEl","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","autoScrolls","scrolling","clearAutoScrolls","autoScroll","pid","clearPointerElemChangedInterval","isFallback","scroll","scrollCustomFn","sens","scrollSensitivity","speed","scrollSpeed","scrollThisInstance","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","scrollOffsetY","scrollOffsetX","bubbleScroll","drop","toSortable","onSpill","Revert","Remove","startIndex","dragStart","_ref2","_ref3","_ref4","parentSortable","AutoScroll","forceAutoScrollFallback","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","dragOverBubble","nulling","ogElemScroller","newElem","Popup","popup","showModal","dialogDimensions","TodoItem","project","title","description","dueDate","priority","addItem","getProject","getTitle","getDescription","getDueDate","getPriority","setProject","setTitle","setDescription","setDueDate","setPriority","Storage","setItem","load","isLoaded","firstLoad","manager","ProjectManager","getManager","Project","todo","desc","prio","setLoaded","myProjects","myProject","toISOString","setStorage","managers","projects","todos","getManagers","managerKey","managerValues","getName","getAllProjects","projKey","projectValues","getItems","todoKey","todoValues","todoPopup","div","todoTitle","saveBtn","maxLength","prio1","prio2","prio3","Page","loadPage","renderPage","timing","opacity","opacityAnimation","removePage","onSort","ele","dataset","setOrder","getOrder","todoDiv","checkBox","todoContentDiv","removeItem","Sidebar","updateAmounts","plus","populateProjects","projManager","managerDiv","categoryDiv","plusDeleteDiv","deleteCategory","projectPopup","removeManager","projectDiv","projectTitle","amountRemoveDiv","amount","removeProject","proj","backgroundColor","color","getPropertyValue","getItemsAmount","categoryPopup","crypto","randomUUID","addProject","getId","getPage","removeCurrentProject","projectManager","setName","toggleWidth","startValue","endValue","animTime","currWidth","keyframes","animPercent","animRef","sidebar","openBtn","closeBtn","sidebarWidth","transition","visibility","assignSidebarAnimation"],"sourceRoot":""}